"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["25935"],{81069:function(e,s,n){e.exports=n.p+"static/image/VP6_01Flow.9e815907.png"},72946:function(e,s,n){e.exports=n.p+"static/image/VP6_equalizeHist.573675a3.png"},92457:function(e,s,n){e.exports=n.p+"static/image/VP6_filtered_sepFilter2d.e70ec211.png"},5396:function(e,s,n){e.exports=n.p+"static/image/VP6_morphology.f2fa4fd8.png"},64937:function(e,s,n){e.exports=n.p+"static/image/VP6_noise_gaussian.155549f2.png"},98506:function(e,s,n){n.r(s);var i=n(85893),r=n(50065),l=n(95895),o=n(64937),t=n(92457),a=n(5396),c=n(72946),h=n(81069);function p(e){let s=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",span:"span",ul:"ul",li:"li",ol:"ol",strong:"strong",img:"img"},(0,r.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.h1,{id:"basic-image-processing-sample",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#basic-image-processing-sample",children:"#"}),"Basic Image Processing Sample"]}),"\n",(0,i.jsx)(l.Z,{}),"\n",(0,i.jsxs)(s.p,{children:["The basic image processing sample script is located in the ",(0,i.jsx)(s.code,{children:"ucp_tutorial/vp/vp_samples/script/01_basic_processing"})," directory.\nThe sample shows how to perform related processing on the picture, including picture filtering, picture morphological processing,\npicture equalization, the detailed implementation method, please combine with the sample source code to compare the practice."]}),"\n",(0,i.jsx)(s.p,{children:"In this sample, direct execution of the sample script performs the default picture processing flow: filtering with sepFilter2D, detecting morphological edges, and picture equalization.\nIf you want to change the processing flow of the picture, you can control the flow of the execution by appending parameter when executing the sample script, the rules for appending parameters are as follows:"}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-c",meta:"",children:[(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"sh run_basic_process.sh [filter type] [morphology type]"})}),"\n"]})})}),"\n",(0,i.jsx)(s.p,{children:"Included among these:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"filter type: optional parameter, filter operator."}),"\n",(0,i.jsx)(s.li,{children:"morphology type: optional parameter, morphological operatio."}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["A list of all available append parameters can also be obtained with the append ",(0,i.jsx)(s.code,{children:"-help"})," command."]}),"\n",(0,i.jsxs)(s.p,{children:["The result of the picture processing is saved in the ",(0,i.jsx)(s.code,{children:"vp_samples/script/01_basic_processing"})," directory after the algorithm is executed, and the contents of the generated object for this sample are as follows:"]}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-text",meta:"",children:[(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"vp_samples"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"\u2514\u2500\u2500 script                               // Picture data catalog"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2514\u2500\u2500 01_basic_processing"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        \u251C\u2500\u2500 filtered_image.jpg           // Filtered picture"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        \u251C\u2500\u2500 morphology_image.jpg         // Morphological transformed picture"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        \u2514\u2500\u2500 equalizeHist_image.jpg       // Histogram equalized picture"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,i.jsx)(s.p,{children:"The execution flow of the sample is shown below:"}),"\n",(0,i.jsx)("img",{src:h,alt:"VP6_01Flow",width:"800"}),"\n",(0,i.jsx)(s.p,{children:"As shown in the execution flowchart of the sample, the processing of the picture by the sample can be roughly divided into the following four stages:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Filtering of the noised picture. According to the different filtering algorithms, they can be categorized into bilinear filtering, box filtering, gaussian filtering, median filtering, two-dimensional filtering, and separated two-dimensional filtering."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Morphological processing of filtered picture. According to the processing methods can be categorized as corrosion, expansion, open operation, closed operation, and detection of edges."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Histogram equalization of morphologically processed pictures."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Image filter"})}),"\n",(0,i.jsxs)(s.p,{children:["In the image filter section, the sample encapsulates the six filtering algorithms in the corresponding functions, and uses std::map to establish the connection between the strings and the filtering functions.\nAs shown below, the parameter ",(0,i.jsx)(s.code,{children:"filter_op"})," holds the mapping between the keywords and the functions."]}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-c",meta:"",children:[(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"typedef"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"int32_t"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"example_fn)(hbVPImage "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"src"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" hbVPImage "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"dst);"})]}),"\n",(0,i.jsx)(s.span,{className:"line line-number"}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" std::map"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"std::string"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" example_fn"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" filter_op "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"bilateralFilter"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" bilateral_filter}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"boxFilter"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" box_filter}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"filter2D"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" filter2D}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"gaussianBlur"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" gaussian_blur}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"medianBlur"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" median_blur}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"sepFilter2D"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" sep_filter2D}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"default"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" sep_filter2D}};"})]}),"\n"]})})}),"\n",(0,i.jsx)(s.p,{children:"During the execution of the sample code, according to the different append keywords in the argv parameter, it is automatically adapted to the corresponding filtering algorithm. The core logic is as follows:"}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-c",meta:"",children:[(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"/**==============================================================="})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" * process noise image with filter operate"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" * ===============================================================*/"})}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (argc "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ret "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" filter_op[argv["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]](src"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" dst);"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"LOGE_AND_RETURN_IF("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" ret"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" HB_UCP_INVALID_ARGUMENT"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"                     "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"filter operate failed"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:")"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"} "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ret "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" filter_op["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"default"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"](src"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" dst);"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"LOGE_AND_RETURN_IF("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" ret"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" HB_UCP_INVALID_ARGUMENT"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"                     "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"filter operate failed"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:")"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n"]})})}),"\n",(0,i.jsx)(s.p,{children:"Take sepFilter2D filtering algorithm as an example, the processing effect on the noise-added pictures is shown as belows:"}),"\n",(0,i.jsx)(s.p,{children:"Before filtering:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image",src:o})}),"\n",(0,i.jsx)(s.p,{children:"After filtering:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image",src:t})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Morphological process"})}),"\n",(0,i.jsxs)(s.p,{children:["Morphological processing operators include erosion, dilation, open and close operations, top-hat, black-hat, and so on. In this example, by calling the ",(0,i.jsx)(s.code,{children:"hbVPDilate"})," and ",(0,i.jsx)(s.code,{children:"hbVPErode"})," interfaces.\nThis example encapsulates some of these morphological functions, please check the function source code for the specific implementation. Similar to the filtering session, the ",(0,i.jsx)(s.code,{children:"morphology_op"})," parameter is created here to store the link between the string and the morphology function. The code is as follows:"]}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-c",meta:"",children:[(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" std::map"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"std::string"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" example_fn"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" morphology_op "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"dilate"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" dilate}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"erode"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" erode}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"open"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" open}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"close"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" close}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"edge"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" edge}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"default"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" edge}};"})]}),"\n"]})})}),"\n",(0,i.jsx)(s.p,{children:"The same string adaptation is used for scheduling morphological functions, and the core logic is as follows:"}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-c",meta:"",children:[(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"/**==============================================================="})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" * morphology operate"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" * ===============================================================*/"})}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (argc "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ret "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" morphology_op[argv["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]](src"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" dst);"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"LOGE_AND_RETURN_IF("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" ret"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" HB_UCP_INVALID_ARGUMENT"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"                     "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"morphology operate failed"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:")"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"} "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ret "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" morphology_op["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"default"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"](src"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" dst);"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"LOGE_AND_RETURN_IF("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" ret"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" HB_UCP_INVALID_ARGUMENT"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"                     "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"morphology operate failed"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:")"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n"]})})}),"\n",(0,i.jsxs)(s.p,{children:["Taking the morphological gradient edge algorithm (the ",(0,i.jsx)(s.code,{children:"edge"})," function in the example) as an example, the effect on the filtered image is shown as belows:"]}),"\n",(0,i.jsx)(s.p,{children:"Filtered picture:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image",src:t})}),"\n",(0,i.jsx)(s.p,{children:"Morphological gradient edge detection picture:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image",src:a})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Histogram equalization"})}),"\n",(0,i.jsxs)(s.p,{children:["In order to enhance the contrast and bring out the details of the picture, the sample performs histogram equalization on the morphology processed picture through the ",(0,i.jsx)(s.code,{children:"equalizeHist"})," function. The equalization effect is shown as belows:"]}),"\n",(0,i.jsx)(s.p,{children:"Original picture:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image",src:a})}),"\n",(0,i.jsx)(s.p,{children:"Equalized effect picture:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image",src:c})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,r.ah)(),e.components);return s?(0,i.jsx)(s,Object.assign({},e,{children:(0,i.jsx)(p,e)})):p(e)}s.default=d,d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["3.0.22%2Fen%2Fguide%2Fucp%2Fvp%2Fvp6_sample%2Fop_sample_basic_process.mdx"]={toc:[],title:"Basic Image Processing Sample",frontmatter:{}}},95895:function(e,s,n){n(39710);var i=n(85893),r=n(67294),l=n(45687);n(20388);let o={"zh-CN":e=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${e.minutes>=1?`${Math.ceil(e.minutes)} \u{5206}\u{949F}`:"\u5C0F\u4E8E 1 \u5206\u949F"}`,"en-US":e=>`Estimated reading time: ${e.minutes>=1?`${Math.ceil(e.minutes)} minutes`:"less than 1 minute"}`};function t(e,s,n){let i=Object.keys(o).includes(s)?s:n;return o[i](e)}s.Z=e=>{let{defaultLocale:s="en-US"}=e,n=(0,l.Vi)().page.readingTimeData,o=(0,l.Jr)(),a=(0,l.e7)(),[c,h]=(0,r.useState)(t(n,o,s));return(0,r.useEffect)(()=>{h(t(n,o,s))},[o,n]),(0,i.jsx)("span",{"data-dark":String(a),className:"rp-reading-time",children:c})}}}]);