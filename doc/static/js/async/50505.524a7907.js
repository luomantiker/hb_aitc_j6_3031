"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["50505"],{97449:function(e,s,n){e.exports=n.p+"static/image/VP6_decode_encode_process.13bd78f7.png"},68262:function(e,s,n){e.exports=n.p+"static/image/VP6_encode_decode_process.db9f7cae.png"},82530:function(e,s,n){n.r(s);var r=n(85893),o=n(50065),i=n(95895),l=n(68262),c=n(97449);function a(e){let s=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",h2:"h2",h3:"h3",img:"img",ol:"ol",code:"code",pre:"pre",span:"span"},(0,o.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.h1,{id:"video-encoding-and-decoding-sample",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#video-encoding-and-decoding-sample",children:"#"}),"Video Encoding and Decoding Sample"]}),"\n",(0,r.jsx)(i.Z,{}),"\n",(0,r.jsx)(s.p,{children:"The video encoding and decoding sample demonstrates typical use cases of video processing with UCP, including the following:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Decoding Sample Based on UCP Encoding Output: This showcases how to decode a stream generated by the UCP encoder, providing a complete encoding-decoding workflow demonstration."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Encoding Sample Based on UCP Decoding Output: This demonstrates decoding from a provided stream file, followed by re-encoding the decoded data using the UCP encoder. It is suitable for scenarios involving the processing and transformation of existing video data."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"The sample scripts allow to configure encoding parameters according to their needs, enabling optimization of video quality, compression ratio, and performance to suit different application scenarios.\nThrough this sample, you can learn and practice how to use the UCP framework for video encoding and decoding operations. The implementation details can be fine-tuned according to specific needs, and the accompanying source code provides further guidance for practical application."}),"\n",(0,r.jsxs)(s.h2,{id:"function-overview",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#function-overview",children:"#"}),"Function Overview"]}),"\n",(0,r.jsxs)(s.h3,{id:"decoding-sample-based-on-ucp-encoding-output",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#decoding-sample-based-on-ucp-encoding-output",children:"#"}),"Decoding Sample Based on UCP Encoding Output"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image",src:l})}),"\n",(0,r.jsx)(s.p,{children:"This sample demonstrates a complete video encoding and decoding process.\nThe input video sequence is in YUV420 format, and after encoding it with the H.265 encoder,\nthe corresponding stream is generated. During the encoding process, each frame's stream is fed into\nthe decoder in real-time, and after H.265 decoding, the corresponding video stream is obtained. It's important\nto note that the video encoding process is lossy, meaning that the YUV video sequence obtained\nafter decoding is not identical to the original input sequence."}),"\n",(0,r.jsx)(s.p,{children:"The steps involved in the sample code are as follows (refer to the source code for detailed implementation):"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Prepare Encoder and Decoder Parameters."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Create Encoder and Decoder Contexts."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Prepare Encoder Input Memory."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Feed Input YUV420 Video into the Encoder: The YUV420 video sequence is sent frame by frame into the encoder for encoding. Once the encoding task is completed, the generated H.265 bitstream is sent to the decoder for decoding."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Free Input Memory After Encoding and Decoding."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Release Encoder and Decoder Contexts."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"encoding-sample-based-on-ucp-decoding-output",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#encoding-sample-based-on-ucp-decoding-output",children:"#"}),"Encoding Sample Based on UCP Decoding Output"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image",src:c})}),"\n",(0,r.jsx)(s.p,{children:"This sample demonstrates how to decode an H.265 bitstream file and, after decoding, use the UCP encoder\nto re-encode the video. This is useful for scenarios where existing video data needs to be\nprocessed and converted.\nThe input video sequence is an H.265 bitstream, which is first decoded into a YUV420 format video\nsequence using an H.265 decoder. Once decoded, the YUV420 video sequence is fed frame by frame\ninto the encoder, where it is re-encoded back into an H.265 bitstream."}),"\n",(0,r.jsx)(s.p,{children:"The steps involved in the code can be summarized as follows (refer to the source code for detailed implementation):"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Prepare Decoder and Encoder Parameters."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Create Decoder and Encoder Contexts."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Prepare Decoder Input Memory."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Use Parse Functions for Decoding: Frame by frame, parse the H.265 bitstream using avformat functions and send each frame to the decoder. Once decoding is complete, send the resulting YUV data frame by frame to the encoder."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Release Input Memory."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Release Encoder and Decoder Contexts."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h2,{id:"run-guide",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#run-guide",children:"#"}),"Run Guide"]}),"\n",(0,r.jsxs)(s.p,{children:["The video encoding and decoding sample scripts are located in the ",(0,r.jsx)(s.code,{children:"ucp_tutorial/vp/vp_samples/script/06_codec"})," directory.\nThe directory includes the following scripts:"]}),"\n",(0,r.jsx)(s.pre,{className:"code",children:(0,r.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,r.jsxs)(s.code,{className:"language-text",meta:"",children:[(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"06_codec"})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 README.md"})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"\u2514\u2500\u2500 run_codec.sh "})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,r.jsx)(s.p,{children:"The command line contents in the run_codec.sh script are as follows\uFF1A"}),"\n",(0,r.jsx)(s.pre,{className:"code",children:(0,r.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,r.jsxs)(s.code,{className:"language-bash",meta:"",children:[(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"bin"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"../aarch64/bin/codec_sample"})]}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"lib"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"../aarch64/lib"})]}),"\n",(0,r.jsx)(s.span,{className:"line line-number"}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" LD_LIBRARY_PATH"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"${lib}"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"${LD_LIBRARY_PATH}"})]}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" PATH"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"${bin}"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"${PATH}"})]}),"\n",(0,r.jsx)(s.span,{className:"line line-number"}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"${bin} $*"})}),"\n"]})})}),"\n",(0,r.jsxs)(s.p,{children:["When executing, navigate to the ",(0,r.jsx)(s.code,{children:"vp_samples/script/06_codec"})," directory and simply run run_codec.sh.\nThe execution method and log output are as follows:"]}),"\n",(0,r.jsx)(s.pre,{className:"code",children:(0,r.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,r.jsxs)(s.code,{className:"language-bash",meta:"",children:[(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"#!/bin/sh"})}),"\n",(0,r.jsx)(s.span,{className:"line line-number"}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"root@j6dvb:/userdata/app/horizon/vp_samples/script/06_codec#"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"sh"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"run_codec.sh"})]}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[I]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"5282"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"-13]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":57:14:937][codec_helper.cpp:72][codec_sample][VP_CODEC] Calling encode_decode_process and decode_encode_process with rc_mode: default, gop_preset: default"})]}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[I]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"5282"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"-13]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":57:14:937][codec_helper.cpp:77][codec_sample][VP_CODEC] "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"******"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Encode and Decode process start"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"******"})]}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[I]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"5282"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"-13]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":57:14:940][codec_helper.cpp:42][codec_sample][VP_CODEC] Using default rate control mode: H265Cbr"})]}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[I]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"5282"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"-13]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":57:14:940][codec_helper.cpp:65][codec_sample][VP_CODEC] Using default gopPresetIdx: 2"})]}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[I]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"5282"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"-13]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":57:14:974][codec_helper.cpp:82][codec_sample][VP_CODEC] "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"******"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Encode and Decode process finish"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"******"})]}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[I]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"5282"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"-13]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":57:14:974][codec_helper.cpp:84][codec_sample][VP_CODEC] "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"******"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Decode and Encode process start"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"******"})]}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[I]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"5282"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"-13]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":57:14:974][codec_helper.cpp:42][codec_sample][VP_CODEC] Using default rate control mode: H265Cbr"})]}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[I]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"5282"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"-13]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":57:14:974][codec_helper.cpp:65][codec_sample][VP_CODEC] Using default gopPresetIdx: 2"})]}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[I]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"5282"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"-13]["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":57:15:007][codec_helper.cpp:89][codec_sample][VP_CODEC] "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"******"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Decode and Encode process finish"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"******"})]}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"..."})}),"\n"]})})}),"\n",(0,r.jsx)(s.p,{children:"In this sample, running the script directly will use the default parameters for H.265 encoding.\nIf you wish to modify the H.265 encoding parameters, you can append additional parameters when executing\nthe script to control the execution process. The rules for appending parameters are as follows:"}),"\n",(0,r.jsx)(s.pre,{className:"code",children:(0,r.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,r.jsxs)(s.code,{className:"language-bash",meta:"",children:[(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"sh"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"run_codec.sh"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" [rc_mode] [gop_preset_idx]"})]}),"\n"]})})}),"\n",(0,r.jsxs)(s.p,{children:["Among the parameters, rc_mode is optional and is used to specify the rate control mode for the H.265 encoder,\nwhile ",(0,r.jsx)(s.code,{children:"gop_preset_idx"})," is also optional and is used to specify the GOP (Group of Pictures)\nstructure preset for the H.265 encoder."]}),"\n",(0,r.jsxs)(s.p,{children:["Additionally, you can use the ",(0,r.jsx)(s.code,{children:"-help"})," command to view a list of all available parameters\nthat can be appended. The encoding parameters ",(0,r.jsx)(s.code,{children:"rc_mode"})," and ",(0,r.jsx)(s.code,{children:"gop_preset_idx"})," are defined as follows:\uFF1A"]}),"\n",(0,r.jsx)(s.pre,{className:"code",children:(0,r.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,r.jsxs)(s.code,{className:"language-c",meta:"",children:[(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" std::set"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"std::string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" rc_mode_set "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"H265Cbr"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"H265Vbr"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"H265FixQp"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})]}),"\n",(0,r.jsx)(s.span,{className:"line line-number"}),"\n",(0,r.jsxs)(s.span,{className:"line line-number",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" std::set"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"std::string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" gop_preset_idx_set "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"GOP_PRESET_IDX1"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"GOP_PRESET_IDX2"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"GOP_PRESET_IDX3"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})]}),"\n"]})})}),"\n",(0,r.jsxs)(s.h2,{id:"description-of-the-results",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#description-of-the-results",children:"#"}),"Description of the results"]}),"\n",(0,r.jsxs)(s.p,{children:["After the execution of the sample, the image processing result will be saved in\nthe ",(0,r.jsx)(s.code,{children:"vp_samples/script/06_codec"})," directory, and the content of the generated object is as\nfollows under the default parameter of this sample\uFF1A"]}),"\n",(0,r.jsx)(s.pre,{className:"code",children:(0,r.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,r.jsxs)(s.code,{className:"language-text",meta:"",children:[(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"vp_samples"})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"\u2514\u2500\u2500 script                                                        // Image Data Catalogue"})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2514\u2500\u2500 06_codec"})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      \u251C\u2500\u2500 encode_decode_640x480_yuv420p_default_default.h265      // Decoding sample based on UCP encoding results, encoder output stream file"})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      \u251C\u2500\u2500 encode_decode_640x480_yuv420p_default_default.yuv       // Decoding sample based on UCP encoding results, decoder output YUV file"})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      \u251C\u2500\u2500 decode_encode_640x480_yuv420p_default_default.yuv       // Decoding sample based on an external stream file, decoder output YUV file"})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      \u2514\u2500\u2500 decode_encode_640x480_yuv420p_default_default.h265      // Decoding sample based on an external stream file, encoder output stream file"})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Taking decoding as an sample, the decoding effect of the first frame and the nth frame is shown as follows\uFF1A"})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,r.jsx)(s.span,{className:"line line-number",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"![image](../../../../../image/en/ucp/vp/VP6_h265_decode.png)"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"}})})]})})})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,o.ah)(),e.components);return s?(0,r.jsx)(s,Object.assign({},e,{children:(0,r.jsx)(a,e)})):a(e)}s.default=t,t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["3.0.22%2Fen%2Fguide%2Fucp%2Fvp%2Fvp6_sample%2Fop_sample_codec.mdx"]={toc:[{id:"function-overview",text:"Function Overview",depth:2},{id:"decoding-sample-based-on-ucp-encoding-output",text:"Decoding Sample Based on UCP Encoding Output",depth:3},{id:"encoding-sample-based-on-ucp-decoding-output",text:"Encoding Sample Based on UCP Decoding Output",depth:3},{id:"run-guide",text:"Run Guide",depth:2},{id:"description-of-the-results",text:"Description of the results",depth:2}],title:"Video Encoding and Decoding Sample",frontmatter:{}}},95895:function(e,s,n){n(39710);var r=n(85893),o=n(67294),i=n(45687);n(20388);let l={"zh-CN":e=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${e.minutes>=1?`${Math.ceil(e.minutes)} \u{5206}\u{949F}`:"\u5C0F\u4E8E 1 \u5206\u949F"}`,"en-US":e=>`Estimated reading time: ${e.minutes>=1?`${Math.ceil(e.minutes)} minutes`:"less than 1 minute"}`};function c(e,s,n){let r=Object.keys(l).includes(s)?s:n;return l[r](e)}s.Z=e=>{let{defaultLocale:s="en-US"}=e,n=(0,i.Vi)().page.readingTimeData,l=(0,i.Jr)(),a=(0,i.e7)(),[t,d]=(0,o.useState)(c(n,l,s));return(0,o.useEffect)(()=>{d(c(n,l,s))},[l,n]),(0,r.jsx)("span",{"data-dark":String(a),className:"rp-reading-time",children:t})}}}]);