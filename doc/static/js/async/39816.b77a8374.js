"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["39816"],{92566:function(e,s,n){e.exports=n.p+"static/image/new_dataset.d37cd420.png"},79209:function(e,s,n){e.exports=n.p+"static/image/voxelizition.2b83f1ee.png"},71880:function(e,s,n){n.r(s);var o=n(85893),i=n(50065),r=n(95895),t=n(92566),l=n(79209);function a(e){let s=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",ol:"ol",li:"li",pre:"pre",code:"code",span:"span"},(0,i.ah)(),e.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.h1,{id:"faq",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#faq",children:"#"}),"FAQ"]}),"\n",(0,o.jsx)(r.Z,{}),"\n",(0,o.jsxs)(s.h2,{id:"unable-to-import-hat-in-docker-container",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#unable-to-import-hat-in-docker-container",children:"#"}),"Unable to import hat in Docker container?"]}),"\n",(0,o.jsx)(s.p,{children:"If you get a GPU RuntimeError when running an example in GPU Docker, or a ModuleNotFoundError: No module named 'hat',\nSegmentation fault (core dumped), or something like that when loading a hat, you can go in the following two directions troubleshooting:"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsx)(s.li,{children:"Start the GPU Docker container using the run_docker.sh script provided in the OE package."}),"\n",(0,o.jsxs)(s.li,{children:["Execute the following script in the container to check if torch and cuda are working. If CUDA cannot be called, you can use nvidia-smi to check if the driver version meets the requirement.\nBecause the OE package has upgraded the torch environment to 1.1.30+cu116 since v1.1.60, the corresponding driver requirements can be found in: ",(0,o.jsx)(s.a,{href:"/3.0.22/en/guide/env_install.html#model_docker_env",children:"Environment Deployment - Docker Container Deployment"}),"."]}),"\n"]}),"\n",(0,o.jsx)(s.pre,{className:"code",children:(0,o.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(s.code,{className:"language-cpp",meta:"",children:[(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"```cpp"})}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"import torch"})}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"import time"})}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"print"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"__version__)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"print"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"cuda"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"is_available"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"())"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"a "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"randn"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10000"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1000"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"b "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"randn"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1000"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2000"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"t0 "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"c "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"matmul"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(a"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"t1 "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"print"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"a"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"device"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" t1 "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" t0"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"c"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"norm"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"))"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"device "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"device"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cuda'"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"a "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"a"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"to"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(device)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"b "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"b"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"to"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(device)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"t0 "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"c "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"matmul"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(a"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"t2 "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"print"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"a"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"device"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" t2 "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" t0"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"c"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"norm"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"))"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"t0 "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"c "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"matmul"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(a"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"t2 "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"time"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"print"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"a"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"device"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" t2 "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" t0"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"c"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"norm"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"))"})]}),"\n"]})})}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{meta:"",children:'\n## How to find the specific implementation of the module in the config file?\n\nThe corresponding implementation of the module is the value corresponding to type, which can be interpreted as class, and the class will be instantiated when building the model, and the path of the class can be obtained in the following two ways:\n1. The implementation of each module is stored in `hat/models/module name/`, or you can check in `init.py` to see if the class is included in that path.\nFor example, if the `dict["type"]` of neck is `"FastSCNNNNeck"` in the bev_mt_ipm model\'s config file, then the FastSCNNNNeck implementation is in `hat/models/necks/fast_scnn.py`.\nIn addition, the module definitions for a particular task will be under `task_modules` (head, postprocessing, decoder). \nFor example, if the head configuration of the detection branch is `"CenterPoint3dHead"`, which is part of the task_modules include, it will actually appear as `hat/models/task_modules/centerpoint3d/head.py`.\n2. Use the grep command to find it, for example:\n```cpp\ngrep -rn "class $type_value$" $HAT_PATH$\n'})}),"\n",(0,o.jsxs)(s.h2,{id:"why-the-config-prints-correctly-but-launch-trainer-fails",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#why-the-config-prints-correctly-but-launch-trainer-fails",children:"#"}),"Why the config prints correctly but launch trainer fails?"]}),"\n",(0,o.jsxs)(s.p,{children:["For example, the following error requires you to change ",(0,o.jsx)(s.code,{children:"device_ids"}),' in config to the currently available GPU resources;\nif the error contains "CUDA out of memory", you need to change ',(0,o.jsx)(s.code,{children:"batch_size_per_gpu"})," to the batch size that the current resources can support."]}),"\n",(0,o.jsx)(s.pre,{className:"code",children:(0,o.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(s.code,{className:"language-cpp",meta:"",children:[(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Traceback"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (most recent call last):"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"File "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/root/.local/lib/python3.6/site-packages/torch/multiprocessing/spawn.py"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" line "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"59"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" in _wrap"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"fn"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(i"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"args)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"File "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/usr/local/lib/python3.6/site-packages/hat/engine/ddp_trainer.py"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" line "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"394"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" in _main_func"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"cuda"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"set_device"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(local_rank "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"%"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" num_devices)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"File "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/root/.local/lib/python3.6/site-packages/torch/cuda/__init__.py"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" line "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"311"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" in set_device"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"_C"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"_cuda_setDevice"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(device)"})]}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"RuntimeError: CUDA error: invalid device ordinal"})}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"CUDA kernel errors might be asynchronously reported at some other API call"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"so the stacktrace below might be incorrect."})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"For debugging consider passing CUDA_LAUNCH_BLOCKING"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1."})]}),"\n"]})})}),"\n",(0,o.jsxs)(s.h2,{id:"why-the-configuration-of-the-device-on-the-data-run-does-not-take-effect",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#why-the-configuration-of-the-device-on-the-data-run-does-not-take-effect",children:"#"}),"Why the configuration of the device on the data run does not take effect?"]}),"\n",(0,o.jsxs)(s.p,{children:["Please check whether ",(0,o.jsx)(s.code,{children:"to_cuda"})," succeeds in ",(0,o.jsx)(s.code,{children:"hat/engine/processors/processor.py"}),", it may not because the data is not of the tensor type and the device is not called."]}),"\n",(0,o.jsxs)(s.h2,{id:"why-the-configuration-of-the-trainers-runtime-device-does-not-take-effect",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#why-the-configuration-of-the-trainers-runtime-device-does-not-take-effect",children:"#"}),"Why the configuration of the trainer's runtime device does not take effect?"]}),"\n",(0,o.jsx)(s.p,{children:"The device and device_id configurations are prioritized: if the trainer is invoked using the default launch of train.py, only the device-ids will work, and the device configuration will not work.\nIf the trainer (predictor, loop base, etc.) is called directly, the device can work directly."}),"\n",(0,o.jsxs)(s.h2,{id:"how-to-set-the-validationprinting-frequency",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-set-the-validationprinting-frequency",children:"#"}),"How to set the validation/printing frequency?"]}),"\n",(0,o.jsxs)(s.p,{children:["In the config file there is a parameter for the ",(0,o.jsx)(s.code,{children:"callback"})," frequency, the authentication frequency can be modified in the following way, and all other ",(0,o.jsx)(s.code,{children:"callback"}),' related frequencies are set in the form of "xxx_frep":']}),"\n",(0,o.jsx)(s.pre,{className:"code",children:(0,o.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(s.code,{className:"language-cpp",meta:"",children:[(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"val_metric_updater "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"dict"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    type"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"MetricUpdater"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    metrics"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[val_nuscenes_metric"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" val_miou_metric],"})]}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    metric_update_func=update_val_metric,"})}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    step_log_freq=10000,"})}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    epoch_log_freq=1,    # Configure here"})}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:'    log_prefix="Validation " + task_name,'})}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})}),"\n"]})})}),"\n",(0,o.jsxs)(s.h2,{id:"why-the-pltshow-image-is-not-displayed",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#why-the-pltshow-image-is-not-displayed",children:"#"}),"Why the plt.show image is not displayed?"]}),"\n",(0,o.jsxs)(s.p,{children:["This may be due to the fact that there is no graphical interface in the current Linux system, you can add ",(0,o.jsx)(s.code,{children:"plt.savefig('. /test.png',dpi=300)"})," in the corresponding code of each dataset under the path of ",(0,o.jsx)(s.code,{children:"hat/visualize"}),", save the file locally and check it again."]}),"\n",(0,o.jsxs)(s.h2,{id:"how-to-new-dataset",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-new-dataset",children:"#"}),"How to new dataset?"]}),"\n",(0,o.jsxs)(s.p,{children:["dataloader internal class call flow chart is shown below (take Coco dataset as an example), in which all classes and interfaces are called in config, data loading is realized by calling ",(0,o.jsx)(s.code,{children:"dataloader"}),", ",(0,o.jsx)(s.code,{children:"dataloader"})," loaded dataset is returned by ",(0,o.jsx)(s.code,{children:"Coco"})," class, ",(0,o.jsx)(s.code,{children:"Coco"})," class reads lmdb format packaged data, which is realized by calling ",(0,o.jsx)(s.code,{children:"packer"})," interface.\nPacked data in lmdb format, which is realized by calling ",(0,o.jsx)(s.code,{children:"packer"})," interface, implementation flow: ",(0,o.jsx)(s.code,{children:"packer"})," calls ",(0,o.jsx)(s.code,{children:"CocoDetectionPacker"})," class to pack the data returned by ",(0,o.jsx)(s.code,{children:"CocoDetection"})," (image, label...) into the set format (lmdb, mxrecord)."]}),"\n",(0,o.jsxs)(s.p,{children:["To implement a dataset requires an override of the classes involved above, overriding ",(0,o.jsx)(s.code,{children:"__getitem()__"})," based on the dataset's format (which can also be adapted to the format of the original dataset)."]}),"\n",(0,o.jsx)("img",{src:t,alt:"new_dataset",height:"700",width:"520"}),"\n",(0,o.jsxs)(s.h2,{id:"how-to-resume-an-unexpectedly-interrupted-training-session",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-resume-an-unexpectedly-interrupted-training-session",children:"#"}),"How to resume an unexpectedly interrupted training session?"]}),"\n",(0,o.jsxs)(s.p,{children:["It is possible to recover unexpectedly interrupted training, or to recover only the optimizer for fine-tuning, by configuring the ",(0,o.jsx)(s.code,{children:"resume_optimizer"})," and ",(0,o.jsx)(s.code,{children:"resume_epoch_or_step"})," fields in ",(0,o.jsx)(s.code,{children:"{stage}_trainer"})," of ",(0,o.jsx)(s.code,{children:"config"}),".\nFor example, add the following fields to ",(0,o.jsx)(s.code,{children:"trainer"})," in the config file:"]}),"\n",(0,o.jsx)(s.pre,{className:"code",children:(0,o.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(s.code,{className:"language-cpp",meta:"",children:[(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"# Restore the status of optimizer "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"and"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" LR"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"resume_optimizer"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"True"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"# Restore epoch "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"and"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" step"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"resume_epoch_or_step"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"True"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"model_convert_pipeline"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"dict"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    type"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"ModelConvertPipeline"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    converters"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"["})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"dict"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            type"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"LoadCheckpoint"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            checkpoint_path"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"os"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"path"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"join"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                # Load model parameters"})}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                ckpt_dir"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"float-checkpoint-best.pth.tar"'})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            )"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        )"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    ]"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})}),"\n"]})})}),"\n",(0,o.jsxs)(s.h2,{id:"how-to-visualize-the-model-structure",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-visualize-the-model-structure",children:"#"}),"How to visualize the model structure?"]}),"\n",(0,o.jsxs)(s.p,{children:["Supports visualization via the ",(0,o.jsx)(s.code,{children:"hb_model_info"})," tool ",(0,o.jsx)(s.code,{children:"-v"})," parameter."]}),"\n",(0,o.jsxs)(s.h2,{id:"how-to-change-the-method-of-calibration",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-change-the-method-of-calibration",children:"#"}),"How to change the method of calibration?"]}),"\n",(0,o.jsxs)(s.p,{children:["The ",(0,o.jsx)(s.code,{children:"calibration_trainer"})," field in ",(0,o.jsx)(s.code,{children:"config"})," can be modified to add a new ",(0,o.jsx)(s.code,{children:"qconfig_params"})," dictionary as referenced below:"]}),"\n",(0,o.jsx)(s.pre,{className:"code",children:(0,o.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(s.code,{className:"language-cpp",meta:"",children:[(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"calibration_trainer "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"dict"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    type"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Calibrator"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    model"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"model "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    model_convert_pipeline"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"dict"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        type"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"ModelConvertPipeline"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        qat_mode"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"fuse_bn"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        qconfig_params"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"dict"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            activation_calibration_observer"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"percentile"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            activation_calibration_qkwargs"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"dict"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                percentile"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"99.975"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            )"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        )"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    converters"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"["})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"dict"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            type"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Loadcheckpoint"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            checkpoint_path"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"os"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"path"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"join"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                ckpt_dir"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"\"float-checkpoint-best.pth.tar'"})]}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"            ),"})}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"        ),"})}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'        dict(type="'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"Float2Calibration"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'", convert_mode=convert_mode),'})]}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"    ],"})}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"),"})}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"......"})}),"\n"]})})}),"\n",(0,o.jsxs)(s.h2,{id:"whether-the-detr-model-supports-deformable-conv",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#whether-the-detr-model-supports-deformable-conv",children:"#"}),"Whether the DETR model supports deformable conv?"]}),"\n",(0,o.jsx)(s.p,{children:"This operator is mainly used in deformable structures in deformable-DETR.\nHorizon is not yet supported, but the gridsample operator, which is already supported, can be used instead."}),"\n",(0,o.jsxs)(s.h2,{id:"why-is-lss-less-accuray-than-ipm-in-the-bev-model",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#why-is-lss-less-accuray-than-ipm-in-the-bev-model",children:"#"}),"Why is Lss less accuray than IPM in the BEV model?"]}),"\n",(0,o.jsx)(s.p,{children:"The input resolution of the Lss is 256x704, which is lower than the 512x960 of the IPM, so the accuracy is even lower."}),"\n",(0,o.jsxs)(s.h2,{id:"what-are-the-constraints-on-the-lss-inputs-in-the-bev-model",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#what-are-the-constraints-on-the-lss-inputs-in-the-bev-model",children:"#"}),"What are the constraints on the Lss inputs in the BEV model?"]}),"\n",(0,o.jsxs)(s.p,{children:["The Lss does dimension folding before grid_sample, so there are operator compilation constraints on h, w of input_feature, currently: ",(0,o.jsx)(s.code,{children:"H,W \u2208 [1, 1024] and H*W \u2264 720*1024"}),"."]}),"\n",(0,o.jsxs)(s.h2,{id:"how-to-solve-the-time-consuming-muldepthfeature-of-lss-in-bev-model",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-solve-the-time-consuming-muldepthfeature-of-lss-in-bev-model",children:"#"}),"How to solve the time consuming mul(depth,feature) of Lss in BEV model?"]}),"\n",(0,o.jsx)(s.p,{children:"The featuremap H and W can be converted to [128,128] by the grid_sample operator before doing the mul calculation."}),"\n",(0,o.jsxs)(s.h2,{id:"how-is-voxelpooling-implemented-for-lss-in-bev-model-how-many-points-are-selected",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-is-voxelpooling-implemented-for-lss-in-bev-model-how-many-points-are-selected",children:"#"}),"How is voxelpooling implemented for Lss in BEV model? How many points are selected?"]}),"\n",(0,o.jsx)(s.p,{children:"In order not to lose the point cloud features located in the same voxel,\nwe will sample each voxel 10 times and sum each point cloud feature to get a 128x128x64 BEV feature map, corresponding to the following code:"}),"\n",(0,o.jsx)(s.pre,{className:"code",children:(0,o.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(s.code,{className:"language-cpp",meta:"",children:[(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"num_points"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" i in "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"range"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"num_points):    # "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" samples per voxel"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    homo_feat "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"grid_sample"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        feat"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"quant_stub"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"points"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[i])"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    )"})}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    homo_dfeat "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"dgrid_sample"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        dfeat"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"dquant_stub"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"points"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[i "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"num_points])"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    )"})}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    homo_feat "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"floatFs"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"mul"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(homo_feat"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" homo_dfeat)"})]}),"\n"]})})}),"\n",(0,o.jsx)(s.pre,{className:"code",children:(0,o.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(s.code,{className:"language-cpp",meta:"",children:[(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"trans_feat "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"homo_feats"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" f in "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"homo_feats"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":]:"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    trans_feat "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"floatFs"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"add"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(trans_feat"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" f)    # Point cloud feature summation"})]}),"\n"]})})}),"\n",(0,o.jsxs)(s.h2,{id:"how-are-reference-points-selected-for-lss-of-the-bev-model",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-are-reference-points-selected-for-lss-of-the-bev-model",children:"#"}),"How are reference points selected for Lss of the BEV model?"]}),"\n",(0,o.jsxs)(s.p,{children:["The generation of points in ",(0,o.jsx)(s.code,{children:"_gen_reference_point"})," sets invalid points outside the feature range to the larger value.\nIn order not to take invalid points, the first 10 points with smaller values are aggregated using topk (k=10 for faster training)."]}),"\n",(0,o.jsxs)(s.h2,{id:"how-does-the-lss-for-the-bev-model-handle-the-case-where-the-gridsample-input-is-large",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-does-the-lss-for-the-bev-model-handle-the-case-where-the-gridsample-input-is-large",children:"#"}),"How does the Lss for the BEV model handle the case where the gridsample input is large?"]}),"\n",(0,o.jsxs)(s.p,{children:["The Lss model is prone to exceed the ",(0,o.jsx)(s.code,{children:"720*1024"})," BPU operator constraint limit for H*W because it collapses 3 dimensions into 1 before the gridsample operator.\nAt this point it is recommended that before dimension folding (i.e. ",(0,o.jsx)(s.code,{children:"dfeat = dfeat.view(B, 1, -1, H * W)"}),"), the dimensions that may be overrun are split, the gridsample is computed separately, and the results are finally superimposed."]}),"\n",(0,o.jsxs)(s.h2,{id:"why-is-the-bev-models-gkt-accuracy-metric-lower-what-are-the-advantages",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#why-is-the-bev-models-gkt-accuracy-metric-lower-what-are-the-advantages",children:"#"}),"Why is the BEV model's gkt accuracy metric lower? What are the advantages?"]}),"\n",(0,o.jsx)(s.p,{children:"The main reason why the accuracy of Transformer-based gkt is lower than that of IPM is that the amount of data in the open source dataset is not enough, and we try to add some business data to get a higher accuracy than that of IPM.\nMoreover, the gkt model is more robust and can solve the accuracy effect caused by camera offset."}),"\n",(0,o.jsxs)(s.h2,{id:"whether-the-transfomer-of-gkt-is-global-in-the-bev-model",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#whether-the-transfomer-of-gkt-is-global-in-the-bev-model",children:"#"}),"Whether the transfomer of gkt is global in the BEV model?"]}),"\n",(0,o.jsx)(s.p,{children:"It's not global, it's a kernel (3x3) feature that is selected for attention, so it's a kernel-transformer."}),"\n",(0,o.jsxs)(s.h2,{id:"whether-the-bev-model-supports-the-public-version-of-bevformer",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#whether-the-bev-model-supports-the-public-version-of-bevformer",children:"#"}),"Whether the BEV model supports the public version of bevformer?"]}),"\n",(0,o.jsx)(s.p,{children:"J6 already supports bevformer optimized version."}),"\n",(0,o.jsxs)(s.h2,{id:"whether-the-accuracy-is-constrained-between-bev-model-detection-and-segmentation-tasks",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#whether-the-accuracy-is-constrained-between-bev-model-detection-and-segmentation-tasks",children:"#"}),"Whether the accuracy is constrained between BEV model detection and segmentation tasks?"]}),"\n",(0,o.jsx)(s.p,{children:"There will be an impact because the accuracy of the detection task in multitasking will be degraded, which needs to be balanced by the training strategy."}),"\n",(0,o.jsxs)(s.h2,{id:"what-are-the-components-of-latency-in-the-pointpillars-model",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#what-are-the-components-of-latency-in-the-pointpillars-model",children:"#"}),"What are the components of latency in the PointPillars model?"]}),"\n",(0,o.jsx)(s.p,{children:"The current latency of Pointpillars consists of two parts: the first part is the pre-processing (voxelization), i.e., the time from the point cloud input to the head; the second part is the post-processing time."}),"\n",(0,o.jsxs)(s.h2,{id:"how-does-the-amount-of-point-cloud-affect-the-performance-of-the-pointpillars-model",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-does-the-amount-of-point-cloud-affect-the-performance-of-the-pointpillars-model",children:"#"}),"How does the amount of point cloud affect the performance of the PointPillars model?"]}),"\n",(0,o.jsx)(s.p,{children:"The higher the number of valid point clouds, the longer the pre-processing time, as specified in the Voxelization cfg parameter set:"}),"\n",(0,o.jsx)(s.pre,{className:"code",children:(0,o.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(s.code,{className:"language-cpp",meta:"",children:[(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"# Voxelization cfg"})}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"pc_range "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"39.68"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"69.12"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"39.68"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]    # Valid point cloud range"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"voxel_size "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0.16"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0.16"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"4.0"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]                 # voxel size"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"max_points_in_voxel "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"100"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                      # Maximum number of points in a voxel"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"max_voxels_num "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"12000"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                         # Number of voxel"})]}),"\n"]})})}),"\n",(0,o.jsxs)(s.h2,{id:"what-operations-are-included-in-the-preprocessing-of-a-pointpillars-model",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#what-operations-are-included-in-the-preprocessing-of-a-pointpillars-model",children:"#"}),"What operations are included in the preprocessing of a PointPillars model?"]}),"\n",(0,o.jsx)(s.p,{children:"The pre-processing is pillarization (voxel), the corresponding stage is voxeliza tation, and the flow is shown schematically below:"}),"\n",(0,o.jsx)("img",{src:l,alt:"voxelizition",height:"700",width:"600"}),"\n",(0,o.jsxs)(s.h2,{id:"how-many-types-of-task-detection-does-the-pointpillars-model-support-how-can-it-be-extended",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-many-types-of-task-detection-does-the-pointpillars-model-support-how-can-it-be-extended",children:"#"}),"How many types of task detection does the PointPillars model support? How can it be extended?"]}),"\n",(0,o.jsx)(s.p,{children:"Currently the PointPillars_Kitti_Car model only supports the car class of detection, but we also provide a multi-category detection model centerpoint_pointpillar_nuscenes."}),"\n",(0,o.jsxs)(s.h2,{id:"how-is-the-input-data-for-pointpillars-board-side-hbm-model-generated-how-is-it-preprocessed",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-is-the-input-data-for-pointpillars-board-side-hbm-model-generated-how-is-it-preprocessed",children:"#"}),"How is the input data for PointPillars' board-side hbm model generated? How is it preprocessed?"]}),"\n",(0,o.jsx)(s.p,{children:"The data preprocessing includes reshape and padding (padding to (1,1,150000,4) where 150000 is the maximum amount of point cloud in the bin file), the reference code is shown below:"}),"\n",(0,o.jsx)(s.pre,{className:"code",children:(0,o.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(s.code,{className:"language-cpp",meta:"",children:[(0,o.jsx)(s.span,{className:"line line-number",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"#padding bin"})}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"padding_np"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"np"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"ones"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"150000"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"*-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"100"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"astype"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"np"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"float32)"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"reshape"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsx)(s.span,{className:"line line-number"}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" f in "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"os"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"listdir"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(list_dir):"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    ori_bin"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"np"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"fromfile"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"os"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"path"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"join"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(list_dir"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"f)"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"np"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"float32)"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"reshape"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    con_bin"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"np"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"concatenate"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"((ori_bin"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"padding_np)"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"axis"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    pad_bin"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"con_bin"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[:"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"150000"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":]"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"not"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"os"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"path"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"exists"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(save_path):"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"os"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"mkdir"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(save_path)"})]}),"\n",(0,o.jsx)(s.span,{className:"line line-number"}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"with"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"open"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"os"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"path"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"join"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(save_path"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"f)"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"w"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") as sf:"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"print"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"the pad file is saved in:"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"os"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"path"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"join"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(save_path"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"f))"})]}),"\n",(0,o.jsxs)(s.span,{className:"line line-number",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"pad_bin"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"tofile"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(sf)"})]}),"\n"]})})}),"\n",(0,o.jsxs)(s.h2,{id:"why-does-the-board-side-perf-data-for-the-pointpillars-model-not-match-the-official-metrics",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#why-does-the-board-side-perf-data-for-the-pointpillars-model-not-match-the-official-metrics",children:"#"}),"Why does the board side perf data for the PointPillars model not match the official metrics?"]}),"\n",(0,o.jsxs)(s.p,{children:["When using the ",(0,o.jsx)(s.code,{children:"hrt_model_exec perf"})," tool on the board side to evaluate performance, please specify a real input_file, otherwise the tool will use randomly generated point cloud data, which may result in inaccurate perf metrics."]}),"\n",(0,o.jsxs)(s.h2,{id:"whether-the-ptq-program-support-conversion-to-lidar-models-in-the-pointpillars-model",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#whether-the-ptq-program-support-conversion-to-lidar-models-in-the-pointpillars-model",children:"#"}),"Whether the PTQ program support conversion to Lidar models in the PointPillars model?"]}),"\n",(0,o.jsx)(s.p,{children:"It is supported on the functional link to export ONNX models from the training framework for PTQ conversion checking.\nHowever, from the established experience, the Lidar point cloud model is more risky in terms of the accuracy of quantization by going to the PTQ scheme, mainly due to the following reasons: the point cloud is relatively sparse, and the data distribution situation is not friendly to the quantization."}),"\n",(0,o.jsxs)(s.h2,{id:"can-centerpoint-and-pointpillars-be-used-interchangeably",children:[(0,o.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#can-centerpoint-and-pointpillars-be-used-interchangeably",children:"#"}),"Can centerpoint and pointpillars be used interchangeably?"]}),"\n",(0,o.jsx)(s.p,{children:"The two models can be used interchangeably, and only the relevant configurations involved in the dataset need to be modified correspondingly, e.g., point cloud range, prediction category, and anchor, target, etc. for post-processing."})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,i.ah)(),e.components);return s?(0,o.jsx)(s,Object.assign({},e,{children:(0,o.jsx)(a,e)})):a(e)}s.default=c,c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["3.0.22%2Fen%2Fguide%2Fadvanced_content%2Fhat%2Fhat_faq.mdx"]={toc:[{id:"unable-to-import-hat-in-docker-container",text:"Unable to import hat in Docker container?",depth:2},{id:"why-the-config-prints-correctly-but-launch-trainer-fails",text:"Why the config prints correctly but launch trainer fails?",depth:2},{id:"why-the-configuration-of-the-device-on-the-data-run-does-not-take-effect",text:"Why the configuration of the device on the data run does not take effect?",depth:2},{id:"why-the-configuration-of-the-trainers-runtime-device-does-not-take-effect",text:"Why the configuration of the trainer's runtime device does not take effect?",depth:2},{id:"how-to-set-the-validationprinting-frequency",text:"How to set the validation/printing frequency?",depth:2},{id:"why-the-pltshow-image-is-not-displayed",text:"Why the plt.show image is not displayed?",depth:2},{id:"how-to-new-dataset",text:"How to new dataset?",depth:2},{id:"how-to-resume-an-unexpectedly-interrupted-training-session",text:"How to resume an unexpectedly interrupted training session?",depth:2},{id:"how-to-visualize-the-model-structure",text:"How to visualize the model structure?",depth:2},{id:"how-to-change-the-method-of-calibration",text:"How to change the method of calibration?",depth:2},{id:"whether-the-detr-model-supports-deformable-conv",text:"Whether the DETR model supports deformable conv?",depth:2},{id:"why-is-lss-less-accuray-than-ipm-in-the-bev-model",text:"Why is Lss less accuray than IPM in the BEV model?",depth:2},{id:"what-are-the-constraints-on-the-lss-inputs-in-the-bev-model",text:"What are the constraints on the Lss inputs in the BEV model?",depth:2},{id:"how-to-solve-the-time-consuming-muldepthfeature-of-lss-in-bev-model",text:"How to solve the time consuming mul(depth,feature) of Lss in BEV model?",depth:2},{id:"how-is-voxelpooling-implemented-for-lss-in-bev-model-how-many-points-are-selected",text:"How is voxelpooling implemented for Lss in BEV model? How many points are selected?",depth:2},{id:"how-are-reference-points-selected-for-lss-of-the-bev-model",text:"How are reference points selected for Lss of the BEV model?",depth:2},{id:"how-does-the-lss-for-the-bev-model-handle-the-case-where-the-gridsample-input-is-large",text:"How does the Lss for the BEV model handle the case where the gridsample input is large?",depth:2},{id:"why-is-the-bev-models-gkt-accuracy-metric-lower-what-are-the-advantages",text:"Why is the BEV model's gkt accuracy metric lower? What are the advantages?",depth:2},{id:"whether-the-transfomer-of-gkt-is-global-in-the-bev-model",text:"Whether the transfomer of gkt is global in the BEV model?",depth:2},{id:"whether-the-bev-model-supports-the-public-version-of-bevformer",text:"Whether the BEV model supports the public version of bevformer?",depth:2},{id:"whether-the-accuracy-is-constrained-between-bev-model-detection-and-segmentation-tasks",text:"Whether the accuracy is constrained between BEV model detection and segmentation tasks?",depth:2},{id:"what-are-the-components-of-latency-in-the-pointpillars-model",text:"What are the components of latency in the PointPillars model?",depth:2},{id:"how-does-the-amount-of-point-cloud-affect-the-performance-of-the-pointpillars-model",text:"How does the amount of point cloud affect the performance of the PointPillars model?",depth:2},{id:"what-operations-are-included-in-the-preprocessing-of-a-pointpillars-model",text:"What operations are included in the preprocessing of a PointPillars model?",depth:2},{id:"how-many-types-of-task-detection-does-the-pointpillars-model-support-how-can-it-be-extended",text:"How many types of task detection does the PointPillars model support? How can it be extended?",depth:2},{id:"how-is-the-input-data-for-pointpillars-board-side-hbm-model-generated-how-is-it-preprocessed",text:"How is the input data for PointPillars' board-side hbm model generated? How is it preprocessed?",depth:2},{id:"why-does-the-board-side-perf-data-for-the-pointpillars-model-not-match-the-official-metrics",text:"Why does the board side perf data for the PointPillars model not match the official metrics?",depth:2},{id:"whether-the-ptq-program-support-conversion-to-lidar-models-in-the-pointpillars-model",text:"Whether the PTQ program support conversion to Lidar models in the PointPillars model?",depth:2},{id:"can-centerpoint-and-pointpillars-be-used-interchangeably",text:"Can centerpoint and pointpillars be used interchangeably?",depth:2}],title:"FAQ",frontmatter:{}}},95895:function(e,s,n){n(39710);var o=n(85893),i=n(67294),r=n(45687);n(20388);let t={"zh-CN":e=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${e.minutes>=1?`${Math.ceil(e.minutes)} \u{5206}\u{949F}`:"\u5C0F\u4E8E 1 \u5206\u949F"}`,"en-US":e=>`Estimated reading time: ${e.minutes>=1?`${Math.ceil(e.minutes)} minutes`:"less than 1 minute"}`};function l(e,s,n){let o=Object.keys(t).includes(s)?s:n;return t[o](e)}s.Z=e=>{let{defaultLocale:s="en-US"}=e,n=(0,r.Vi)().page.readingTimeData,t=(0,r.Jr)(),a=(0,r.e7)(),[c,h]=(0,i.useState)(l(n,t,s));return(0,i.useEffect)(()=>{h(l(n,t,s))},[t,n]),(0,o.jsx)("span",{"data-dark":String(a),className:"rp-reading-time",children:c})}}}]);