"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["91000"],{63754:function(s,e,r){r.r(e);var n=r(85893),i=r(50065),l=r(95895);function o(s){let e=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",pre:"pre",code:"code",span:"span"},(0,i.ah)(),s.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h1,{id:"\u591A\u673A\u4F7F\u7528\u8BF4\u660E",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u591A\u673A\u4F7F\u7528\u8BF4\u660E",children:"#"}),"\u591A\u673A\u4F7F\u7528\u8BF4\u660E"]}),"\n",(0,n.jsx)(l.Z,{}),"\n",(0,n.jsxs)(e.h2,{id:"\u73AF\u5883\u51C6\u5907",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u73AF\u5883\u51C6\u5907",children:"#"}),"\u73AF\u5883\u51C6\u5907"]}),"\n",(0,n.jsx)(e.p,{children:"\u51C6\u5907\u4E24\u53F0\u5F00\u53D1\u673A\uFF0C\u786E\u4FDD\u4E24\u8005\u76F4\u63A5\u53EF\u4EE5\u514D\u5BC6\u767B\u5F55\u3002"}),"\n",(0,n.jsx)(e.p,{children:"\u4FDD\u8BC1\u4E24\u53F0\u5F00\u53D1\u673A\u4E0A\u9700\u8981\u8FD0\u884C\u7684\u4EE3\u7801\u7684\u7684\u6587\u4EF6\u76EE\u5F55\u548C\u5185\u5BB9\u662F\u4E00\u6837\u7684\u3002"}),"\n",(0,n.jsxs)(e.h2,{id:"\u542F\u52A8docker",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u542F\u52A8docker",children:"#"}),"\u542F\u52A8docker"]}),"\n",(0,n.jsx)(e.p,{children:"\u5728\u7B2C\u4E00\u53F0\u673A\u5668\u4E0A\u542F\u52A8docker\u3002"}),"\n",(0,n.jsx)(e.pre,{className:"code",children:(0,n.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-bash",meta:"",children:[(0,n.jsxs)(e.span,{className:"line line-number",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"docker"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"run"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-d"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-p"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"10022"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:":22"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-it"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--shm-size="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"15g"'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-v"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"~/.ssh:/root/.ssh"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ${DOCKER_PATH}"})]}),"\n",(0,n.jsx)(e.span,{className:"line line-number"}),"\n",(0,n.jsxs)(e.span,{className:"line line-number",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"docker"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"exec"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-it"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"096"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"e26686644"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"bash"})]}),"\n"]})})}),"\n",(0,n.jsxs)(e.p,{children:["\u5176\u4E2D ",(0,n.jsx)(e.code,{children:"096e26686644"})," \u662F\u7B2C\u4E00\u6B65\u542F\u52A8\u5BB9\u5668\u7684\u955C\u50CF\u540D\u5B57\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,n.jsx)(e.code,{children:"docker ps"})," \u67E5\u770B\u3002"]}),"\n",(0,n.jsx)(e.p,{children:"\u5728\u7B2C\u4E8C\u53F0\u673A\u5668\u4E0A\u542F\u52A8docker\u3002"}),"\n",(0,n.jsx)(e.pre,{className:"code",children:(0,n.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-bash",meta:"",children:[(0,n.jsxs)(e.span,{className:"line line-number",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"docker"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"run"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-d"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-p"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"10023"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:":22"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-it"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--shm-size="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"15g"'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-v"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"~/.ssh:/root/.ssh"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ${DOCKER_PATH}"})]}),"\n",(0,n.jsx)(e.span,{className:"line line-number"}),"\n",(0,n.jsxs)(e.span,{className:"line line-number",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"docker"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"exec"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-it"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"f0f456bd2824"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"bash"})]}),"\n"]})})}),"\n",(0,n.jsx)(e.p,{children:"\u8FD9\u91CC\u6CE8\u610F\u6620\u5C04ssh\u7684\u7AEF\u53E3\u53F7\u53D8\u4E86\uFF0C\u7B2C\u4E00\u53F0\u673A\u5668\u662F10022\uFF0C\u7B2C\u4E8C\u53F0\u673A\u5668\u662F10023\uFF0C\u4FDD\u8BC1\u4E24\u8005\u4E0D\u4E00\u6837\u5373\u53EF\u3002"}),"\n",(0,n.jsxs)(e.p,{children:["\u4E3A\u4E86\u4FDD\u8BC1\u4E24\u53F0\u5F00\u53D1\u673Adocker\u5185\u90E8\u7684\u5F00\u53D1\u76EE\u5F55\u662F\u4E00\u6837\u7684\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,n.jsx)(e.code,{children:"-v"})," \u6302\u8F7D\u76F8\u540C\u7684\u5F00\u53D1\u76EE\u5F55\u5373\u53EF\u3002"]}),"\n",(0,n.jsxs)(e.p,{children:["\u53E6\u5916\u53EF\u4EE5\u6D4B\u8BD5\u4E24\u4E2Adocker\u5BB9\u5668\u4E4B\u95F4\u662F\u5426\u53EF\u4EE5\u514D\u5BC6\u767B\u5F55\uFF1A\u4F7F\u7528ifconfig\u547D\u4EE4\u67E5\u770B\u7B2C\u4E8C\u53F0\u673A\u5668\u4E0A\u7684\u5BB9\u5668\u7684ip\u5730\u5740\uFF0C\u4F8B\u5982\u662F\uFF1A",(0,n.jsx)(e.code,{children:"172.17.0.12"})," \uFF0C\u56DE\u5230\u7B2C\u4E00\u53F0\u673A\u5668\u4E0A\u7684\u5BB9\u5668\uFF0C\u4F7F\u7528 ",(0,n.jsx)(e.code,{children:"ssh -p 22 172.17.0.12"}),"\uFF0C\u89C2\u5BDF\u4E24\u53F0\u673A\u5668\u662F\u5426\u53EF\u4EE5\u514D\u5BC6\u767B\u5F55\u3002\u5982\u679C\u53EF\u4EE5\u4E86\u5C31\u53EF\u4EE5\u8FDB\u884C\u4E0B\u4E00\u6B65\u4E86\u3002"]}),"\n",(0,n.jsxs)(e.h2,{id:"\u4F7F\u7528torchrun\u542F\u52A8\u591A\u673A\u591A\u5361\u8BAD\u7EC3\u811A\u672C",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F7F\u7528torchrun\u542F\u52A8\u591A\u673A\u591A\u5361\u8BAD\u7EC3\u811A\u672C",children:"#"}),"\u4F7F\u7528torchrun\u542F\u52A8\u591A\u673A\u591A\u5361\u8BAD\u7EC3\u811A\u672C"]}),"\n",(0,n.jsx)(e.pre,{className:"code",children:(0,n.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-bash",meta:"",children:[(0,n.jsx)(e.span,{className:"line line-number",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# node1:"})}),"\n",(0,n.jsxs)(e.span,{className:"line line-number",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"torchrun"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--nnodes=2"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--nproc_per_node=4"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--rdzv_id=8888"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--rdzv_backend=c10d"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--rdzv_endpoint=hostip1"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"tools/train.py"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--config"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"configs/classification/resnet18.py"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--stage"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"float"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--launcher"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"torch"})]}),"\n",(0,n.jsx)(e.span,{className:"line line-number",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# node2(rdzv_id\u9700\u8981\u548Cnode1\u5B8C\u5168\u4E00\u81F4):"})}),"\n",(0,n.jsxs)(e.span,{className:"line line-number",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"torchrun"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--nnodes=2"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--nproc_per_node=4"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--rdzv_id=8888"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--rdzv_backend=c10d"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--rdzv_endpoint=hostip1"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"tools/train.py"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--config"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"configs/classification/resnet18.py"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--stage"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"float"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"--launcher"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"torch"})]}),"\n"]})})}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"hostip1"})," \u8868\u793A\u7B2C\u4E00\u53F0\u673A\u5668\u4E0A\u7684\u5BB9\u5668\u7684ip\u5730\u5740\uFF0C\u4F7F\u7528 ",(0,n.jsx)(e.code,{children:"ifconfig"})," \u5373\u53EF\u67E5\u770B\u3002"]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"--nnodes 2"})," \uFF1A2\u8868\u793A\u603B\u673A\u5668\u6570\u3002"]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"--nproc_per_node 4"}),"\uFF1A4\u8868\u793A\u6BCF\u4E2A\u673A\u5668\u4E0Agpu\u7684\u6570\u91CF\u3002\uFF08\u4F60\u53EF\u80FD\u9700\u8981\u624B\u52A8\u628Aconfigs/classification/mobilenetv1_imagenet.py\u6587\u4EF6\u4E2D\u7684gpu\u6570\u91CF\u6539\u4E3A4\u4E2A\uFF09"]}),"\n",(0,n.jsx)(e.p,{children:"\u8FD0\u884C\u8BE5\u547D\u4EE4\u5C31\u53EF\u4EE5\u770B\u5230\u591A\u673A\u591A\u5361\u7684\u4E8B\u4F8B\u6B63\u786E\u8FD0\u884C\u4E86\u3002"})]})}function c(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,i.ah)(),s.components);return e?(0,n.jsx)(e,Object.assign({},s,{children:(0,n.jsx)(o,s)})):o(s)}e.default=c,c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["3.0.22%2Fzh%2Fguide%2Fadvanced_content%2Fhat%2Fexamples%2Fmulti_machine.mdx"]={toc:[{id:"\u73AF\u5883\u51C6\u5907",text:"\u73AF\u5883\u51C6\u5907",depth:2},{id:"\u542F\u52A8docker",text:"\u542F\u52A8docker",depth:2},{id:"\u4F7F\u7528torchrun\u542F\u52A8\u591A\u673A\u591A\u5361\u8BAD\u7EC3\u811A\u672C",text:"\u4F7F\u7528torchrun\u542F\u52A8\u591A\u673A\u591A\u5361\u8BAD\u7EC3\u811A\u672C",depth:2}],title:"\u591A\u673A\u4F7F\u7528\u8BF4\u660E",frontmatter:{}}},95895:function(s,e,r){r(39710);var n=r(85893),i=r(67294),l=r(45687);r(20388);let o={"zh-CN":s=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${s.minutes>=1?`${Math.ceil(s.minutes)} \u{5206}\u{949F}`:"\u5C0F\u4E8E 1 \u5206\u949F"}`,"en-US":s=>`Estimated reading time: ${s.minutes>=1?`${Math.ceil(s.minutes)} minutes`:"less than 1 minute"}`};function c(s,e,r){let n=Object.keys(o).includes(e)?e:r;return o[n](s)}e.Z=s=>{let{defaultLocale:e="en-US"}=s,r=(0,l.Vi)().page.readingTimeData,o=(0,l.Jr)(),t=(0,l.e7)(),[a,h]=(0,i.useState)(c(r,o,e));return(0,i.useEffect)(()=>{h(c(r,o,e))},[o,r]),(0,n.jsx)("span",{"data-dark":String(t),className:"rp-reading-time",children:a})}}}]);