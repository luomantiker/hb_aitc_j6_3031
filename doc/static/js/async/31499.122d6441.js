"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["31499"],{42716:function(e,s,n){e.exports=n.p+"static/image/VP5remap1.f726e449.png"},515:function(e,s,n){e.exports=n.p+"static/image/VP6_avm1.c05be9e7.png"},89987:function(e,s,n){e.exports=n.p+"static/image/VP6_avm2.a3d564e2.png"},80018:function(e,s,n){e.exports=n.p+"static/image/VP6_avm_camera_0.9cb3eab1.jpg"},78203:function(e,s,n){e.exports=n.p+"static/image/VP6_avm_camera_1.d7690cb5.jpg"},19707:function(e,s,n){e.exports=n.p+"static/image/VP6_avm_camera_2.c72e0b9c.jpg"},50772:function(e,s,n){e.exports=n.p+"static/image/VP6_avm_camera_3.736db9ad.jpg"},43003:function(e,s,n){e.exports=n.p+"static/image/VP6_avm_res.5f35b388.jpg"},13458:function(e,s,n){e.exports=n.p+"static/image/VP6_avmstitchlut.88dfac38.png"},58752:function(e,s,n){e.exports=n.p+"static/image/VP6_topview_camera_0_trans.96f40f03.jpg"},84346:function(e,s,n){e.exports=n.p+"static/image/VP6_topview_camera_1_trans.85f9fe8a.jpg"},3065:function(e,s,n){e.exports=n.p+"static/image/VP6_topview_camera_2_trans.82c61fa2.jpg"},47093:function(e,s,n){e.exports=n.p+"static/image/VP6_topview_camera_3_trans.83bfa477.jpg"},8135:function(e,s,n){n.r(s);var i=n(85893),r=n(50065),t=n(95895),a=n(42716),l=n(13458),o=n(515),c=n(89987),h=n(80018),d=n(78203),p=n(19707),x=n(50772),m=n(58752),j=n(84346),k=n(3065),v=n(47093),u=n(43003);function g(e){let s=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ol:"ol",li:"li",strong:"strong",pre:"pre",span:"span",img:"img",ul:"ul",div:"div"},(0,r.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.h1,{id:"surround-view-image-stitching-sample",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#surround-view-image-stitching-sample",children:"#"}),"Surround View Image Stitching Sample"]}),"\n",(0,i.jsx)(t.Z,{}),"\n",(0,i.jsxs)(s.p,{children:["This sample describes the use of ",(0,i.jsx)(s.code,{children:"hbVPStitch"}),", ",(0,i.jsx)(s.code,{children:"hbVPRemap"}),", ",(0,i.jsx)(s.code,{children:"hbVPJPEGDecode"}),", ",(0,i.jsx)(s.code,{children:"hbVPJPEGEncode"})," and other APIs, which involves stitches, gdc, and codec hardware ip, to complete a 360-view scene stitching application."]}),"\n",(0,i.jsx)(s.p,{children:"The function realized in this sample is to de-distort and splice the four front-view, right-view, rear-view and left-view distortion maps captured by the fisheye camera on the car, and to complete the application of 360 surround-view scene splicing once.\nFirst a map will be created for the four distortion maps, the codec hardware ip will be used to read the fisheye distortion maps and convert them to nv12 data,\nthen the gdc hardware ip will be run to turn the distortion maps into top views, and then the stitch hardware ip will be run to splice the top views into a ring view splice."}),"\n",(0,i.jsx)(s.p,{children:"The code is mainly divided into the following steps:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Initialize log and environment variables."}),"\n",(0,i.jsxs)(s.li,{children:["Set the camera parameters for back, front, left, and right views, and call the ",(0,i.jsx)(s.strong,{children:"ProcessIpmRois()"})," interface to get the top view's roi on the IPM (the coordinate system for image perspective mapping)."]}),"\n",(0,i.jsx)(s.li,{children:"Use the gdc hardware to generate the top view map for the four views, use the codec hardware ip to read the fisheye aberration map to convert it to nv12 data, convert the fisheye aberration data to the top view data, and release the four maps."}),"\n",(0,i.jsx)(s.li,{children:"Create the lut table and prepare the information for the splice zone."}),"\n",(0,i.jsx)(s.li,{children:"Use the stitch hardware to generate a ring-view stitch map."}),"\n",(0,i.jsx)(s.li,{children:"Free the lut table and the requested memory."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Concept Statement"})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"VCS (Vehicle Coordinate System) the coordinate system of the vehicle:"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-bash",meta:"",children:[(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"x"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[front] ^"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"\u2502"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"\u2502"})}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"y"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"\u2500\u2500\u2500\u2500\u2500\u2500\u253C\u2500\u2500\u2500\u2500\u2500\u2500"})]}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[left]   \u2502"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"\u2502"})}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[VCS]("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Vehicle"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"Coordinate"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"System"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n"]})})}),"\n",(0,i.jsx)(s.p,{children:"The VCS coordinate system describes the coordinate system of the vehicle.\nThe coordinate axes x correspond to the front of the vehicle, y to the left of the vehicle, and z to the top of the vehicle.\nThe origin of this coordinate system is not the center of the vehicle, but the center of the vehicle's rear axle."}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"IPM (Image Perspective Mapping) a coordinate system for image perspective mapping:"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-bash",meta:"",children:[(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"})}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"\u2500\u2500\u2500\u2500\u2500\u2500\u253C\u2500\u2500\u2500\u2500\u2500\u2500>"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"x"})]}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"})}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"v"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"y"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[IPM]("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Image"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"Perspective"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"Mapping"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n"]})})}),"\n",(0,i.jsx)(s.p,{children:"The IPM coordinate system describes the coordinate system for image perspective mapping."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Fisheye Aberration Map Conversion Map Generation Details"})}),"\n",(0,i.jsx)(s.p,{children:"The main purpose of generating a map is to use the remap function, which can generate pixel mapping relationships:."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image",src:a})}),"\n",(0,i.jsxs)(s.p,{children:["The core function that creates the map that converts the fisheye distortion map to a top view is ",(0,i.jsx)(s.code,{children:"TransformMapGenerate()"})," , and the main logic is shown in the flowchart:"]}),"\n",(0,i.jsx)("img",{src:o,alt:"VP6_avm1",width:"700"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"CalculateExtrinsicTransform()"})," used in ",(0,i.jsx)(s.code,{children:"TransformMapGenerate()"})," corresponds to the penultimate step in the flowchart,\nwhich converts the vehicle coordinate system data to the camera coordinate system, and the main logic is shown in the flowchart."]}),"\n",(0,i.jsx)("img",{src:c,alt:"VP6_avm2",width:"800"}),"\n",(0,i.jsx)(s.p,{children:"Included among these:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"IntrinsicXYZ2R()"})," acts as: converts the euler angle representation of a rotation (Roll-Pitch-Yaw) into a rotation matrix for describing rotational transformations in three-dimensional space.\nA rotation matrix is able to apply rotation operations to vectors in the form of matrix multiplication."]}),"\n",(0,i.jsx)(s.li,{children:"Adas camera to the camera coordinate system in the transformation matrix."}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"The first line indicates the orientation of the new x-Run command line instructions in the imager coordinate system, pointing in the direction of the z-axis in the ADAS imager coordinate system."}),"\n",(0,i.jsx)(s.li,{children:"The second line indicates the orientation of the new y-axis in the imager coordinate system, pointing in the direction of the x-axis in the ADAS imager coordinate system."}),"\n",(0,i.jsx)(s.li,{children:"The third line indicates the orientation of the new z-axis in the imager coordinate system, pointing in the direction of the y-axis in the ADAS imager coordinate system."}),"\n",(0,i.jsx)(s.li,{children:"The last line indicates the panning part, where the last element is 1, indicating no panning."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"The function of this matrix is to transform points under the ADAS camera coordinate system to the camera coordinate system, enabling the transformation and alignment of the coordinate system. This transformation is often used in computer graphics and computer vision."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"stitch lut table generation details"})}),"\n",(0,i.jsx)(s.p,{children:"The lut table function serves to indicate the fusion status of each pixel point, with the main purpose of generating transition bands to create a blurring effect."}),"\n",(0,i.jsx)(s.p,{children:"Explanation: The dump out of the lut table is shown below. 0 and 255 are opposites, 255 is taken as src0 and 0 is taken as src1. 0<x<255, it means take part src0 and get part src1. 128 or 127 is a forced transition band, with numbers on both sides tapering until 0 or tapering to 255, creating a gradient blur effect."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image",src:l})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Operating Methods"})}),"\n",(0,i.jsxs)(s.p,{children:["The sample is located in the ",(0,i.jsx)(s.code,{children:"vp_samples/script/05_avm"})," directory and contains the following script:"]}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-bash",meta:"",children:[(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"05_avm/"})}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"\u251C\u2500\u2500"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"README.md"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"\u2514\u2500\u2500"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"run_avm.sh"})]}),"\n"]})})}),"\n",(0,i.jsx)(s.p,{children:"Run command line instructions."}),"\n",(0,i.jsx)(s.p,{children:"run_avm.sh: this script realizes the sample function of stitching four fisheye aberration maps in a circular view. run_avm.sh script contains the following command line:"}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"bin"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"../aarch64/bin/avm_sample"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"lib"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"../aarch64/lib"})]}),"\n",(0,i.jsx)(s.span,{className:"line line-number"}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" LD_LIBRARY_PATH"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"${lib}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"${LD_LIBRARY_PATH}"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" PATH"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"${bin}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"${PATH}"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" HB_DSP_ENABLE_DIRECT_MODE"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"true"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" HB_DSP_ENABLE_CONFIG_VDSP"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"true"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" HB_DSP_LOG_LEVEL"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"3"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" HB_DSP_VDSP_LOG_LEVEL"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"3"})]}),"\n",(0,i.jsx)(s.span,{className:"line line-number"}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Usage: ${bin} "})}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"${bin}"})}),"\n"]})})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"${bin}"}),": compiled executable file"]}),"\n",(0,i.jsxs)(s.p,{children:["To use it, go to the ",(0,i.jsx)(s.code,{children:"vp_samples/script/05_avm"})," directory, and execute run_avm.sh as shown in the following code block:"]}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"root@j6dvb:"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"/vp_samples/script/05_avm#"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"sh"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"run_avm.sh"})]}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[I]["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"27075"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"-16]["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"14"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":01:36:373][avm_example.cpp:84][avm_sample][VP_AVM] AVM sample start."})]}),"\n",(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"..."})}),"\n"]})})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Description of results"})}),"\n",(0,i.jsx)(s.p,{children:"The visualization image is generated in the current directory at the end of the example run. Some of the results are shown as belows:"}),"\n",(0,i.jsx)(s.p,{children:"Original picture:"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsxs)("colgroup",{children:[(0,i.jsx)("col",{style:{width:"50%"}}),(0,i.jsx)("col",{style:{width:"50%"}})]}),(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{children:["camera0 (rear view)",(0,i.jsx)("br",{})," ",(0,i.jsx)("img",{src:h,alt:"VP6_avm_camera_0"})]}),(0,i.jsxs)("td",{children:["camera1 (front view)",(0,i.jsx)("br",{})," ",(0,i.jsx)("img",{src:d,alt:"VP6_avm_camera_1"})]})]}),(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{children:["camera2 (left view)",(0,i.jsx)("br",{})," ",(0,i.jsx)("img",{src:p,alt:"VP6_avm_camera_2"})]}),(0,i.jsxs)("td",{children:["camera3 (right view)",(0,i.jsx)("br",{})," ",(0,i.jsx)("img",{src:x,alt:"VP6_avm_camera_3"})]})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"De-distortion + top view:"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsxs)("colgroup",{children:[(0,i.jsx)("col",{style:{width:"50%"}}),(0,i.jsx)("col",{style:{width:"50%"}})]}),(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{children:["camera0 (rear view)",(0,i.jsx)("br",{})," ",(0,i.jsx)("img",{src:m,alt:"VP6_topview_camera_0_trans",height:"400",width:"400"})]}),(0,i.jsxs)("td",{children:["camera1 (front view)",(0,i.jsx)("br",{})," ",(0,i.jsx)("img",{src:j,alt:"VP6_topview_camera_1_trans",height:"400",width:"400"})]})]}),(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{children:["camera0 (left view)",(0,i.jsx)("br",{})," ",(0,i.jsx)("img",{src:k,alt:"VP6_topview_camera_2_trans",height:"350",width:"350"})]}),(0,i.jsxs)("td",{children:["camera1 (right view)",(0,i.jsx)("br",{})," ",(0,i.jsx)("img",{src:v,alt:"VP6_topview_camera_3_trans",height:"350",width:"350"})]})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"Splice around view:"}),"\n",(0,i.jsx)("img",{src:u,alt:"VP6_avm1",height:"400",width:"400"}),"\n",(0,i.jsxs)(s.div,{className:"rspress-directive warning",children:[(0,i.jsx)(s.div,{className:"rspress-directive-title",children:"Attention"}),(0,i.jsx)(s.div,{className:"rspress-directive-content",children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"The sample remap runs on gdc by default."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"If you need to replace the picture, please change the camera parameter configuration data corresponding to the picture, otherwise there will be problems with the operation."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Environment variables:"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"HB_AVM_GDC_MAP_DUMP"})," choose whether dump gdc's map."]}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-bash",meta:"",children:[(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Set to 1 to dump map"})}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" HB_AVM_GDC_MAP_DUMP"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"})]}),"\n"]})})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"HB_AVM_GDC_RES_DUMP"})," choose whether to dump the results of the top\nview."]}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-bash",meta:"",children:[(0,i.jsx)(s.span,{className:"line line-number",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Set to 1 to dump gdc's picture."})}),"\n",(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" HB_AVM_GDC_RES_DUMP"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"})]}),"\n"]})})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"HB_AVM_LOG_LEVEL"})," log level, 1 for debug."]}),"\n",(0,i.jsx)(s.pre,{className:"code",children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(s.span,{className:"line line-number",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" HB_AVM_LOG_LEVEL"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"})]}),"\n"]})})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"When the YUV image is dumped as a JPG file, if the width or height of the YUV image does not satisfy the Codec alignment rules, it will be dumped by default using the opencv method."}),"\n"]}),"\n"]})})]})]})}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,r.ah)(),e.components);return s?(0,i.jsx)(s,Object.assign({},e,{children:(0,i.jsx)(g,e)})):g(e)}s.default=y,y.__RSPRESS_PAGE_META={},y.__RSPRESS_PAGE_META["3.0.22%2Fen%2Fguide%2Fucp%2Fvp%2Fvp6_sample%2Fop_sample_avm.mdx"]={toc:[],title:"Surround View Image Stitching Sample",frontmatter:{}}},95895:function(e,s,n){n(39710);var i=n(85893),r=n(67294),t=n(45687);n(20388);let a={"zh-CN":e=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${e.minutes>=1?`${Math.ceil(e.minutes)} \u{5206}\u{949F}`:"\u5C0F\u4E8E 1 \u5206\u949F"}`,"en-US":e=>`Estimated reading time: ${e.minutes>=1?`${Math.ceil(e.minutes)} minutes`:"less than 1 minute"}`};function l(e,s,n){let i=Object.keys(a).includes(s)?s:n;return a[i](e)}s.Z=e=>{let{defaultLocale:s="en-US"}=e,n=(0,t.Vi)().page.readingTimeData,a=(0,t.Jr)(),o=(0,t.e7)(),[c,h]=(0,r.useState)(l(n,a,s));return(0,r.useEffect)(()=>{h(l(n,a,s))},[a,n]),(0,i.jsx)("span",{"data-dark":String(o),className:"rp-reading-time",children:c})}}}]);