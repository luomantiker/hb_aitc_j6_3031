"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["47028"],{77730:function(s,n,e){e.r(n);var o=e(85893),r=e(50065),l=e(95895);function i(s){let n=Object.assign({h1:"h1",a:"a",h2:"h2",h3:"h3",p:"p",code:"code",pre:"pre",span:"span",ol:"ol",li:"li",ul:"ul"},(0,r.ah)(),s.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.h1,{id:"\u5E38\u89C1\u95EE\u9898",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5E38\u89C1\u95EE\u9898",children:"#"}),"\u5E38\u89C1\u95EE\u9898"]}),"\n",(0,o.jsx)(l.Z,{}),"\n",(0,o.jsxs)(n.h2,{id:"\u8BAD\u7EC3\u73AF\u5883",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8BAD\u7EC3\u73AF\u5883",children:"#"}),"\u8BAD\u7EC3\u73AF\u5883"]}),"\n",(0,o.jsxs)(n.h3,{id:"docker-\u5BB9\u5668\u65E0\u6CD5\u4F7F\u7528-nvidia-\u8D44\u6E90",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#docker-\u5BB9\u5668\u65E0\u6CD5\u4F7F\u7528-nvidia-\u8D44\u6E90",children:"#"}),"Docker \u5BB9\u5668\u65E0\u6CD5\u4F7F\u7528 Nvidia \u8D44\u6E90\uFF1F"]}),"\n",(0,o.jsxs)(n.p,{children:["\u89E3\u51B3\u65B9\u6CD5\uFF1A\u5EFA\u8BAE\u53C2\u8003\u6587\u6863\u4E2D ",(0,o.jsx)(n.a,{href:"/3.0.22/zh/guide/env_install.html#docker_image_usage",children:"\u73AF\u5883\u90E8\u7F72"})," \u7AE0\u8282\u4E2D GPU Docker \u90E8\u5206\u7684\u63CF\u8FF0\u3002"]}),"\n",(0,o.jsxs)(n.h2,{id:"qat-\u91CF\u5316\u8BAD\u7EC3",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#qat-\u91CF\u5316\u8BAD\u7EC3",children:"#"}),"QAT \u91CF\u5316\u8BAD\u7EC3"]}),"\n",(0,o.jsxs)(n.h3,{id:"\u91CF\u5316\u7CBE\u5EA6\u5F02\u5E38",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u91CF\u5316\u7CBE\u5EA6\u5F02\u5E38",children:"#"}),"\u91CF\u5316\u7CBE\u5EA6\u5F02\u5E38"]}),"\n",(0,o.jsxs)(n.p,{children:["\u89E3\u51B3\u65B9\u6CD5\uFF1AQAT/Quantized \u7CBE\u5EA6\u4E0D\u7B26\u5408\u9884\u671F\u3001\u51FA\u73B0 NAN \u6216 QAT \u521D\u59CB loss \u76F8\u5BF9 float \u660E\u663E\u5F02\u5E38\u3002\u8BF7\u53C2\u8003 ",(0,o.jsx)(n.a,{href:"/3.0.22/zh/guide/plugin/user_guide/quant_analysis.html",children:"\u7CBE\u5EA6\u8C03\u4F18\u5DE5\u5177\u4F7F\u7528\u6307\u5357"}),"\u3002"]}),"\n",(0,o.jsxs)(n.h3,{id:"\u4E3A\u4EC0\u4E48\u5F00\u542F\u591A\u673A\u8BAD\u7EC3\u540E\u7CBE\u5EA6\u8868\u73B0\u53D8\u5DEE",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E3A\u4EC0\u4E48\u5F00\u542F\u591A\u673A\u8BAD\u7EC3\u540E\u7CBE\u5EA6\u8868\u73B0\u53D8\u5DEE",children:"#"}),"\u4E3A\u4EC0\u4E48\u5F00\u542F\u591A\u673A\u8BAD\u7EC3\u540E\u7CBE\u5EA6\u8868\u73B0\u53D8\u5DEE\uFF1F"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\u5F00\u542F\u591A\u673A\u8BAD\u7EC3\u540E batchsize \u6210\u500D\u589E\u5927\uFF0C\u6B64\u65F6\u9700\u8981\u540C\u6B65\u8C03\u6574 LR \u7B49\u8D85\u53C2\u6765\u8FDB\u884C\u5E73\u8861\u3002"}),"\n",(0,o.jsxs)(n.h3,{id:"qconfig-\u662F\u5426\u9700\u8981\u7528\u6237\u5E72\u9884",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#qconfig-\u662F\u5426\u9700\u8981\u7528\u6237\u5E72\u9884",children:"#"}),"Qconfig \u662F\u5426\u9700\u8981\u7528\u6237\u5E72\u9884\uFF1F"]}),"\n",(0,o.jsxs)(n.p,{children:["\u89E3\u51B3\u65B9\u6CD5\uFF1A\u5730\u5E73\u7EBF\u63D0\u4F9B\u7684 ",(0,o.jsx)(n.code,{children:"Qconfig"})," \u5B9A\u4E49\u4E86 activation \u548C weight \u5982\u4F55\u8FDB\u884C\u91CF\u5316\uFF0C\u76EE\u524D\u652F\u6301 ",(0,o.jsx)(n.code,{children:"FakeQuantize"}),"\u3001",(0,o.jsx)(n.code,{children:"LSQ"}),"\u3001",(0,o.jsx)(n.code,{children:"PACT"})," \u7B49\u91CF\u5316\u7B97\u6CD5\u3002"]}),"\n",(0,o.jsxs)(n.h3,{id:"\u5982\u4F55\u5BFC\u51FA\u5404\u9636\u6BB5\u7684-onnx-\u6A21\u578B",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5982\u4F55\u5BFC\u51FA\u5404\u9636\u6BB5\u7684-onnx-\u6A21\u578B",children:"#"}),"\u5982\u4F55\u5BFC\u51FA\u5404\u9636\u6BB5\u7684 ONNX \u6A21\u578B\uFF1F"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\n\u8BF7\u53C2\u8003\u5982\u4E0B\u4EE3\u7801\u5B9E\u73B0\uFF1A"}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"from "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"horizon_plugin_pytorch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"utils import onnx_helper as horizon_onnx_helper"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"# [Optional] Export float \u3001qat net to ONNX"})}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"# --------------------------------------------------------------------"})}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:'logging.info("'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Export"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"qat"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"model"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"to"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ONNX"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"..."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'")'})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"data = torch.rand((1, 3, 228, 228), device=device)"})}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'horizon_onnx_helper.export_to_onnx(qat_net, data, "'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"resnet_qat"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"onnx"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'")'})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"# [Optional] Export quantized_model to ONNX"})}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"# --------------------------------------------------------------------"})}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"horizon_onnx_helper.export_quantized_onnx("})}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'    quantized_model, data, "'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"resnet_quantized"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"onnx"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"'})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:")"})}),"\n"]})})}),"\n",(0,o.jsxs)(n.h3,{id:"\u4E3A\u4EC0\u4E48-qat-\u8BAD\u7EC3\u65F6\u5B58\u5728-nan",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E3A\u4EC0\u4E48-qat-\u8BAD\u7EC3\u65F6\u5B58\u5728-nan",children:"#"}),"\u4E3A\u4EC0\u4E48 QAT \u8BAD\u7EC3\u65F6\u5B58\u5728 nan\uFF1F"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\n\u8BE5\u95EE\u9898\u7684\u5F71\u54CD\u56E0\u7D20\u8F83\u591A\uFF0C\u5EFA\u8BAE\u4ECE\u4EE5\u4E0B\u51E0\u4E2A\u65B9\u9762\u68C0\u67E5\uFF1A"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u68C0\u67E5\u8F93\u5165\u6570\u636E\u662F\u5426\u542B nan\uFF1B"}),"\n",(0,o.jsx)(n.li,{children:"\u68C0\u67E5\u6D6E\u70B9\u6A21\u578B\u662F\u5426\u6536\u655B\u3002\u672A\u6536\u655B\u7684\u6D6E\u70B9\u6A21\u578B\u9488\u5BF9\u67D0\u4E9B\u5FAE\u91CF\u5316\u8BEF\u5DEE\u53EF\u80FD\u4F1A\u5BFC\u81F4\u5F88\u5927\u6CE2\u52A8\uFF1B"}),"\n",(0,o.jsx)(n.li,{children:"\u68C0\u67E5\u662F\u5426\u5F00\u542F calib\u3002\u5EFA\u8BAE\u5F00\u542F\uFF0C\u53EF\u4EE5\u7ED9\u6A21\u578B\u66F4\u597D\u7684\u521D\u59CB\u7CFB\u6570\uFF1B"}),"\n",(0,o.jsx)(n.li,{children:"\u68C0\u67E5\u8BAD\u7EC3\u7B56\u7565\u662F\u5426\u9002\u5408\u3002\u4E0D\u9002\u5408\u7684\u8BAD\u7EC3\u7B56\u7565\u4E5F \u4F1A\u5BFC\u81F4\u51FA\u73B0 NAN \u503C\uFF0C\u4F8B\u5982\u5B66\u4E60\u7387 lr \u8FC7\u5927\uFF08\u53EF\u901A\u8FC7\u8C03\u4F4E\u5B66\u4E60\u7387\u6216\u4F7F\u7528\u68AF\u5EA6\u622A\u65AD\u65B9\u5F0F\uFF09\u7B49\u3002\u5728\u8BAD\u7EC3\u7B56\u7565\u4E0A\uFF0C\u9ED8\u8BA4 QAT \u4E0E\u6D6E\u70B9\u4FDD\u6301\u4E00\u81F4\uFF0C\u5982\u679C\u6D6E\u70B9\u8BAD\u7EC3\u91C7\u7528\u7684\u662F OneCycle \u7B49\u4F1A\u5F71\u54CD LR \u8BBE\u7F6E\u7684\u4F18\u5316\u5668\uFF0C\u5EFA\u8BAE\u4F7F\u7528 SGD \u66FF\u6362\u3002"}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"\u914D\u7F6E-int16-\u8282\u70B9\u6216\u9AD8\u7CBE\u5EA6\u8F93\u51FA\u8282\u70B9\u65E0\u6548",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u914D\u7F6E-int16-\u8282\u70B9\u6216\u9AD8\u7CBE\u5EA6\u8F93\u51FA\u8282\u70B9\u65E0\u6548",children:"#"}),"\u914D\u7F6E int16 \u8282\u70B9\u6216\u9AD8\u7CBE\u5EA6\u8F93\u51FA\u8282\u70B9\u65E0\u6548"]}),"\n",(0,o.jsx)(n.p,{children:"\u8BE5\u73B0\u8C61\u53EF\u80FD\u662F\u56E0\u4E3A\u9519\u8BEF\u914D\u7F6E module_name \u5BFC\u81F4\uFF0Cmodule_name \u5B57\u6BB5\u53EA\u652F\u6301 string\uFF0C\u4E0D\u652F\u6301\u6309 index \u7D22\u5F15\u8FDB\u884C\u914D\u7F6E\u3002"}),"\n",(0,o.jsxs)(n.h3,{id:"\u5982\u4F55\u67E5\u770B\u67D0\u4E00\u5C42\u662F\u5426\u5F00\u542F\u4E86\u9AD8\u7CBE\u5EA6\u8F93\u51FA",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5982\u4F55\u67E5\u770B\u67D0\u4E00\u5C42\u662F\u5426\u5F00\u542F\u4E86\u9AD8\u7CBE\u5EA6\u8F93\u51FA",children:"#"}),"\u5982\u4F55\u67E5\u770B\u67D0\u4E00\u5C42\u662F\u5426\u5F00\u542F\u4E86\u9AD8\u7CBE\u5EA6\u8F93\u51FA\uFF1F"]}),"\n",(0,o.jsxs)(n.p,{children:["\u89E3\u51B3\u65B9\u6CD5\uFF1A\u53EF\u4EE5\u6253\u5370 qat_model \u7684\u6240\u5728\u5C42\uFF0C\u67E5\u770B\u8BE5\u5C42\u662F\u5426\u6709 ",(0,o.jsx)(n.code,{children:"(activation_post_process): FakeQuantize"}),"\uFF0C\u82E5\u6CA1\u6709\uFF0C\u5219\u8BF4\u660E\u5176\u4E3A\u9AD8\u7CBE\u5EA6\u8F93\u51FA\u3002\u4F8B\u5982 int32 \u9AD8\u7CBE\u5EA6 conv \u6253\u5370\u5982\u4E0B\uFF1A"]}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"): "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ConvModule2d"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  ("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"): "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Conv2d"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"64"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" kernel_size"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" stride"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" padding"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    (weight_fake_quant): "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"FakeQuantize"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      fake_quant_enabled"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"uint8)"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" observer_enabled"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"uint8)"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      quant_min"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"128"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" quant_max"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"127"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"qint8"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" qscheme"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"per_channel_symmetric"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ch_axis"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      scale"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"])"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" zero_point"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"])"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      (activation_post_process): "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"MovingAveragePerChannelMinMaxObserver"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(min_val"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"([]), max_val=tensor([]))"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    )"})}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  )"})}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})}),"\n"]})})}),"\n",(0,o.jsx)(n.p,{children:"int8 \u4F4E\u7CBE\u5EA6 conv \u6253\u5370\u5982\u4E0B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"): "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ConvModule2d"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  ("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"): "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ConvReLU2d"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"64"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"64"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" kernel_size"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" stride"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" padding"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    (weight_fake_quant): "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"FakeQuantize"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      fake_quant_enabled"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"uint8)"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" observer_enabled"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"uint8)"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      quant_min"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"128"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" quant_max"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"127"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"qint8"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" qscheme"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"per_channel_symmetric"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ch_axis"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      scale"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"])"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      zero_point"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                         "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                         "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"])"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      (activation_post_process): "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"MovingAveragePerChannelMinMaxObserver"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(min_val"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"([]), max_val=tensor([]))"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    )"})}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    ("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"activation_post_process"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"): FakeQuantize("})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"fake_quant_enabled"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"uint8)"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"observer_enabled"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"uint8)"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      quant_min"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"128"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"quant_max"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"127"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"qint8"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"qscheme"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"per_tensor_symmetric"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ch_axis"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      scale"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"])"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"zero_point"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"])"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      (activation_post_process): "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"MovingAverageMinMaxObserver"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(min_val"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"([]), max_val=tensor([]))"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    )"})}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  )"})}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"\uFF09"})}),"\n"]})})}),"\n",(0,o.jsxs)(n.h3,{id:"\u8F85\u52A9\u5206\u652F\u80FD\u5426\u63D2\u5165\u4F2A\u91CF\u5316\u8282\u70B9",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8F85\u52A9\u5206\u652F\u80FD\u5426\u63D2\u5165\u4F2A\u91CF\u5316\u8282\u70B9",children:"#"}),"\u8F85\u52A9\u5206\u652F\u80FD\u5426\u63D2\u5165\u4F2A\u91CF\u5316\u8282\u70B9\uFF1F"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\u5EFA\u8BAE\u4EC5\u5BF9\u90E8\u7F72\u4E0A\u677F\u7684\u6A21\u578B\u90E8\u5206\u63D2\u5165\u4F2A\u91CF\u5316\u8282\u70B9\u3002\u7531\u4E8E QAT \u8BAD\u7EC3\u4E3A\u5168\u5C40\u8BAD\u7EC3\uFF0C\u8F85\u52A9\u5206\u652F\u7684\u5B58\u5728\u4F1A\u5BFC\u81F4\u8BAD\u7EC3\u96BE\u5EA6\u589E\u52A0\uFF0C\u82E5\u8F85\u52A9\u5206\u652F\u5904\u7684\u6570\u636E\u5206\u5E03\u4E0E\u5176\u4ED6\u5206\u652F\u5DEE\u5F02\u8F83\u5927\u8FD8\u4F1A\u52A0\u5927\u7CBE\u5EA6\u98CE\u9669\uFF0C\u5EFA\u8BAE\u53BB\u9664\u3002"}),"\n",(0,o.jsxs)(n.h3,{id:"\u5982\u4F55\u5C06\u5730\u5E73\u7EBF-gridsample-\u7B97\u5B50\u6539\u5199\u4E3A-torch-\u516C\u7248\u5B9E\u73B0",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5982\u4F55\u5C06\u5730\u5E73\u7EBF-gridsample-\u7B97\u5B50\u6539\u5199\u4E3A-torch-\u516C\u7248\u5B9E\u73B0",children:"#"}),"\u5982\u4F55\u5C06\u5730\u5E73\u7EBF gridsample \u7B97\u5B50\u6539\u5199\u4E3A torch \u516C\u7248\u5B9E\u73B0\uFF1F"]}),"\n",(0,o.jsxs)(n.p,{children:["\u89E3\u51B3\u65B9\u6CD5\uFF1Ahorizon_plugin_pytorch \u4E2D\u7684 gridsample \u7B97\u5B50\u975E\u516C\u7248\u5B9E\u73B0\uFF0C\u5176 grid \u8F93\u5165\uFF08\u8F93\u5165 2\uFF09\u662F int16 \u7C7B\u578B\u7684\u7EDD\u5BF9\u5750\u6807\uFF0C\u800C torch \u516C\u7248\u662F float32 \u7C7B\u578B\u7684\u5F52\u4E00\u5316\u5750\u6807\uFF0C\u8303\u56F4\u662F ",(0,o.jsx)(n.code,{children:"[-1, 1]"}),"\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u56E0\u6B64\uFF0C\u4ECE ",(0,o.jsx)(n.code,{children:"torch.nn.functional.grid_sample"})," \u8DEF\u5F84\u5BFC\u5165 grid_sample \u7B97\u5B50\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5982\u4E0B\u65B9\u5F0F\u5F52\u4E00\u5316 grid\uFF1A"]}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"def"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"norm_grid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"x"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"grid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  n "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"grid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"size"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  h "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"grid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"size"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  w "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"grid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"size"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  base_coord_y "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ("})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"arange"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(h"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"grid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" device"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"grid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"device)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      ."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"unsqueeze"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      ."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"unsqueeze"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      ."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"expand"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(n"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" h"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" w)"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  )"})}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  base_coord_x "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ("})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"arange"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(w"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"grid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" device"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"grid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"device)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      ."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"unsqueeze"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      ."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"unsqueeze"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      ."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"expand"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(n"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" h"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" w)"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  )"})}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  absolute_grid_x "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"grid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"[:"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" :"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" :"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"] "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" base_coord_x"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  absolute_grid_y "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"grid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"[:"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" :"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" :"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"] "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" base_coord_y"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  norm_grid_x "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" absolute_grid_x "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"x"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"size"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  norm_grid_y "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" absolute_grid_y "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"x"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"size"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  norm_grid "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"stack"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"((norm_grid_x"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" norm_grid_y)"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dim"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" norm_grid"})]}),"\n"]})})}),"\n",(0,o.jsxs)(n.h3,{id:"load-calibration-\u540E\u7684-qat-\u8BAD\u7EC3\u4E3A\u4EC0\u4E48\u6743\u91CD\u53C2\u6570\u4E0D\u66F4\u65B0",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#load-calibration-\u540E\u7684-qat-\u8BAD\u7EC3\u4E3A\u4EC0\u4E48\u6743\u91CD\u53C2\u6570\u4E0D\u66F4\u65B0",children:"#"}),"load calibration \u540E\u7684 QAT \u8BAD\u7EC3\u4E3A\u4EC0\u4E48\u6743\u91CD\u53C2\u6570\u4E0D\u66F4\u65B0\uFF1F"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\n\u53EF\u4EE5\u4F9D\u6B21\u68C0\u67E5\u5982\u4E0B\uFF1A"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"prepare \u662F\u5426\u5728 optimizer \u5B9A\u4E49\u4E4B\u524D\u3002\u56E0\u4E3A prepare_qat \u4F1A\u8FDB\u884C\u7B97\u5B50\u878D\u5408\uFF0C\u5BFC\u81F4\u6A21\u578B\u7ED3\u6784\u53D1\u751F\u53D8\u5316\uFF1B"}),"\n",(0,o.jsx)(n.li,{children:"fake_quant_enabled \u548C observe_enabled \u662F\u5426\u4E3A 1\uFF1B"}),"\n",(0,o.jsx)(n.li,{children:"module \u4E2D\u7684 training \u53D8\u91CF\u662F\u5426\u4E3A True\u3002"}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"\u5982\u4F55\u5904\u7406-prepare_fx-\u4E0D\u652F\u6301\u7684-float-\u7C7B\u578B\u5E38\u91CF---\u64CD\u4F5C",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5982\u4F55\u5904\u7406-prepare_fx-\u4E0D\u652F\u6301\u7684-float-\u7C7B\u578B\u5E38\u91CF---\u64CD\u4F5C",children:"#"}),"\u5982\u4F55\u5904\u7406 prepare_fx \u4E0D\u652F\u6301\u7684 float \u7C7B\u578B\u5E38\u91CF +-*/ \u64CD\u4F5C\uFF1F"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\u7531\u4E8E\u6A21\u578B\u5728\u8F6C\u6362\u4E3A\u9759\u6001\u56FE\u65F6\uFF0Cfloat \u64CD\u4F5C\u65E0\u6CD5\u88AB fx \u8BB0\u5F55\uFF0C\u6240\u4EE5\u4F1A\u89E6\u53D1 add \u4E0D\u652F\u6301\uFF0Cfloat \u672A\u8F6C\u6362\u4E3A qtensor \u7B49\u62A5\u9519\u3002\n\u6B64\u65F6\u9700\u8981\u5C06\u5E38\u91CF\u4FEE\u6539\u4E3A tensor\uFF0C\u5E76\u5C06\u8F93\u5165\u7684 tensor \u505A\u91CF\u5316\uFF08\u63D2\u5165 quantstub\uFF09\uFF0C\u5373\u53EF\u5C06\u7B26\u53F7\u8FD0\u7B97\u8F6C\u6362\u4E3A FloatFunction\u3002\u4EE5\u4E0B\u63D0\u4F9B\u4E00\u4E2A\u53C2\u8003\u793A\u4F8B\u3002"}),"\n",(0,o.jsx)(n.p,{children:"\u4FEE\u6539\u524D\uFF1A"}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"#init"})}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"def"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"__init__"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"epsilon"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"e-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"p5_w1 "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"nn"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Parameter"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ones"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"float32)"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" requires_grad"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"True)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"act "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"nn"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ReLU"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"#forward"})}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"def"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"forward"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"x"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    x "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"quant_stub"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(x)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    p5_w1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"quant_stub"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"p5_w1)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    p5_w1 "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"act"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(p5_w1)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    p1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"sum"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"p5_w1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"unsqueeze"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dim"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" keepdim"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"True)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    cc_p5 "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" p1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"epsilon"})]}),"\n"]})})}),"\n",(0,o.jsx)(n.p,{children:"\u4FEE\u6539\u540E\uFF1A"}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"#init"})}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"def"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"__init__"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"p5_w1 "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"nn"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Parameter"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ones"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dtype"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"float32)"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" requires_grad"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"True)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"act "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"nn"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ReLU"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"epsilon "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Tensor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"e-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"])"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"mul_fu "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"nn"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"quantized"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"FloatFunctional"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"#forward"})}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"def"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"forward"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"x"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    x "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"quant_stub"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(x)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    p5_w1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"quant_stub"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"p5_w1)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    epsilon"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"quant_stub"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"epsilon)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    p5_w1 "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"act"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(p5_w1)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    p1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"torch"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"sum"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"p5_w1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"unsqueeze"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" dim"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" keepdim"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"True)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    cc_p5 "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"mul_fu"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"add"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(p1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" epsilon)"})]}),"\n"]})})}),"\n",(0,o.jsxs)(n.h2,{id:"\u8BBE\u7F6E\u7C7B\u9519\u8BEF",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8BBE\u7F6E\u7C7B\u9519\u8BEF",children:"#"}),"\u8BBE\u7F6E\u7C7B\u9519\u8BEF"]}),"\n",(0,o.jsxs)(n.h3,{id:"\u65E0\u9700\u91CF\u5316\u7684\u6A21\u5757\u8BBE\u7F6E\u4E86\u975E-none-\u7684-qconfig\u4F8B\u5982-\u524D\u540E\u5904\u7406loss-function-\u7B49",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u65E0\u9700\u91CF\u5316\u7684\u6A21\u5757\u8BBE\u7F6E\u4E86\u975E-none-\u7684-qconfig\u4F8B\u5982-\u524D\u540E\u5904\u7406loss-function-\u7B49",children:"#"}),"\u65E0\u9700\u91CF\u5316\u7684\u6A21\u5757\u8BBE\u7F6E\u4E86\u975E None \u7684 qconfig\uFF0C\u4F8B\u5982 \u524D\u540E\u5904\u7406\uFF0Closs function \u7B49\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\u53EA\u5BF9\u9700\u8981\u91CF\u5316\u7684\u6A21\u5757\u8BBE\u7F6E qconfig\u3002"}),"\n",(0,o.jsxs)(n.h3,{id:"\u6CA1\u6709\u6B63\u786E\u8BBE\u7F6E-march\u8FD9\u6837\u53EF\u80FD\u5BFC\u81F4\u6A21\u578B\u7F16\u8BD1\u5931\u8D25\u6216\u90E8\u7F72\u7CBE\u5EA6\u4E0D\u4E00\u81F4",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6CA1\u6709\u6B63\u786E\u8BBE\u7F6E-march\u8FD9\u6837\u53EF\u80FD\u5BFC\u81F4\u6A21\u578B\u7F16\u8BD1\u5931\u8D25\u6216\u90E8\u7F72\u7CBE\u5EA6\u4E0D\u4E00\u81F4",children:"#"}),"\u6CA1\u6709\u6B63\u786E\u8BBE\u7F6E march\uFF0C\u8FD9\u6837\u53EF\u80FD\u5BFC\u81F4\u6A21\u578B\u7F16\u8BD1\u5931\u8D25\u6216\u90E8\u7F72\u7CBE\u5EA6\u4E0D\u4E00\u81F4\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\u6839\u636E\u8981\u90E8\u7F72\u7684\u5904\u7406\u5668\u9009\u62E9\u6B63\u786E\u7684 BPU \u67B6\u6784\uFF0C\u5982 J6 \u9700\u8981\u4F7F\u7528 Nash\uFF1A"}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"horizon"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"march"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"set_march"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(horizon.march.March.NASH)"})]}),"\n"]})})}),"\n",(0,o.jsxs)(n.h3,{id:"\u6A21\u578B\u8F93\u51FA\u8282\u70B9\u6CA1\u6709\u8BBE\u7F6E\u6210\u9AD8\u7CBE\u5EA6\u8F93\u51FA\u5BFC\u81F4\u91CF\u5316\u7CBE\u5EA6\u4E0D\u7B26\u5408\u9884\u671F",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6A21\u578B\u8F93\u51FA\u8282\u70B9\u6CA1\u6709\u8BBE\u7F6E\u6210\u9AD8\u7CBE\u5EA6\u8F93\u51FA\u5BFC\u81F4\u91CF\u5316\u7CBE\u5EA6\u4E0D\u7B26\u5408\u9884\u671F",children:"#"}),"\u6A21\u578B\u8F93\u51FA\u8282\u70B9\u6CA1\u6709\u8BBE\u7F6E\u6210\u9AD8\u7CBE\u5EA6\u8F93\u51FA\uFF0C\u5BFC\u81F4\u91CF\u5316\u7CBE\u5EA6\u4E0D\u7B26\u5408\u9884\u671F\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u9519\u8BEF\u793A\u4F8B\u5982\u4E0B\uFF1A"}),"\n",(0,o.jsx)(n.p,{children:"\u5047\u8BBE\u6A21\u578B\u5B9A\u4E49\u5982\u4E0B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ToyNet"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"nn"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Module"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"__init__"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"conv0 "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" nn"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Conv2d"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"relu0 "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" nn"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ReLU"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"classifier "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" nn"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Conv2d"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"forward"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"x"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        out "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"conv0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(x)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        out "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"relu"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(out)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        out "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"classifier"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(out)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" out"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# \u9519\u8BEF\u7684\u8BBE\u7F6E qconfig \u793A\u4F8B\uFF1A"})}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"float_model "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ToyNet"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# \u6574\u7F51\u8BBE\u7F6E\u6210 int8 \u91CF\u5316"})}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"float_model"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"qconfig "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" default_qat_8bit_fake_quant_qconfig"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"qat_model "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"prepare"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(float_model, example_input)"})]}),"\n"]})})}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\u4E3A\u4E86\u63D0\u9AD8\u6A21\u578B\u7CBE\u5EA6\uFF0C\u6A21\u578B\u8F93\u51FA\u8282\u70B9\u8BBE\u7F6E\u6210\u9AD8\u7CBE\u5EA6\uFF0C\u793A\u4F8B\u5982\u4E0B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"qat_model "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" horizon"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"quantization"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"prepare"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    float_model,"})}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    example_input,"})}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# \u4F7F\u7528\u9ED8\u8BA4\u6A21\u677F\uFF0C\u81EA\u52A8\u4E3A\u8F93\u51FA\u8BBE\u7F6E\u9AD8\u7CBE\u5EA6"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    qconfig_setter "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:" horizon.quantization.qconfig_template.default_qat_qconfig_setter,"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})}),"\n"]})})}),"\n",(0,o.jsxs)(n.h2,{id:"\u65B9\u6CD5\u7C7B\u9519\u8BEF",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u65B9\u6CD5\u7C7B\u9519\u8BEF",children:"#"}),"\u65B9\u6CD5\u7C7B\u9519\u8BEF"]}),"\n",(0,o.jsxs)(n.h3,{id:"calibration-\u8FC7\u7A0B\u4F7F\u7528\u591A\u5361",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#calibration-\u8FC7\u7A0B\u4F7F\u7528\u591A\u5361",children:"#"}),"Calibration \u8FC7\u7A0B\u4F7F\u7528\u591A\u5361\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\u7531\u4E8E\u5E95\u5C42\u9650\u5236\uFF0CCalibration \u76EE\u524D\u4E0D\u652F\u6301\u591A\u5361\uFF0C\u8BF7\u4F7F\u7528\u5355\u5361\u8FDB\u884C Calibration \u64CD\u4F5C\u3002"}),"\n",(0,o.jsxs)(n.h3,{id:"\u6A21\u578B\u8F93\u5165\u56FE\u50CF\u6570\u636E\u91C7\u7528\u6570\u636E\u683C\u5F0F\u4E3A-rgb-\u7B49\u975E-centered-yuv444-\u683C\u5F0F\u8FD9\u6837\u53EF\u80FD\u5BFC\u81F4\u6A21\u578B\u90E8\u7F72\u7CBE\u5EA6\u4E0D\u4E00\u81F4",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6A21\u578B\u8F93\u5165\u56FE\u50CF\u6570\u636E\u91C7\u7528\u6570\u636E\u683C\u5F0F\u4E3A-rgb-\u7B49\u975E-centered-yuv444-\u683C\u5F0F\u8FD9\u6837\u53EF\u80FD\u5BFC\u81F4\u6A21\u578B\u90E8\u7F72\u7CBE\u5EA6\u4E0D\u4E00\u81F4",children:"#"}),"\u6A21\u578B\u8F93\u5165\u56FE\u50CF\u6570\u636E\u91C7\u7528\u6570\u636E\u683C\u5F0F\u4E3A RGB \u7B49\u975E centered YUV444 \u683C\u5F0F\uFF0C\u8FD9\u6837\u53EF\u80FD\u5BFC\u81F4\u6A21\u578B\u90E8\u7F72\u7CBE\u5EA6\u4E0D\u4E00\u81F4\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\u7531\u4E8E Horizon \u786C\u4EF6\u652F\u6301\u7684\u56FE\u50CF\u683C\u5F0F\u4E3A centered YUV444\uFF0C\u56E0\u6B64\u5EFA\u8BAE\u60A8\u4ECE\u6A21\u578B\u8BAD\u7EC3\u5F00\u59CB\u5C31\u76F4\u63A5\u4F7F\u7528 YUV444 \u683C\u5F0F\u4F5C\u4E3A\u7F51\u7EDC\u8F93\u5165\u8FDB\u884C\u8BAD\u7EC3\u3002"}),"\n",(0,o.jsxs)(n.h3,{id:"\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u4E2D\u4F7F\u7528-qat-\u6A21\u578B\u8FDB\u884C\u6A21\u578B\u7CBE\u6D4B\u8BC4\u6D4B\u548C\u76D1\u63A7\u5BFC\u81F4\u4E0D\u80FD\u53CA\u65F6\u53D1\u73B0\u90E8\u7F72\u65F6\u7CBE\u5EA6\u5F02\u5E38\u7684\u95EE\u9898",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u4E2D\u4F7F\u7528-qat-\u6A21\u578B\u8FDB\u884C\u6A21\u578B\u7CBE\u6D4B\u8BC4\u6D4B\u548C\u76D1\u63A7\u5BFC\u81F4\u4E0D\u80FD\u53CA\u65F6\u53D1\u73B0\u90E8\u7F72\u65F6\u7CBE\u5EA6\u5F02\u5E38\u7684\u95EE\u9898",children:"#"}),"\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u4E2D\u4F7F\u7528 qat \u6A21\u578B\u8FDB\u884C\u6A21\u578B\u7CBE\u6D4B\u8BC4\u6D4B\u548C\u76D1\u63A7\uFF0C\u5BFC\u81F4\u4E0D\u80FD\u53CA\u65F6\u53D1\u73B0\u90E8\u7F72\u65F6\u7CBE\u5EA6\u5F02\u5E38\u7684\u95EE\u9898\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\u5BFC\u81F4 QAT \u4E0E Quantized \u8BEF\u5DEE\u7684\u539F\u56E0\u662F QAT \u9636\u6BB5\u4E0D\u80FD\u5B8C\u5168\u6A21\u62DF Quantized \u4E2D\u7EAF\u5B9A\u70B9\u8BA1\u7B97\u903B\u8F91\uFF0C\u5EFA\u8BAE\u4F7F\u7528 quantized \u6A21\u578B\u8FDB\u884C\u6A21\u578B\u7CBE\u5EA6\u8BC4\u6D4B\u548C\u76D1\u63A7\u3002"}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"quantized_hbir_model "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" hbdk4"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"compiler"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"convert"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(qat_hbir_model)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"acc "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"evaluate"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(quantized_hbir_model, eval_data_loader)"})]}),"\n"]})})}),"\n",(0,o.jsxs)(n.h2,{id:"\u7F51\u7EDC\u7C7B\u9519\u8BEF",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7F51\u7EDC\u7C7B\u9519\u8BEF",children:"#"}),"\u7F51\u7EDC\u7C7B\u9519\u8BEF"]}),"\n",(0,o.jsxs)(n.h3,{id:"\u591A\u6B21\u8C03\u7528\u540C\u4E00\u4E2A\u901A\u8FC7floatfunctional-\u5B9A\u4E49\u7684\u6210\u5458",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u591A\u6B21\u8C03\u7528\u540C\u4E00\u4E2A\u901A\u8FC7floatfunctional-\u5B9A\u4E49\u7684\u6210\u5458",children:"#"}),"\u591A\u6B21\u8C03\u7528\u540C\u4E00\u4E2A\u901A\u8FC7",(0,o.jsx)(n.code,{children:"FloatFunctional()"})," \u5B9A\u4E49\u7684\u6210\u5458\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u9519\u8BEF\u793A\u4F8B\u5982\u4E0B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ToyNet"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"nn"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Module"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"__init__"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"add "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"FloatFunctional"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"forward"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"x"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"y"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"z"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        out "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"add"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(x, y)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"add"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(out, z)"})]}),"\n"]})})}),"\n",(0,o.jsxs)(n.p,{children:["\u89E3\u51B3\u65B9\u6CD5\uFF1A\u7981\u6B62\u5728 forward \u4E2D\u591A\u6B21\u8C03\u7528\u540C\u4E00\u4E2A\u901A\u8FC7 ",(0,o.jsx)(n.code,{children:"FloatFunctional()"})," \u5B9A\u4E49\u7684\u53D8\u91CF\u3002"]}),"\n",(0,o.jsx)(n.pre,{className:"code",children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ToyNet"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"nn"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Module"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"__init__"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"add0 "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"FloatFunctional"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"add1 "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"FloatFunctional"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,o.jsx)(n.span,{className:"line line-number"}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"forward"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"x"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"y"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"z"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        out "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"add0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"add"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(x, y)"})]}),"\n",(0,o.jsxs)(n.span,{className:"line line-number",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" self"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"add1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"add"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(out, z)"})]}),"\n"]})})}),"\n",(0,o.jsxs)(n.h2,{id:"\u7B97\u5B50\u7C7B\u9519\u8BEF",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7B97\u5B50\u7C7B\u9519\u8BEF",children:"#"}),"\u7B97\u5B50\u7C7B\u9519\u8BEF"]}),"\n",(0,o.jsxs)(n.h3,{id:"quantized-\u6A21\u578B\u4E2D\u90E8\u5206\u7B97\u5B50\u6CA1\u6709\u7ECF\u8FC7\u524D\u671F\u7684-calibration-\u6216-qat\u5982\u67D0\u540E\u5904\u7406\u7B97\u5B50\u60F3\u8981\u5728-bpu-\u4E0A\u52A0\u901F\u4F46\u662F\u6CA1\u6709\u7ECF\u8FC7\u91CF\u5316\u9636\u6BB5\u8FD9\u65F6\u5019\u4F1A\u5BFC\u81F4\u91CF\u5316-inference-\u5931\u8D25\u6216\u90E8\u7F72\u65F6\u7684\u7CBE\u5EA6\u5F02\u5E38",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#quantized-\u6A21\u578B\u4E2D\u90E8\u5206\u7B97\u5B50\u6CA1\u6709\u7ECF\u8FC7\u524D\u671F\u7684-calibration-\u6216-qat\u5982\u67D0\u540E\u5904\u7406\u7B97\u5B50\u60F3\u8981\u5728-bpu-\u4E0A\u52A0\u901F\u4F46\u662F\u6CA1\u6709\u7ECF\u8FC7\u91CF\u5316\u9636\u6BB5\u8FD9\u65F6\u5019\u4F1A\u5BFC\u81F4\u91CF\u5316-inference-\u5931\u8D25\u6216\u90E8\u7F72\u65F6\u7684\u7CBE\u5EA6\u5F02\u5E38",children:"#"}),"Quantized \u6A21\u578B\u4E2D\u90E8\u5206\u7B97\u5B50\u6CA1\u6709\u7ECF\u8FC7\u524D\u671F\u7684 calibration \u6216 QAT\uFF0C\u5982\u67D0\u540E\u5904\u7406\u7B97\u5B50\u60F3\u8981\u5728 BPU \u4E0A\u52A0\u901F\uFF0C\u4F46\u662F\u6CA1\u6709\u7ECF\u8FC7\u91CF\u5316\u9636\u6BB5\uFF0C\u8FD9\u65F6\u5019\u4F1A\u5BFC\u81F4\u91CF\u5316 Inference \u5931\u8D25\u6216\u90E8\u7F72\u65F6\u7684\u7CBE\u5EA6\u5F02\u5E38\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1AQuantized \u9636\u6BB5\u5E76\u975E\u5B8C\u5168\u4E0D\u80FD\u76F4\u63A5\u6DFB\u52A0\u7B97\u5B50\uFF0C\u5982\u989C\u8272\u7A7A\u95F4\u8F6C\u6362\u7B97\u5B50\u7B49\uFF0C\u5177\u4F53\u6DFB\u52A0\u6307\u5357\u8BE6\u89C1\u6587\u6863\u3002\u4F46\u662F\u5E76\u975E\u6240\u6709\u7B97\u5B50\u90FD\u53EF\u4EE5\u76F4\u63A5\u6DFB\u52A0\uFF0C\u6BD4\u5982 cat\uFF0C\u8FD9\u79CD\u7B97\u5B50\u5FC5\u987B\u5728 calibration \u6216 QAT \u9636\u6BB5\u7EDF\u8BA1\u83B7\u5F97\u7684\u771F\u5B9E\u91CF\u5316\u53C2\u6570\u624D\u80FD\u4E0D\u5F71\u54CD\u6700\u7EC8\u7CBE\u5EA6\uFF0C\u6709\u7C7B\u4F3C\u9700\u6C42\u9700\u8981\u8C03\u6574\u7F51\u7EDC\u7ED3\u6784\uFF0C\u53EF\u4EE5\u54A8\u8BE2\u6846\u67B6\u7814\u53D1\u3002"}),"\n",(0,o.jsxs)(n.h2,{id:"\u6A21\u578B\u7C7B\u9519\u8BEF",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6A21\u578B\u7C7B\u9519\u8BEF",children:"#"}),"\u6A21\u578B\u7C7B\u9519\u8BEF"]}),"\n",(0,o.jsxs)(n.h3,{id:"\u6D6E\u70B9\u6A21\u578B\u8FC7\u62DF\u5408",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6D6E\u70B9\u6A21\u578B\u8FC7\u62DF\u5408",children:"#"}),"\u6D6E\u70B9\u6A21\u578B\u8FC7\u62DF\u5408\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u6A21\u578B\u8FC7\u62DF\u5408\u5E38\u89C1\u5224\u5B9A\u65B9\u6CD5\uFF1A"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u5BF9\u8F93\u5165\u6570\u636E\u7A0D\u52A0\u53D8\u6362\u4E4B\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u53D8\u5316\u8F83\u5927\u3002"}),"\n",(0,o.jsx)(n.li,{children:"\u6A21\u578B\u53C2\u6570\u8D4B\u503C\u8F83\u5927\u3002"}),"\n",(0,o.jsx)(n.li,{children:"\u6A21\u578B activation \u8F83\u5927\u3002"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u89E3\u51B3\u65B9\u6CD5\uFF1A\u81EA\u884C\u89E3\u51B3\u6D6E\u70B9\u6A21\u578B\u8FC7\u62DF\u5408\u95EE\u9898\u3002"})]})}function t(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),s.components);return n?(0,o.jsx)(n,Object.assign({},s,{children:(0,o.jsx)(i,s)})):i(s)}n.default=t,t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["3.0.22%2Fzh%2Fguide%2Fplugin%2Fqat_faq%2Ffaq.mdx"]={toc:[{id:"\u8BAD\u7EC3\u73AF\u5883",text:"\u8BAD\u7EC3\u73AF\u5883",depth:2},{id:"docker-\u5BB9\u5668\u65E0\u6CD5\u4F7F\u7528-nvidia-\u8D44\u6E90",text:"Docker \u5BB9\u5668\u65E0\u6CD5\u4F7F\u7528 Nvidia \u8D44\u6E90\uFF1F",depth:3},{id:"qat-\u91CF\u5316\u8BAD\u7EC3",text:"QAT \u91CF\u5316\u8BAD\u7EC3",depth:2},{id:"\u91CF\u5316\u7CBE\u5EA6\u5F02\u5E38",text:"\u91CF\u5316\u7CBE\u5EA6\u5F02\u5E38",depth:3},{id:"\u4E3A\u4EC0\u4E48\u5F00\u542F\u591A\u673A\u8BAD\u7EC3\u540E\u7CBE\u5EA6\u8868\u73B0\u53D8\u5DEE",text:"\u4E3A\u4EC0\u4E48\u5F00\u542F\u591A\u673A\u8BAD\u7EC3\u540E\u7CBE\u5EA6\u8868\u73B0\u53D8\u5DEE\uFF1F",depth:3},{id:"qconfig-\u662F\u5426\u9700\u8981\u7528\u6237\u5E72\u9884",text:"Qconfig \u662F\u5426\u9700\u8981\u7528\u6237\u5E72\u9884\uFF1F",depth:3},{id:"\u5982\u4F55\u5BFC\u51FA\u5404\u9636\u6BB5\u7684-onnx-\u6A21\u578B",text:"\u5982\u4F55\u5BFC\u51FA\u5404\u9636\u6BB5\u7684 ONNX \u6A21\u578B\uFF1F",depth:3},{id:"\u4E3A\u4EC0\u4E48-qat-\u8BAD\u7EC3\u65F6\u5B58\u5728-nan",text:"\u4E3A\u4EC0\u4E48 QAT \u8BAD\u7EC3\u65F6\u5B58\u5728 nan\uFF1F",depth:3},{id:"\u914D\u7F6E-int16-\u8282\u70B9\u6216\u9AD8\u7CBE\u5EA6\u8F93\u51FA\u8282\u70B9\u65E0\u6548",text:"\u914D\u7F6E int16 \u8282\u70B9\u6216\u9AD8\u7CBE\u5EA6\u8F93\u51FA\u8282\u70B9\u65E0\u6548",depth:3},{id:"\u5982\u4F55\u67E5\u770B\u67D0\u4E00\u5C42\u662F\u5426\u5F00\u542F\u4E86\u9AD8\u7CBE\u5EA6\u8F93\u51FA",text:"\u5982\u4F55\u67E5\u770B\u67D0\u4E00\u5C42\u662F\u5426\u5F00\u542F\u4E86\u9AD8\u7CBE\u5EA6\u8F93\u51FA\uFF1F",depth:3},{id:"\u8F85\u52A9\u5206\u652F\u80FD\u5426\u63D2\u5165\u4F2A\u91CF\u5316\u8282\u70B9",text:"\u8F85\u52A9\u5206\u652F\u80FD\u5426\u63D2\u5165\u4F2A\u91CF\u5316\u8282\u70B9\uFF1F",depth:3},{id:"\u5982\u4F55\u5C06\u5730\u5E73\u7EBF-gridsample-\u7B97\u5B50\u6539\u5199\u4E3A-torch-\u516C\u7248\u5B9E\u73B0",text:"\u5982\u4F55\u5C06\u5730\u5E73\u7EBF gridsample \u7B97\u5B50\u6539\u5199\u4E3A torch \u516C\u7248\u5B9E\u73B0\uFF1F",depth:3},{id:"load-calibration-\u540E\u7684-qat-\u8BAD\u7EC3\u4E3A\u4EC0\u4E48\u6743\u91CD\u53C2\u6570\u4E0D\u66F4\u65B0",text:"load calibration \u540E\u7684 QAT \u8BAD\u7EC3\u4E3A\u4EC0\u4E48\u6743\u91CD\u53C2\u6570\u4E0D\u66F4\u65B0\uFF1F",depth:3},{id:"\u5982\u4F55\u5904\u7406-prepare_fx-\u4E0D\u652F\u6301\u7684-float-\u7C7B\u578B\u5E38\u91CF---\u64CD\u4F5C",text:"\u5982\u4F55\u5904\u7406 prepare_fx \u4E0D\u652F\u6301\u7684 float \u7C7B\u578B\u5E38\u91CF +-*/ \u64CD\u4F5C\uFF1F",depth:3},{id:"\u8BBE\u7F6E\u7C7B\u9519\u8BEF",text:"\u8BBE\u7F6E\u7C7B\u9519\u8BEF",depth:2},{id:"\u65E0\u9700\u91CF\u5316\u7684\u6A21\u5757\u8BBE\u7F6E\u4E86\u975E-none-\u7684-qconfig\u4F8B\u5982-\u524D\u540E\u5904\u7406loss-function-\u7B49",text:"\u65E0\u9700\u91CF\u5316\u7684\u6A21\u5757\u8BBE\u7F6E\u4E86\u975E None \u7684 qconfig\uFF0C\u4F8B\u5982 \u524D\u540E\u5904\u7406\uFF0Closs function \u7B49\u3002",depth:3},{id:"\u6CA1\u6709\u6B63\u786E\u8BBE\u7F6E-march\u8FD9\u6837\u53EF\u80FD\u5BFC\u81F4\u6A21\u578B\u7F16\u8BD1\u5931\u8D25\u6216\u90E8\u7F72\u7CBE\u5EA6\u4E0D\u4E00\u81F4",text:"\u6CA1\u6709\u6B63\u786E\u8BBE\u7F6E march\uFF0C\u8FD9\u6837\u53EF\u80FD\u5BFC\u81F4\u6A21\u578B\u7F16\u8BD1\u5931\u8D25\u6216\u90E8\u7F72\u7CBE\u5EA6\u4E0D\u4E00\u81F4\u3002",depth:3},{id:"\u6A21\u578B\u8F93\u51FA\u8282\u70B9\u6CA1\u6709\u8BBE\u7F6E\u6210\u9AD8\u7CBE\u5EA6\u8F93\u51FA\u5BFC\u81F4\u91CF\u5316\u7CBE\u5EA6\u4E0D\u7B26\u5408\u9884\u671F",text:"\u6A21\u578B\u8F93\u51FA\u8282\u70B9\u6CA1\u6709\u8BBE\u7F6E\u6210\u9AD8\u7CBE\u5EA6\u8F93\u51FA\uFF0C\u5BFC\u81F4\u91CF\u5316\u7CBE\u5EA6\u4E0D\u7B26\u5408\u9884\u671F\u3002",depth:3},{id:"\u65B9\u6CD5\u7C7B\u9519\u8BEF",text:"\u65B9\u6CD5\u7C7B\u9519\u8BEF",depth:2},{id:"calibration-\u8FC7\u7A0B\u4F7F\u7528\u591A\u5361",text:"Calibration \u8FC7\u7A0B\u4F7F\u7528\u591A\u5361\u3002",depth:3},{id:"\u6A21\u578B\u8F93\u5165\u56FE\u50CF\u6570\u636E\u91C7\u7528\u6570\u636E\u683C\u5F0F\u4E3A-rgb-\u7B49\u975E-centered-yuv444-\u683C\u5F0F\u8FD9\u6837\u53EF\u80FD\u5BFC\u81F4\u6A21\u578B\u90E8\u7F72\u7CBE\u5EA6\u4E0D\u4E00\u81F4",text:"\u6A21\u578B\u8F93\u5165\u56FE\u50CF\u6570\u636E\u91C7\u7528\u6570\u636E\u683C\u5F0F\u4E3A RGB \u7B49\u975E centered YUV444 \u683C\u5F0F\uFF0C\u8FD9\u6837\u53EF\u80FD\u5BFC\u81F4\u6A21\u578B\u90E8\u7F72\u7CBE\u5EA6\u4E0D\u4E00\u81F4\u3002",depth:3},{id:"\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u4E2D\u4F7F\u7528-qat-\u6A21\u578B\u8FDB\u884C\u6A21\u578B\u7CBE\u6D4B\u8BC4\u6D4B\u548C\u76D1\u63A7\u5BFC\u81F4\u4E0D\u80FD\u53CA\u65F6\u53D1\u73B0\u90E8\u7F72\u65F6\u7CBE\u5EA6\u5F02\u5E38\u7684\u95EE\u9898",text:"\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u4E2D\u4F7F\u7528 qat \u6A21\u578B\u8FDB\u884C\u6A21\u578B\u7CBE\u6D4B\u8BC4\u6D4B\u548C\u76D1\u63A7\uFF0C\u5BFC\u81F4\u4E0D\u80FD\u53CA\u65F6\u53D1\u73B0\u90E8\u7F72\u65F6\u7CBE\u5EA6\u5F02\u5E38\u7684\u95EE\u9898\u3002",depth:3},{id:"\u7F51\u7EDC\u7C7B\u9519\u8BEF",text:"\u7F51\u7EDC\u7C7B\u9519\u8BEF",depth:2},{id:"\u591A\u6B21\u8C03\u7528\u540C\u4E00\u4E2A\u901A\u8FC7floatfunctional-\u5B9A\u4E49\u7684\u6210\u5458",text:"\u591A\u6B21\u8C03\u7528\u540C\u4E00\u4E2A\u901A\u8FC7`FloatFunctional()` \u5B9A\u4E49\u7684\u6210\u5458\u3002",depth:3},{id:"\u7B97\u5B50\u7C7B\u9519\u8BEF",text:"\u7B97\u5B50\u7C7B\u9519\u8BEF",depth:2},{id:"quantized-\u6A21\u578B\u4E2D\u90E8\u5206\u7B97\u5B50\u6CA1\u6709\u7ECF\u8FC7\u524D\u671F\u7684-calibration-\u6216-qat\u5982\u67D0\u540E\u5904\u7406\u7B97\u5B50\u60F3\u8981\u5728-bpu-\u4E0A\u52A0\u901F\u4F46\u662F\u6CA1\u6709\u7ECF\u8FC7\u91CF\u5316\u9636\u6BB5\u8FD9\u65F6\u5019\u4F1A\u5BFC\u81F4\u91CF\u5316-inference-\u5931\u8D25\u6216\u90E8\u7F72\u65F6\u7684\u7CBE\u5EA6\u5F02\u5E38",text:"Quantized \u6A21\u578B\u4E2D\u90E8\u5206\u7B97\u5B50\u6CA1\u6709\u7ECF\u8FC7\u524D\u671F\u7684 calibration \u6216 QAT\uFF0C\u5982\u67D0\u540E\u5904\u7406\u7B97\u5B50\u60F3\u8981\u5728 BPU \u4E0A\u52A0\u901F\uFF0C\u4F46\u662F\u6CA1\u6709\u7ECF\u8FC7\u91CF\u5316\u9636\u6BB5\uFF0C\u8FD9\u65F6\u5019\u4F1A\u5BFC\u81F4\u91CF\u5316 Inference \u5931\u8D25\u6216\u90E8\u7F72\u65F6\u7684\u7CBE\u5EA6\u5F02\u5E38\u3002",depth:3},{id:"\u6A21\u578B\u7C7B\u9519\u8BEF",text:"\u6A21\u578B\u7C7B\u9519\u8BEF",depth:2},{id:"\u6D6E\u70B9\u6A21\u578B\u8FC7\u62DF\u5408",text:"\u6D6E\u70B9\u6A21\u578B\u8FC7\u62DF\u5408\u3002",depth:3}],title:"\u5E38\u89C1\u95EE\u9898",frontmatter:{}}},95895:function(s,n,e){e(39710);var o=e(85893),r=e(67294),l=e(45687);e(20388);let i={"zh-CN":s=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${s.minutes>=1?`${Math.ceil(s.minutes)} \u{5206}\u{949F}`:"\u5C0F\u4E8E 1 \u5206\u949F"}`,"en-US":s=>`Estimated reading time: ${s.minutes>=1?`${Math.ceil(s.minutes)} minutes`:"less than 1 minute"}`};function t(s,n,e){let o=Object.keys(i).includes(n)?n:e;return i[o](s)}n.Z=s=>{let{defaultLocale:n="en-US"}=s,e=(0,l.Vi)().page.readingTimeData,i=(0,l.Jr)(),c=(0,l.e7)(),[a,h]=(0,r.useState)(t(e,i,n));return(0,r.useEffect)(()=>{h(t(e,i,n))},[i,e]),(0,o.jsx)("span",{"data-dark":String(c),className:"rp-reading-time",children:a})}}}]);