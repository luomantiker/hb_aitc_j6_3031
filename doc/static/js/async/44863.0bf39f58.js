"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["44863"],{59018:function(s,e,n){n.r(e);var o=n(85893),r=n(50065),i=n(95895);function l(s){let e=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",span:"span",div:"div",ul:"ul",li:"li"},(0,r.ah)(),s.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.h1,{id:"overriding-config-parameters-using-commands",children:[(0,o.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#overriding-config-parameters-using-commands",children:"#"}),"Overriding Config Parameters Using Commands"]}),"\n",(0,o.jsx)(i.Z,{}),"\n",(0,o.jsxs)(e.p,{children:["HAT supports modifying the ",(0,o.jsx)(e.code,{children:"config"})," parameters from the command line by adding (key, value) after ",(0,o.jsx)(e.code,{children:"--opts"}),"."]}),"\n",(0,o.jsx)(e.pre,{className:"code",children:(0,o.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"python tools"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"train"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --stage "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"float"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" --config configs"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"classification"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"resnet18"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --opts "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"key1"'}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"value1"'}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"key2"'}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"value2"'})]}),"\n"]})})}),"\n",(0,o.jsxs)(e.p,{children:["Where the ",(0,o.jsx)(e.code,{children:"key"})," is the name of the parameter to be modified and the ",(0,o.jsx)(e.code,{children:"value"})," is the value to be passed in, as in the ",(0,o.jsx)(e.code,{children:"config.py"})," file:"]}),"\n",(0,o.jsx)(e.pre,{className:"code",children:(0,o.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"task_name "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"resnet_cls"'})]}),"\n",(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"num_classes"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1000"})]}),"\n",(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"devices "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"]"})]}),"\n",(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"data_shape "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"224"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"224"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"model "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"dict"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    backbone"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"resnet18"'}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    num_classes"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"num_classes,"})]}),"\n",(0,o.jsx)(e.span,{className:"line line-number",children:(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})}),"\n"]})})}),"\n",(0,o.jsxs)(e.div,{className:"rspress-directive info",children:[(0,o.jsx)(e.div,{className:"rspress-directive-title",children:"Note"}),(0,o.jsx)(e.div,{className:"rspress-directive-content",children:(0,o.jsxs)(e.p,{children:["Examples in this document focus on the formats of different parameters when using ",(0,o.jsx)(e.code,{children:"--opts"}),". In your projects, the parameters and field configurations may differ from the example."]})})]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"key"})," supports multi-level parameter modification:"]}),"\n",(0,o.jsx)(e.pre,{className:"code",children:(0,o.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"python tools"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"train"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --stage "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"float"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" --config config"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --opts model"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"backbone "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"\"'resnet50'\""})]}),"\n"]})})}),"\n",(0,o.jsxs)(e.p,{children:["The above command changes the value of the ",(0,o.jsx)(e.code,{children:"model.backbone"})," field in ",(0,o.jsx)(e.code,{children:"config"})," to ",(0,o.jsx)(e.code,{children:'"resnet50"'}),"."]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"value"})," can be number, str, list, or tuple, but dict is not supported."]}),"\n",(0,o.jsxs)(e.p,{children:["For example, the following command can change the value of the ",(0,o.jsx)(e.code,{children:"model.num_classes"})," field in ",(0,o.jsx)(e.code,{children:"config"})," to 10."]}),"\n",(0,o.jsx)(e.pre,{className:"code",children:(0,o.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"python tools"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"train"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --stage "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"float"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" --config config"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --opts num_classes "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"10"})]}),"\n"]})})}),"\n",(0,o.jsxs)(e.p,{children:["However, because of the parsing mechanism, you need to quote the value to be passed if its type is ",(0,o.jsx)(e.code,{children:"tuple"})," or ",(0,o.jsx)(e.code,{children:"list"}),", for example:"]}),"\n",(0,o.jsx)(e.pre,{className:"code",children:(0,o.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"python tools"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"train"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --stage "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"float"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" --config config"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --opts "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"data_shape "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"112"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"112"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Cause incorrect parsing"})]}),"\n",(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"python tools"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"train"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --stage "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"float"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" --config config"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --opts data_shape "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"(3, 112, 112)"'}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Correct format"})]}),"\n"]})})}),"\n",(0,o.jsxs)(e.p,{children:["If the value type is ",(0,o.jsx)(e.code,{children:"str"}),", you need to add extra quotes, for example:"]}),"\n",(0,o.jsx)(e.pre,{className:"code",children:(0,o.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,o.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"python tools"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"train"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --stage "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"float"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" --config config"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --opts model"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"backbone resnet18 "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Cause incorrect parsing"})]}),"\n",(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"python tools"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"train"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --stage "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"float"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" --config config"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --opts model"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"backbone "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"resnet18"'}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Cause incorrect parsing"})]}),"\n",(0,o.jsxs)(e.span,{className:"line line-number",children:[(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"python tools"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"train"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --stage "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"float"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" --config config"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"py --opts model"}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"backbone "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"\"'resnet18'\""}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Correct format"})]}),"\n"]})})}),"\n"]}),"\n"]})]})}function t(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,r.ah)(),s.components);return e?(0,o.jsx)(e,Object.assign({},s,{children:(0,o.jsx)(l,s)})):l(s)}e.default=t,t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["3.0.22%2Fen%2Fguide%2Fadvanced_content%2Fhat%2Ftutorials%2Fopts.mdx"]={toc:[],title:"Overriding Config Parameters Using Commands",frontmatter:{}}},95895:function(s,e,n){n(39710);var o=n(85893),r=n(67294),i=n(45687);n(20388);let l={"zh-CN":s=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${s.minutes>=1?`${Math.ceil(s.minutes)} \u{5206}\u{949F}`:"\u5C0F\u4E8E 1 \u5206\u949F"}`,"en-US":s=>`Estimated reading time: ${s.minutes>=1?`${Math.ceil(s.minutes)} minutes`:"less than 1 minute"}`};function t(s,e,n){let o=Object.keys(l).includes(e)?e:n;return l[o](s)}e.Z=s=>{let{defaultLocale:e="en-US"}=s,n=(0,i.Vi)().page.readingTimeData,l=(0,i.Jr)(),c=(0,i.e7)(),[a,h]=(0,r.useState)(t(n,l,e));return(0,r.useEffect)(()=>{h(t(n,l,e))},[l,n]),(0,o.jsx)("span",{"data-dark":String(c),className:"rp-reading-time",children:a})}}}]);