"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["60114"],{57880:function(s,e,n){n.r(e);var l=n(85893),r=n(50065),i=n(95895);function o(s){let e=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",span:"span",ol:"ol",li:"li",h3:"h3",div:"div",h4:"h4",ul:"ul"},(0,r.ah)(),s.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.h1,{id:"\u79FB\u9664dequantize\u8282\u70B9\u7684resnet18\u6A21\u578B\u90E8\u7F72\u5B9E\u8DF5\u6307\u5BFC",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u79FB\u9664dequantize\u8282\u70B9\u7684resnet18\u6A21\u578B\u90E8\u7F72\u5B9E\u8DF5\u6307\u5BFC",children:"#"}),"\u79FB\u9664Dequantize\u8282\u70B9\u7684ResNet18\u6A21\u578B\u90E8\u7F72\u5B9E\u8DF5\u6307\u5BFC"]}),"\n",(0,l.jsx)(i.Z,{}),"\n",(0,l.jsx)(e.p,{children:"\u5730\u5E73\u7EBFOpenExplorer\u5DE5\u5177\u94FE\u7684PTQ\u94FE\u8DEF\u6574\u4F53\u4F7F\u7528\u6D41\u7A0B\u5305\u62EC\u6A21\u578B\u4F18\u5316\u3001\u6A21\u578B\u6821\u51C6\u3001\u6A21\u578B\u8F6C\u6362\u4E3A\u5B9A\u70B9\u6A21\u578B\u3001\u6A21\u578B\u7F16\u8BD1\u53CA\u4E0A\u677F\u7B49\u591A\u4E2A\u9636\u6BB5\u3002\n\u672C\u7AE0\u8282\u4EE5\u57FA\u4E8E\u516C\u7248ResNet18\u7684RGB\u8F93\u5165\u5206\u7C7B\u6A21\u578B\u79FB\u9664Dequantize\u8282\u70B9\u4E3A\u4F8B\uFF0C\u5206\u6B65\u9AA4\u8FDB\u884C\u90E8\u7F72\u5B9E\u8DF5\u7684\u4F7F\u7528\u6F14\u793A\u4F9B\u60A8\u53C2\u8003\u3002"}),"\n",(0,l.jsxs)(e.h2,{id:"\u51C6\u5907\u6D6E\u70B9\u6A21\u578B",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u51C6\u5907\u6D6E\u70B9\u6A21\u578B",children:"#"}),"\u51C6\u5907\u6D6E\u70B9\u6A21\u578B"]}),"\n",(0,l.jsx)(e.p,{children:"\u51C6\u5907ResNet18\u6D6E\u70B9\u6A21\u578B\uFF0C\u8FD9\u91CC\u6211\u4EEC\u4F7F\u7528torchvision\u5BFC\u51FA\u6240\u9700\u7684\u6D6E\u70B9\u6A21\u578B\u3002"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" torch"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" torchvision"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"model "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" torchvision"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"models"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"resnet18"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(pretrained"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"True"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"input_shape "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"224"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"224"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"input_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" torch"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"randn"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(input_shape)"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"output_path "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"resnet18.onnx"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"torch"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"onnx"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"export"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(model, input_data, output_path,"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"                  input_names"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"input"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"], output_names"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"output"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"],"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"                  opset_version"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n"]})})}),"\n",(0,l.jsxs)(e.h2,{id:"\u6821\u51C6\u96C6\u51C6\u5907",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6821\u51C6\u96C6\u51C6\u5907",children:"#"}),"\u6821\u51C6\u96C6\u51C6\u5907"]}),"\n",(0,l.jsxs)(e.p,{children:["\u516C\u7248ResNet18\u6A21\u578B\u7684\u76F8\u5173\u4FE1\u606F\u53EF\u53C2\u8003 ",(0,l.jsx)(e.a,{href:"https://pytorch.org/vision/main/models/generated/torchvision.models.resnet18.html",target:"_blank",rel:"noopener noreferrer",children:"Pytorch\u6587\u6863\u5185\u5BF9ResNet18\u7684\u8BF4\u660E"}),"\uFF0C\u53EF\u4EE5\u770B\u5230ResNet18\u6A21\u578B\u7684\u6570\u636E\u524D\u5904\u7406\u6D41\u7A0B\u4E3A\uFF1A"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u56FE\u50CF\u77ED\u8FB9\u653E\u7F29\u81F3256\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u4EE5\u4E2D\u5FC3\u88C1\u526A\u65B9\u5F0F\u5C06\u56FE\u50CF\u5C3A\u5BF8\u8C03\u6574\u81F3224x224\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u6570\u636E\u5F52\u4E00\u5316\u5904\u7406\uFF0Cmean\u53D6\u503C[0.485, 0.456, 0.406]\uFF0Cstd\u53D6\u503C[0.229, 0.224, 0.225]\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u6570\u636E\u524D\u5904\u7406\u4EE3\u7801\u793A\u4F8B\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" os"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" cv2"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" PIL"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" numpy "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" np"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" PIL "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" Image"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ori_dataset_dir "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./calibration_data/imagenet"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"calibration_dir "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./calibration_data_rgb"'})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"resize_transformer"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-parameter)"},children:"image_data"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" np"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"array"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-parameter)"},children:"short_size"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" Image"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"fromarray"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(image_data."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"astype"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'uint8'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"), "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'RGB'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Specify width, height"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    w"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" h "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" image"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"size  "})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (w "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" h "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"and"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" w "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" short_size) "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"or"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (h "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" w "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"and"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" h "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" short_size)"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" np"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"array"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(image)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# I.e., the width of the image is the short side"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" w "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" h"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        resize_size "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (short_size"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(short_size "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" h "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" w)"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# I.e., the height of the image is the short side"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        resize_size "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(short_size "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" w "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" h),"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" short_size)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Resize the image"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" np"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"array"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(image."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"resize"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(resize_size, Image.BILINEAR))"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" data"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"center_crop_transformer"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-parameter)"},children:"image_data"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" np"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"array"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-parameter)"},children:"crop_size"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" Image"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"fromarray"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(image_data."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"astype"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'uint8'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"), "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'RGB'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image_width"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" image_height "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" image"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"size"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    crop_height"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" crop_width "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (crop_size"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" crop_size)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    crop_top "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"round"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"((image_height "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" crop_height) "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:".))"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    crop_left "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"round"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"((image_width "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" crop_width) "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:".))"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" image"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"crop"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"((crop_left,"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"                             crop_top,"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"                             crop_left "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" crop_width,"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"                             crop_top "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" crop_height))"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" np"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"array"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(image_data)."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"astype"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(np.float32)"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"os"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"mkdir"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(calibration_dir)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" image_name "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" os"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"listdir"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(ori_dataset_dir):"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image_path "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" os"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"path"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"join"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(ori_dataset_dir, image_name)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# load the image with PIL method"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    pil_image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" PIL"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"Image"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"open"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(image_path)."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"convert"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'RGB'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" np"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"array"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(pil_image_data)."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"astype"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(np.uint8)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Resize the image"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"resize_transformer"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(image_data, "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"256"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Crop the image"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"center_crop_transformer"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(image_data, "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"224"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Adjust the data range from [0, 255] to [0, 1]"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"255"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Normalization, (data - mean) / std"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    mean "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.485"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.456"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.406"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"]"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" mean"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    std "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.229"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.224"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.225"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"]"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" std"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Convert format from HWC to CHW"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" np"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"transpose"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(image_data, ("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"))."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"astype"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(np.float32)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Convert format from CHW to NCHW"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    image_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" image_data"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"np"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"newaxis"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":]"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Save the npy file"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    cali_file_path "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" os"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"path"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"join"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(calibration_dir, image_name[:"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"5"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"] "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'".npy"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    np"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"save"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(cali_file_path, image_data)"})]}),"\n"]})})}),"\n",(0,l.jsx)(e.p,{children:"\u4E3A\u652F\u6301PTQ\u6A21\u578B\u6821\u51C6\uFF0C\u6211\u4EEC\u9700\u8981\u4ECEImageNet\u6570\u636E\u96C6\u4E2D\u53D6\u51FA\u4E00\u4E2A\u5C0F\u6279\u91CF\u6570\u636E\u96C6\uFF0C\u8FD9\u91CC\u7528\u524D100\u5F20\u56FE\u50CF\u4E3A\u4F8B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-text",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"./imagenet"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ILSVRC2012_val_00000001.JPEG"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ILSVRC2012_val_00000002.JPEG"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ILSVRC2012_val_00000003.JPEG"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ......"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ILSVRC2012_val_00000099.JPEG"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2514\u2500\u2500 ILSVRC2012_val_00000100.JPEG"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,l.jsx)(e.p,{children:"\u5219\u57FA\u4E8E\u4E0A\u6587\u7684\u6570\u636E\u524D\u5904\u7406\u4EE3\u7801\u751F\u6210\u7684\u6821\u51C6\u96C6\u76EE\u5F55\u7ED3\u6784\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-text",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"./calibration_data_rgb"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ILSVRC2012_val_00000001.npy"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ILSVRC2012_val_00000002.npy"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ILSVRC2012_val_00000003.npy"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ......"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ILSVRC2012_val_00000099.npy"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2514\u2500\u2500 ILSVRC2012_val_00000100.npy"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,l.jsxs)(e.h2,{id:"board_model",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#board_model",children:"#"}),"\u751F\u6210\u677F\u7AEF\u6A21\u578B"]}),"\n",(0,l.jsx)(e.p,{children:"PTQ\u8F6C\u6362\u94FE\u8DEF\u652F\u6301\u547D\u4EE4\u884C\u5DE5\u5177\u53CAPTQ API\u4E24\u79CD\u65B9\u5F0F\u8FDB\u884C\u6A21\u578B\u91CF\u5316\u7F16\u8BD1\u4EE5\u751F\u6210\u677F\u7AEF\u6A21\u578B\uFF0C\u4E0B\u65B9\u4E3A\u60A8\u5206\u522B\u4ECB\u7ECD\u4E24\u79CD\u65B9\u5F0F\u7684\u4F7F\u7528\u3002"}),"\n",(0,l.jsxs)(e.h3,{id:"\u547D\u4EE4\u884C\u5DE5\u5177\u65B9\u5F0F",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u547D\u4EE4\u884C\u5DE5\u5177\u65B9\u5F0F",children:"#"}),"\u547D\u4EE4\u884C\u5DE5\u5177\u65B9\u5F0F"]}),"\n",(0,l.jsx)(e.p,{children:"\u547D\u4EE4\u884C\u5DE5\u5177\u7684\u65B9\u5F0F\u53EA\u9700\u8981\u60A8\u5B89\u88C5horizon_tc_ui\uFF08Docker\u73AF\u5883\u5185\u5DF2\u9884\u88C5\uFF09\u5E76\u6839\u636E\u6A21\u578B\u4FE1\u606F\u914D\u7F6E\u521B\u5EFA\u5BF9\u5E94\u7684yaml\u6587\u4EF6\u5373\u53EF\uFF0C\u6B64\u5904\u6211\u4EEC\u4EE5ResNet18\u6A21\u578B\u5BF9\u5E94\u7684yaml\u6587\u4EF6\uFF08config.yaml\uFF09\u8FDB\u884C\u5C55\u793A\u5E76\u8BF4\u660E\u3002"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-yaml",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"model_parameters"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"onnx_model"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'resnet18.onnx'"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"march"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"nash-e"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"working_dir"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'model_output'"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"output_model_file_prefix"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'resnet18_224x224_rgb_removed'"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"remove_node_type"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Dequantize'"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"input_parameters"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"input_name"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"''"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"input_shape"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"''"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"input_type_rt"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'featuremap'"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"input_type_train"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'featuremap'"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"calibration_parameters"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"cal_data_dir"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'./calibration_data_rgb'"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"calibration_type"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'default'"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"compiler_parameters"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"optimize_level"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'O2'"})]}),"\n"]})})}),"\n",(0,l.jsxs)(e.div,{className:"rspress-directive tip",children:[(0,l.jsx)(e.div,{className:"rspress-directive-title",children:"\u6CE8\u89E3"}),(0,l.jsx)(e.div,{className:"rspress-directive-content",children:(0,l.jsxs)(e.p,{children:["\u8FD9\u91CC\u5C06 ",(0,l.jsx)(e.code,{children:"input_name"})," \u53CA ",(0,l.jsx)(e.code,{children:"input_shape"})," \u76F4\u63A5\u7F6E\u7A7A\uFF0C\u662F\u56E0\u4E3A\u5DE5\u5177\u652F\u6301\u5355\u8F93\u5165\u4E14\u8F93\u5165\u65E0\u52A8\u6001shape\u7684\u573A\u666F\u4E0B\u81EA\u52A8\u8865\u5145\u8FD9\u4E24\u4E2A\u53C2\u6570\uFF08\u5373\u5DE5\u5177\u5185\u90E8\u5BF9ONNX\u6A21\u578B\u8FDB\u884C\u89E3\u6790\uFF0C\u5E76\u83B7\u53D6\u8F93\u5165\u7684name\u53CAshape\u4FE1\u606F\uFF09\u3002"]})})]}),"\n",(0,l.jsxs)(e.p,{children:["\u5F53yaml\u6587\u4EF6\u914D\u7F6E\u5B8C\u6210\u540E\uFF0C\u60A8\u53EA\u9700\u8981\u8C03\u7528 ",(0,l.jsx)(e.a,{href:"/3.0.22/zh/guide/ptq/ptq_tool/hb_compile/convert.html",children:"hb_compile\u5DE5\u5177"})," \u6267\u884C\u547D\u4EE4\u5373\u53EF\uFF0C\u5DE5\u5177\u6267\u884C\u547D\u4EE4\u53CA\u5173\u952Elog\u5982\u4E0B\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-bash",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"[horizon@xxx xxx]$ hb_compile -c config.yaml"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Start"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"hb_compile..."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Start"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"verifying"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"yaml"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"End"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"verifying"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"yaml"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Start"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"to"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Horizon"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"NN"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Model"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Convert."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Start"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"to"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"prepare"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"the"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"onnx"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"model."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"End"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"to"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"prepare"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"the"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"onnx"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"model."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Start"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"to"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"optimize"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"the"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"onnx"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"model."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"End"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"to"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"optimize"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"the"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"onnx"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"model."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Start"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"to"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"calibrate"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"the"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"model."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"End"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"to"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"calibrate"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"the"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"model."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Start"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"to"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"precompile"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"the"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"model."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"End"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"to"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"precompile"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"the"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"model."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"End"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"to"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Horizon"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"NN"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Model"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Convert."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"Successful"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"covert"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"model."})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=================================================="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"]100%"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"############# Model input/output info #############"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"NAME"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"TYPE"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"   "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"SHAPE"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"DATA_TYPE"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"------"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"------"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"----------------"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"---------"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"input"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"input"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  [1, "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"224"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"224"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"]"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"FLOAT32"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"output"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"output"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" [1, "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1000"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"]"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"INT32"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"INFO"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"The"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"hb_compile"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"completes"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"running"})]}),"\n"]})})}),"\n",(0,l.jsx)(e.p,{children:"\u547D\u4EE4\u6267\u884C\u5B8C\u6210\u540E\uFF0C\u5728yaml\u6587\u4EF6working_dir\u53C2\u6570\u914D\u7F6E\u7684\u76EE\u5F55\uFF08model_output\uFF09\u4E0B\uFF0C\u5C06\u751F\u6210\u5982\u4E0B\u6240\u793A\u5404\u9636\u6BB5\u4E2D\u95F4\u6A21\u578B\u3001\u6700\u7EC8\u7684\u4E0A\u677F\u6A21\u578B\u53CA\u6A21\u578B\u4FE1\u606F\u6587\u4EF6\uFF0C\u5176\u4E2Dresnet18_224x224_rgb_removed.hbm\u5373\u4E3A\u677F\u7AEF\u53EF\u63A8\u7406\u7684\u6A21\u578B\u6587\u4EF6\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-text",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"./model_output"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ..."})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_calibrated_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed.hbm"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_optimized_float_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_original_float_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_ptq_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2514\u2500\u2500 resnet18_224x224_rgb_removed_quantized_model.bc"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,l.jsxs)(e.h3,{id:"ptq-api\u65B9\u5F0F",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#ptq-api\u65B9\u5F0F",children:"#"}),"PTQ API\u65B9\u5F0F"]}),"\n",(0,l.jsx)(e.p,{children:"\u547D\u4EE4\u884C\u5DE5\u5177\u5728\u63D0\u4F9B\u9AD8\u6613\u7528\u6027\u7684\u540C\u65F6\u4E5F\u5E26\u6765\u4E86\u4E00\u4E9B\u7075\u6D3B\u5EA6\u7684\u964D\u4F4E\uFF0C\u56E0\u6B64\uFF0C\u5F53\u60A8\u6709\u7075\u6D3B\u6027\u9700\u6C42\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528PTQ API\u65B9\u5F0F\u6765\u5B8C\u6210\u6A21\u578B\u7684\u91CF\u5316\u7F16\u8BD1\uFF0C\u4E0B\u65B9\u4E3A\u60A8\u4ECB\u7ECD\u4F7F\u7528API\u7684\u65B9\u5F0F\u751F\u6210\u677F\u7AEF\u6A21\u578B\u7684\u5177\u4F53\u6D41\u7A0B\u3002"}),"\n",(0,l.jsxs)(e.div,{className:"rspress-directive warning",children:[(0,l.jsx)(e.div,{className:"rspress-directive-title",children:"\u6CE8\u610F"}),(0,l.jsx)(e.div,{className:"rspress-directive-content",children:(0,l.jsxs)(e.p,{children:["\u8BF7\u6CE8\u610F\uFF0C\u7531\u4E8E\u90E8\u5206\u63A5\u53E3\u5B58\u5728\u8F83\u591A\u53C2\u6570\uFF0C\u4E0B\u65B9\u793A\u4F8B\u5C55\u793A\u4E2D\u6211\u4EEC\u4EC5\u5BF9\u5FC5\u8981\u53C2\u6570\u8FDB\u884C\u4E86\u914D\u7F6E\u4EE5\u4FBF\u4E8E\u60A8\u8FDB\u884C\u6574\u4F53\u7684\u5B9E\u8DF5\u9A8C\u8BC1\uFF0C\u5177\u4F53\u63A5\u53E3\u7684\u5168\u91CF\u53C2\u6570\u8BF7\u53C2\u8003 ",(0,l.jsx)(e.a,{href:"/3.0.22/zh/guide/advanced_content/hmct_api_reference/load_model.html",children:"HMCT API Refernence"})," \u548C ",(0,l.jsx)(e.a,{href:"/3.0.22/zh/guide/advanced_content/hbdk_api_reference.html",children:"HBDK Tool API Reference"}),"\u3002"]})})]}),"\n",(0,l.jsxs)(e.h4,{id:"\u6A21\u578B\u4F18\u5316\u6821\u51C6",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6A21\u578B\u4F18\u5316\u6821\u51C6",children:"#"}),"\u6A21\u578B\u4F18\u5316\u6821\u51C6"]}),"\n",(0,l.jsx)(e.p,{children:"\u9996\u5148\uFF0C\u5BF9\u6D6E\u70B9\u6A21\u578B\u8FDB\u884C\u56FE\u4F18\u5316\u53CA\u6821\u51C6\u91CF\u5316\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u6211\u4EEC\u4F7F\u7528 HMCT \u7684API\uFF0C\u5177\u4F53\u793A\u4F8B\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" os"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" numpy "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" np"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" hmct"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"api "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" build_model"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"march "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"nash"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"onnx_path "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./resnet18.onnx"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"cali_data_dir "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./calibration_data_rgb"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"model_name "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"resnet18_224x224_rgb_removed"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"working_dir "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./model_output/"'})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"cali_data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" []"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" cali_data_name "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" os"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"listdir"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(cali_data_dir):"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    data_path "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" os"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"path"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"join"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(cali_data_dir, cali_data_name)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    cali_data"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"append"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(np."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"load"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(data_path))"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ptq_params "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cali_dict'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'calibration_type'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'default'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'calibration_data'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'input'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" cali_data"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"},"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'input_dict'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'input'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'input_shape'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"224"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"224"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"]"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"},"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'node_dict'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{},"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'debug_methods'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" []"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'output_nodes'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" []"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'optimization_methods'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"None"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'quant_config'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"None"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"not"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" os"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"path"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"exists"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(working_dir):"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    os"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"mkdir"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(working_dir)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"build_model"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(onnx_file"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"onnx_path,"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"            march"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"march,"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"            name_prefix"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"working_dir "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" model_name,"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"            "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"**"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"ptq_params)"})]}),"\n"]})})}),"\n",(0,l.jsxs)(e.p,{children:["\u6B63\u786E\u6267\u884C\u5B8C",(0,l.jsx)(e.code,{children:"build_model"}),"\u540E\uFF0C\u5728",(0,l.jsx)(e.code,{children:"working_dir"}),"\u76EE\u5F55\u4E0B\u5C06\u751F\u6210\u5404\u9636\u6BB5ONNX\u6A21\u578B\uFF0C\u76EE\u5F55\u7ED3\u6784\u5982\u4E0B\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-text",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"./model_output"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_calibrated_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_optimized_float_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_original_float_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_ptq_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2514\u2500\u2500 resnet18_224x224_rgb_removed_quant_info.json"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,l.jsxs)(e.p,{children:["\u8FD9\u91CC\u7684 *ptq_model.onnx\u6587\u4EF6\u5373\u7ECF\u8FC7\u56FE\u4F18\u5316\u3001\u6821\u51C6\u53CA\u9884\u7F16\u8BD1\u8FC7\u7A0B\u7684ONNX\u6A21\u578B\u6587\u4EF6\uFF0C\u4E2D\u95F4\u9636\u6BB5ONNX\u6A21\u578B\u7684\u5177\u4F53\u8BF4\u660E\u8BF7\u53C2\u8003\u8BAD\u7EC3\u540E\u91CF\u5316(PTQ)-PTQ\u8F6C\u6362\u6B65\u9AA4-\u6A21\u578B\u91CF\u5316\u4E0E\u7F16\u8BD1-",(0,l.jsx)(e.a,{href:"/3.0.22/zh/guide/ptq/ptq_usage/quantize_compile.html#conversion_output",children:"\u8F6C\u6362\u4EA7\u51FA\u7269\u89E3\u8BFB"})," \u7AE0\u8282\u3002"]}),"\n",(0,l.jsxs)(e.h4,{id:"\u6A21\u578B\u8F6C\u5B9A\u70B9\u53CA\u7F16\u8BD1",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6A21\u578B\u8F6C\u5B9A\u70B9\u53CA\u7F16\u8BD1",children:"#"}),"\u6A21\u578B\u8F6C\u5B9A\u70B9\u53CA\u7F16\u8BD1"]}),"\n",(0,l.jsx)(e.p,{children:"\u63A5\u4E0B\u6765\u9700\u8981\u5B8C\u6210PTQ\u6A21\u578B\u8F6C\u4E3A\u5B9A\u70B9\u6A21\u578B\u53CA\u6A21\u578B\u7F16\u8BD1\u64CD\u4F5C\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u6211\u4EEC\u9700\u8981\u901A\u8FC7\u7F16\u8BD1\u5668\u7684API\u6765\u5B8C\u6210\uFF0C\u793A\u4F8B\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" os"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" onnx"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" hbdk4"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"compiler"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"onnx "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" export"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" hbdk4"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"compiler "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" convert"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"compile"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"march "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"nash-e"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"working_dir "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./model_output/"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"model_name "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"resnet18_224x224_rgb_removed"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ptq_onnx_path "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"./model_output/resnet18_224x224_rgb_removed_ptq_model.onnx"'})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"not"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" os"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"path"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"exists"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(working_dir):"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    os"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"mkdir"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(working_dir)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ptq_onnx "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" onnx"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"load"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(ptq_onnx_path)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ptq_model "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"export"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(proto"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"ptq_onnx, name"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"model_name)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"quantized_model "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"convert"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(m"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"ptq_model, march"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"march)"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"quantized_model"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"functions"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"]."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"remove_io_op"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(op_types"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Dequantize"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"])"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"compile"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(m"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"quantized_model,"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        path"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"working_dir "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" model_name "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'".hbm"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        march"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"march,"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        progress_bar"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"True"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n"]})})}),"\n",(0,l.jsx)(e.p,{children:"\u7F16\u8BD1\u5B8C\u6210\u540E\uFF0Cworking_dir\u76EE\u5F55\u4E0B\u5C06\u4FDD\u5B58\u4E2D\u95F4\u9636\u6BB5\u548C\u6700\u7EC8\u53EF\u7528\u4E8E\u4E0A\u677F\u7684\u6A21\u578B\u6587\u4EF6\uFF0C\u76EE\u5F55\u7ED3\u6784\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-text",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"./model_output"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_calibrated_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed.hbm"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_optimized_float_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_original_float_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed_ptq_model.onnx"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2514\u2500\u2500 resnet18_224x224_rgb_removed_quant_info.json"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,l.jsxs)(e.h2,{id:"board_sample",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#board_sample",children:"#"}),"\u6784\u5EFA\u677F\u7AEF\u793A\u4F8B"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u51C6\u5907\u677F\u7AEF\u793A\u4F8B\u6240\u9700\u4F9D\u8D56\u5E93"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u9700\u5C3D\u5FEB\u5B8C\u6210\u677F\u7AEF\u793A\u4F8B\u7684\u6784\u5EFA\uFF0C\u6211\u4EEC\u5EFA\u8BAE\u60A8\u76F4\u63A5\u4F7F\u7528OE\u5305\u4E2D ",(0,l.jsx)(e.code,{children:"samples/ucp_tutorial/deps_aarch64"}),"\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u76EE\u5F55\u4E0B\u5185\u5BB9\u4F5C\u4E3A\u4F9D\u8D56\u5E93\uFF0C\u677F\u7AEF\u8FD0\u884C\u793A\u4F8B\u4F9D\u8D56\u7684\u5173\u952E\u5934\u6587\u4EF6\u53CA\u52A8\u6001\u5E93\u8DEF\u5F84\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-text",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"./deps_aarch64"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 ......"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2514\u2500\u2500 ucp"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u251C\u2500\u2500 include"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2502\xa0\xa0 \u2514\u2500\u2500 hobot"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2502\xa0\xa0     \u251C\u2500\u2500 dnn"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2502\xa0\xa0     \u2502\xa0\xa0 \u251C\u2500\u2500 hb_dnn.h"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2502\xa0\xa0     \u2502\xa0\xa0 \u251C\u2500\u2500 hb_dnn_status.h"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2502\xa0\xa0     \u2502\xa0\xa0 \u2514\u2500\u2500 hb_dnn_v1.h"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2502\xa0\xa0     \u251C\u2500\u2500 ......"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2502\xa0\xa0     \u251C\u2500\u2500 hb_sys.h"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2502\xa0\xa0     \u251C\u2500\u2500 hb_ucp.h"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2502\xa0\xa0     \u251C\u2500\u2500 hb_ucp_status.h"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2502\xa0\xa0     \u2514\u2500\u2500 hb_ucp_sys.h"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2514\u2500\u2500 lib"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        \u251C\u2500\u2500 ......"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        \u251C\u2500\u2500 libdnn.so"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        \u2514\u2500\u2500 libhbucp.so"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u677F\u7AEF\u793A\u4F8B\u5F00\u53D1"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u4E0B\u65B9\u793A\u4F8B\u5C55\u793A\u4E86\u57FA\u4E8E\u4E8C\u8FDB\u5236\u6587\u4EF6\u8F93\u5165\u548C\u677F\u7AEF\u6A21\u578B\uFF0C\u5B8C\u6210\u4E00\u6B21\u677F\u7AEF\u6A21\u578B\u63A8\u7406\u5E76\u83B7\u53D6\u5206\u7C7B\u7ED3\u679CTOP1\u7684\u8FC7\u7A0B\u3002"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-cpp",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"#include"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"<fstream>"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"#include"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"<iostream>"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"#include"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"<vector>"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"#include"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"<cstring>"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"#include"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"hobot/dnn/hb_dnn.h"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"#include"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"hobot/hb_ucp.h"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"#include"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"hobot/hb_ucp_sys.h"'})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"char*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" hbm_path "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"resnet18_224x224_rgb_removed.hbm"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"std"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"string data_path "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"input.bin"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Read binary input file"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"read_binary_file"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(std"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"string"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" file_path"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"char"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"**"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"bin"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"length) {"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    std"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ifstream "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"ifs"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(file_path"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" std"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ios"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"in "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" std"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ios"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"binary);"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ifs"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"seekg"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" std"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ios"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"end);"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"length "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ifs"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"tellg"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ifs"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"seekg"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" std"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ios"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"beg);"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"bin "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"char"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"sizeof"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"char"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"length)];"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ifs"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"read"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"bin"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"length);"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ifs"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"close"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"main"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"() {"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // Get model handle"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"hbDNNPackedHandle_t"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" packed_dnn_handle;"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"hbDNNHandle_t"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" dnn_handle;"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbDNNInitializeFromFiles"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"packed_dnn_handle"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"hbm_path"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"char"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"**"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"model_name_list;"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" model_count "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbDNNGetModelNameList"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"model_name_list"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"model_count"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" packed_dnn_handle);"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbDNNGetModelHandle"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"dnn_handle"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" packed_dnn_handle"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"model_name_list"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"]);"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // Prepare input and output tensor"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  std"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"vector"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"hbDNNTensor"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" input_tensors;"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  std"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"vector"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"hbDNNTensor"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" output_tensors;"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"input_tensors"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"resize"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"   // This model has only one input"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"output_tensors"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"resize"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // This model has only one output"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // Initialize and malloc the input tensor"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  hbDNNTensor input "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"input_tensors"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"];"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbDNNGetInputTensorProperties"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"input"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"properties"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" dnn_handle"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" input_memSize "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"input"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"properties"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"alignedByteSize;"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbUCPMallocCached"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"input"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"sysMem"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" input_memSize"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // Initialize and malloc the output tensor"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  hbDNNTensor output "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"output_tensors"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"];"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbDNNGetOutputTensorProperties"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"output"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"properties"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" dnn_handle"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" output_memSize "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"output"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"properties"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"alignedByteSize;"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbUCPMallocCached"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"output"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"sysMem"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" output_memSize"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // Copy binary input data to input tensor"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"int32_t"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" data_length "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"char"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"nullptr"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"auto"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ret "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"read_binary_file"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(data_path"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"data"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"data_length);"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"memcpy"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"reinterpret_cast<char"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*>"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"input"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"sysMem"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"virAddr)"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"         data"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"input"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"sysMem"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"memSize);"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbUCPMemFlush"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"input"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"sysMem)"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" HB_SYS_MEM_CACHE_CLEAN);"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // Submit task and wait till it completed"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"hbUCPTaskHandle_t"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" task_handle{"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"nullptr"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"};"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbDNNInferV2"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"task_handle"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"output"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"input"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" dnn_handle);"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  hbUCPSchedParam ctrl_param;"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"HB_UCP_INITIALIZE_SCHED_PARAM"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ctrl_param);"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ctrl_param"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"backend "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" HB_UCP_BPU_CORE_ANY;"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbUCPSubmitTask"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(task_handle"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ctrl_param);"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbUCPWaitTaskDone"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(task_handle"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // Parse inference result and calculate TOP1"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"hbUCPMemFlush"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"output"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"sysMem"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" HB_SYS_MEM_CACHE_INVALIDATE);"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"auto"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" result "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"reinterpret_cast<int32_t"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*>"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"output"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"sysMem"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"virAddr);"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"float"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" scale "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"output"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"properties"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"scale"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"scaleData["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"];"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"float"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" max_score "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" label "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"auto"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" i "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"; i "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1000"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"; i"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"++"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"float"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" score "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"result"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"[i] "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" scale;"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (score "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" max_score) {"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      label "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" i;"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      max_score "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" score;"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  std"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"cout "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<<"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"label: "'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<<"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" label "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<<"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" std"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"::"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"endl;"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n"]})})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"\u4EA4\u53C9\u7F16\u8BD1\u751F\u6210\u677F\u7AEF\u53EF\u6267\u884C\u7A0B\u5E8F"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u8FDB\u884C\u4EA4\u53C9\u7F16\u8BD1\u524D\uFF0C\u60A8\u9700\u5148\u51C6\u5907\u597DCMakeLists.txt\u548C\u793A\u4F8B\u6587\u4EF6\u3002CMakeLists.txt\u5185\u5BB9\u5982\u4E0B\uFF0C\u56E0\u793A\u4F8B\u4E0D\u5305\u542B\u6570\u636E\u524D\u5904\u7406\u7B49\u64CD\u4F5C\uFF0C\u6240\u4EE5\u4F9D\u8D56\u8F83\u5C11\uFF0C\u6B64\u5904\u4E3B\u8981\u662F\u5BF9GCC\u7684\u7F16\u8BD1\u53C2\u6570\u3001\u4F9D\u8D56\u7684\u5934\u6587\u4EF6\u53CA\u52A8\u6001\u5E93\u7684\u914D\u7F6E\u3002\n\u5176\u4E2Ddnn\u677F\u7AEF\u63A8\u7406\u5E93\uFF0C\u800C",(0,l.jsx)(e.code,{children:"hbucp"}),"\u7528\u4E8E\u5BF9tensor\u505A\u64CD\u4F5C\u3002"]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-text",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"# CMakeLists.txt"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"cmake_minimum_required(VERSION 3.0)"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"project(sample)"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11 -Wl,-unresolved-symbols=ignore-in-shared-libs")'})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'message(STATUS "Build type: ${CMAKE_BUILD_TYPE}")'})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'set(CMAKE_CXX_FLAGS_DEBUG "-g -O0")'})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'set(CMAKE_C_FLAGS_DEBUG "-g -O0")'})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'set(CMAKE_CXX_FLAGS_RELEASE " -O3 ")'})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'set(CMAKE_C_FLAGS_RELEASE " -O3 ")'})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"set(CMAKE_BUILD_TYPE ${build_type})"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"set(DEPS_ROOT ${CMAKE_CURRENT_SOURCE_DIR}/deps_aarch64)"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"include_directories(${DEPS_ROOT}/ucp/include)"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"link_directories(${DEPS_ROOT}/ucp/lib)"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"add_executable(run_sample src/main.cc)"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"target_link_libraries(run_sample dnn hbucp)"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,l.jsx)(e.p,{children:"\u7F16\u8BD1\u7684\u73AF\u5883\u76EE\u5F55\u7ED3\u6784\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-text",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 CMakeLists.txt"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 deps_aarch64"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2502\xa0\xa0 \u2514\u2500\u2500 ucp"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2502\xa0\xa0     \u251C\u2500\u2500 include"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2502\xa0\xa0     \u2514\u2500\u2500 lib"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2514\u2500\u2500 src"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    \u2514\u2500\u2500 main.cc"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,l.jsx)(e.p,{children:"\u5F53\u793A\u4F8B\u6587\u4EF6\u53CACMakeLists.txt\u51C6\u5907\u597D\u4E4B\u540E\u5373\u53EF\u6267\u884C\u7F16\u8BD1\u3002\u7F16\u8BD1\u547D\u4EE4\u7684\u793A\u4F8B\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsxs)(e.div,{className:"rspress-directive warning",children:[(0,l.jsx)(e.div,{className:"rspress-directive-title",children:"\u6CE8\u610F"}),(0,l.jsx)(e.div,{className:"rspress-directive-content",children:(0,l.jsx)(e.p,{children:"\u8BF7\u6CE8\u610F\uFF0C\u7F16\u8BD1\u811A\u672C\u4E2D\u8981\u5C06CC\u548CCXX\u914D\u7F6E\u4E3A\u4EA4\u53C9\u7F16\u8BD1GCC\u548CG++\u7684\u5B9E\u9645\u8DEF\u5F84\u3002"})})]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-bash",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"#!/usr/bin/env bash"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Note\uFF0Cplease configure according to the actual path"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" CC"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"/arm-gnu-toolchain-12.2.rel1-x86_64-aarch64-none-linux-gnu/bin/aarch64-none-linux-gnu-gcc"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" CXX"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"/arm-gnu-toolchain-12.2.rel1-x86_64-aarch64-none-linux-gnu/bin/aarch64-none-linux-gnu-g++"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"rm"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-rf"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"arm_build"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"; "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"mkdir"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"arm_build"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"; "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"cd"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"arm_build"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"cmake"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:".."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"; "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"-j8"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"cd"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:".."})]}),"\n"]})})}),"\n",(0,l.jsxs)(e.p,{children:["\u7F16\u8BD1\u5B8C\u6210\u540E\uFF0C\u5373\u53EF\u751F\u6210\u53EF\u4E0A\u677F\u8FD0\u884C\u7684 ",(0,l.jsx)(e.code,{children:"run_sample"})," \u4E8C\u8FDB\u5236\u7A0B\u5E8F\u3002\u81F3\u6B64\uFF0C\u677F\u7AEF\u793A\u4F8B\u6784\u5EFA\u6D41\u7A0B\u5DF2\u5168\u90E8\u5B8C\u6210\u3002"]}),"\n",(0,l.jsxs)(e.h2,{id:"\u677F\u7AEF\u8FD0\u884C\u51C6\u5907",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u677F\u7AEF\u8FD0\u884C\u51C6\u5907",children:"#"}),"\u677F\u7AEF\u8FD0\u884C\u51C6\u5907"]}),"\n",(0,l.jsx)(e.p,{children:"\u5F53\u53EF\u6267\u884C\u7A0B\u5E8F\u7F16\u8BD1\u5B8C\u6210\u540E\uFF0C\u9700\u8981\u5BF9\u6A21\u578B\u7684\u8F93\u5165\u8FDB\u884C\u51C6\u5907\u3002\u7531\u4E8E\u6B64\u7BC7\u5B9E\u8DF5\u6559\u7A0B\u7684\u573A\u666F\u6821\u51C6\u96C6\u53EF\u4F5C\u4E3A\u6A21\u578B\u8F93\u5165\uFF0C\u6240\u4EE5\u8FD9\u91CC\u6211\u4EEC\u76F4\u63A5\u7528\u6821\u51C6\u96C6\u6570\u636E\u4F5C\u4E3A\u6A21\u578B\u8F93\u5165\u5373\u53EF\u3002\u5F53\u7136\uFF0C\u60A8\u4E5F\u53EF\u4EE5\u6839\u636E\u6821\u51C6\u96C6\u7684\u524D\u5904\u7406\u903B\u8F91\u5BF9\u677F\u7AEF\u7A0B\u5E8F\u8FDB\u884C\u4FEE\u6539\u5E76\u7ED9\u5230\u6A21\u578B\u8F93\u5165\uFF08\u6B64\u8FC7\u7A0B\u9700\u6CE8\u610F\uFF0C\u4FEE\u6539\u540E\u7684\u7A0B\u5E8F\u4E2D\u9700\u8981\u4FDD\u8BC1\u5BF9\u539F\u59CB\u56FE\u7247\u505A\u4E86\u4E0E\u6821\u51C6\u65F6\u76F8\u540C\u7684\u524D\u5904\u7406\uFF09\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u8FD9\u91CC\u6211\u4EEC\u53EA\u9700\u8981\u7B80\u5355\u5C06npy\u683C\u5F0F\u7684\u6821\u51C6\u96C6\u8F6C\u4E3Abinary\u6587\u4EF6\u5373\u53EF\uFF0C\u793A\u4F8B\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" numpy "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" np"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"data "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" np"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"load"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"calibration_data_rgb/ILSVRC2012_val_00000001.npy"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"data"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"tofile"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"input.bin"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n"]})})}),"\n",(0,l.jsx)(e.p,{children:"\u9664\u4E86\u8F93\u5165\u6570\u636E\u7684\u51C6\u5907\uFF0C\u5728\u677F\u7AEF\u8FD0\u884C\u524D\uFF0C\u8FD8\u9700\u8981\u60A8\u786E\u4FDD\u73B0\u5728\u5DF2\u51C6\u5907\u597D\u5982\u4E0B\u5185\u5BB9\uFF1A"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5730\u5E73\u7EBFJ6\u5F00\u53D1\u677F\uFF0C\u7528\u4E8E\u5B9E\u9645\u6267\u884C\u677F\u7AEF\u7A0B\u5E8F\u8FD0\u884C\u3002"}),"\n",(0,l.jsxs)(e.li,{children:["\u4E00\u4E2A\u53EF\u7528\u4E8E\u677F\u7AEF\u63A8\u7406\u7684\u6A21\u578B\uFF0C\u5373 ",(0,l.jsx)(e.a,{href:"#board_model",children:"\u751F\u6210\u677F\u7AEF\u6A21\u578B"})," \u7684\u4EA7\u51FA\u7269\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u677F\u7AEF\u7A0B\u5E8F\uFF0C\u5373 ",(0,l.jsx)(e.a,{href:"#board_sample",children:"\u6784\u5EFA\u677F\u7AEF\u793A\u4F8B"})," \u7684\u4EA7\u51FA\u7269\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u677F\u7AEF\u7A0B\u5E8F\u4F9D\u8D56\u5E93\uFF0C\u4E3A\u4E86\u964D\u4F4E\u90E8\u7F72\u6210\u672C\uFF0C\u60A8\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528OE\u5305",(0,l.jsx)(e.code,{children:"samples/ucp_tutorial/deps_aarch64/ucp/lib"}),"\u6587\u4EF6\u5939\u4E2D\u7684\u5185\u5BB9\u3002"]}),"\n",(0,l.jsx)(e.li,{children:"binary\u683C\u5F0F\u7684\u8F93\u5165\u6587\u4EF6\uFF0C\u7528\u4E8E\u677F\u7AEF\u793A\u4F8B\u6267\u884C\u63A8\u7406\u65F6\u7684\u6A21\u578B\u8F93\u5165\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.h2,{id:"\u677F\u7AEF\u8FD0\u884C",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u677F\u7AEF\u8FD0\u884C",children:"#"}),"\u677F\u7AEF\u8FD0\u884C"]}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0A\u6B65\u9AA4\u5B8C\u6210\u540E\uFF0C\u6211\u4EEC\u5207\u6362\u5230\u677F\u7AEF\u73AF\u5883\uFF0C\u5728\u677F\u7AEF\u73AF\u5883\u4E2D\u5C06\u7A0B\u5E8F\u3001\u6A21\u578B\u6587\u4EF6\u3001\u8F93\u5165\u6570\u636E\u53CA\u4F9D\u8D56\u5E93\u6574\u5408\u5230\u4E00\u8D77\uFF0C\u53C2\u8003\u76EE\u5F55\u7ED3\u6784\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-text",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 input.bin"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 lib"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u251C\u2500\u2500 resnet18_224x224_rgb_removed.hbm"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2514\u2500\u2500 run_sample"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,l.jsx)(e.p,{children:"\u6700\u540E\uFF0C\u5BF9LD_LIBRARY_PATH\u5C31\u80FD\u884C\u914D\u7F6E\u5E76\u8FD0\u884C\u7A0B\u5E8F\u5373\u53EF\uFF0C\u5982\u4E0B\u6240\u793A\uFF1A"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-bash",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"horizon@hobot:/map/horizon"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# export LD_LIBRARY_PATH=./lib:$LD_LIBRARY_PATH"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"horizon@hobot:/map/horizon"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# ./run_sample"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"......"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"label:"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"65"})]}),"\n"]})})}),"\n",(0,l.jsxs)(e.p,{children:["\u53EF\u4EE5\u770B\u5230\uFF0Clog\u4E2D\u6253\u5370\u7684 ",(0,l.jsx)(e.code,{children:"label: 65"})," \u6B63\u662F\u5BF9\u5E94ImageNet\u6570\u636E\u96C6\u4E2DILSVRC2012_val_00000001\u56FE\u7247\u7684label\uFF0C\u5373\u5206\u7C7B\u7ED3\u679C\u6B63\u786E\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u81F3\u6B64\uFF0C\u4EE5RGB\u8F93\u5165\u7684ResNet18\u6A21\u578B\u79FB\u9664Dequantize\u8282\u70B9\u5168\u6D41\u7A0B\u90E8\u7F72\u5B9E\u8DF5\u5C31\u7ED3\u675F\u4E86\u3002"})]})}function t(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,r.ah)(),s.components);return e?(0,l.jsx)(e,Object.assign({},s,{children:(0,l.jsx)(o,s)})):o(s)}e.default=t,t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["3.0.22%2Fzh%2Fguide%2Fmodel_deployment_guidance%2Frgb_remove_resnet18_deployment_guidance.mdx"]={toc:[{id:"\u51C6\u5907\u6D6E\u70B9\u6A21\u578B",text:"\u51C6\u5907\u6D6E\u70B9\u6A21\u578B",depth:2},{id:"\u6821\u51C6\u96C6\u51C6\u5907",text:"\u6821\u51C6\u96C6\u51C6\u5907",depth:2},{id:"board_model",text:"\u751F\u6210\u677F\u7AEF\u6A21\u578B",depth:2},{id:"\u547D\u4EE4\u884C\u5DE5\u5177\u65B9\u5F0F",text:"\u547D\u4EE4\u884C\u5DE5\u5177\u65B9\u5F0F",depth:3},{id:"ptq-api\u65B9\u5F0F",text:"PTQ API\u65B9\u5F0F",depth:3},{id:"\u6A21\u578B\u4F18\u5316\u6821\u51C6",text:"\u6A21\u578B\u4F18\u5316\u6821\u51C6",depth:4},{id:"\u6A21\u578B\u8F6C\u5B9A\u70B9\u53CA\u7F16\u8BD1",text:"\u6A21\u578B\u8F6C\u5B9A\u70B9\u53CA\u7F16\u8BD1",depth:4},{id:"board_sample",text:"\u6784\u5EFA\u677F\u7AEF\u793A\u4F8B",depth:2},{id:"\u677F\u7AEF\u8FD0\u884C\u51C6\u5907",text:"\u677F\u7AEF\u8FD0\u884C\u51C6\u5907",depth:2},{id:"\u677F\u7AEF\u8FD0\u884C",text:"\u677F\u7AEF\u8FD0\u884C",depth:2}],title:"\u79FB\u9664Dequantize\u8282\u70B9\u7684ResNet18\u6A21\u578B\u90E8\u7F72\u5B9E\u8DF5\u6307\u5BFC",frontmatter:{}}},95895:function(s,e,n){n(39710);var l=n(85893),r=n(67294),i=n(45687);n(20388);let o={"zh-CN":s=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${s.minutes>=1?`${Math.ceil(s.minutes)} \u{5206}\u{949F}`:"\u5C0F\u4E8E 1 \u5206\u949F"}`,"en-US":s=>`Estimated reading time: ${s.minutes>=1?`${Math.ceil(s.minutes)} minutes`:"less than 1 minute"}`};function t(s,e,n){let l=Object.keys(o).includes(e)?e:n;return o[l](s)}e.Z=s=>{let{defaultLocale:e="en-US"}=s,n=(0,i.Vi)().page.readingTimeData,o=(0,i.Jr)(),a=(0,i.e7)(),[c,h]=(0,r.useState)(t(n,o,e));return(0,r.useEffect)(()=>{h(t(n,o,e))},[o,n]),(0,l.jsx)("span",{"data-dark":String(a),className:"rp-reading-time",children:c})}}}]);