"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["23802"],{55638:function(n,e,s){s.r(e);var i=s(85893),l=s(50065),r=s(95895);function a(n){let e=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",span:"span",div:"div",ol:"ol",li:"li",h3:"h3"},(0,l.ah)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u6307\u5357",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u6307\u5357",children:"#"}),"\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u6307\u5357"]}),"\n",(0,i.jsx)(r.Z,{}),"\n",(0,i.jsx)(e.p,{children:"\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u901A\u8FC7\u5728\u6A21\u578B\u4E2D\u63D2\u5165\u4E00\u4E9B\u4F2A\u91CF\u5316\u8282\u70B9\uFF0C\u4ECE\u800C\u4F7F\u5F97\u901A\u8FC7\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u5F97\u5230\u7684\u6A21\u578B\u8F6C\u6362\u6210\u5B9A\u70B9\u6A21\u578B\u65F6\u5C3D\u53EF\u80FD\u51CF\u5C11\u7CBE\u5EA6\u635F\u5931\u3002\n\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u548C\u4F20\u7EDF\u7684\u6A21\u578B\u8BAD\u7EC3\u65E0\u5F02\uFF0C\u53EF\u4EE5\u4ECE\u96F6\u5F00\u59CB\uFF0C\u642D\u5EFA\u4E00\u4E2A\u4F2A\u91CF\u5316\u6A21\u578B\uFF0C\u7136\u540E\u5BF9\u8BE5\u4F2A\u91CF\u5316\u6A21\u578B\u8FDB\u884C\u8BAD\u7EC3\u3002\n\u7531\u4E8E\u90E8\u7F72\u7684\u786C\u4EF6\u5E73\u53F0\u6709\u8BF8\u591A\u9650\u5236\uFF0C\u641E\u6E05\u8FD9\u4E9B\u9650\u5236\uFF0C\u5E76\u4E14\u6839\u636E\u8FD9\u4E9B\u9650\u5236\u642D\u5EFA\u4F2A\u91CF\u5316\u6A21\u578B\u95E8\u69DB\u8F83\u9AD8\u3002\n\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u5DE5\u5177\u901A\u8FC7\u5728\u60A8\u63D0\u4F9B\u7684\u6D6E\u70B9\u6A21\u578B\u4E0A\u6839\u636E\u90E8\u7F72\u5E73\u53F0\u7684\u9650\u5236\u81EA\u52A8\u63D2\u5165\u4F2A\u91CF\u5316\u91CF\u5316\u7B97\u5B50\u7684\u65B9\u6CD5\uFF0C\u964D\u4F4E\u5F00\u53D1\u91CF\u5316\u6A21\u578B\u7684\u95E8\u69DB\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u7531\u4E8E\u65BD\u52A0\u4E86\u5404\u79CD\u9650\u5236\uFF0C\u56E0\u6B64\uFF0C\u4E00\u822C\u6765\u8BF4\uFF0C\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u6BD4\u7EAF\u6D6E\u70B9\u6A21\u578B\u7684\u8BAD\u7EC3\u66F4\u52A0\u56F0\u96BE\u3002\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u5DE5\u5177\u7684\u76EE\u6807\u662F\u964D\u4F4E\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u7684\u96BE\u5EA6\uFF0C\u964D\u4F4E\u91CF\u5316\u6A21\u578B\u90E8\u7F72\u7684\u5DE5\u7A0B\u96BE\u5EA6\u3002"}),"\n",(0,i.jsxs)(e.h2,{id:"\u6D41\u7A0B\u548C\u793A\u4F8B",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6D41\u7A0B\u548C\u793A\u4F8B",children:"#"}),"\u6D41\u7A0B\u548C\u793A\u4F8B"]}),"\n",(0,i.jsx)(e.p,{children:"\u867D\u7136\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u5DE5\u5177\u4E0D\u5F3A\u5236\u8981\u6C42\u4ECE\u4E00\u4E2A\u9884\u8BAD\u7EC3\u7684\u6D6E\u70B9\u6A21\u578B\u5F00\u59CB\uFF0C\u4F46\u662F\uFF0C\u7ECF\u9A8C\u8868\u660E\uFF0C\u901A\u5E38\u4ECE\u9884\u8BAD\u7EC3\u7684\u9AD8\u7CBE\u5EA6\u6D6E\u70B9\u6A21\u578B\u5F00\u59CB\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u80FD\u5927\u5927\u964D\u4F4E\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u7684\u96BE\u5EA6\u3002"}),"\n",(0,i.jsx)(e.pre,{className:"code",children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# \u5C06\u6A21\u578B\u8F6C\u4E3A QAT \u72B6\u6001"})}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"qat_model "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"prepare"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    float_model,"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    example_input,"})}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    qconfig_setter "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:" horizon.quantization.qconfig_template.default_qat_qconfig_setter,"})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"to"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(device)"})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# \u52A0\u8F7D Calibration \u6A21\u578B\u4E2D\u7684\u91CF\u5316\u53C2\u6570"})}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"qat_model"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"load_state_dict"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(calib_model."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"state_dict"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"())"})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# \u8FDB\u884C\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# \u4F5C\u4E3A\u4E00\u4E2A filetune \u8FC7\u7A0B\uFF0C\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u4E00\u822C\u9700\u8981\u8BBE\u5B9A\u8F83\u5C0F\u7684\u5B66\u4E60\u7387"})}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"optimizer "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" torch"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"optim"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"SGD"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    qat_model."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"parameters"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(), lr"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.0001"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:", weight_decay"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"2e-4"})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number"}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" nepoch "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"range"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(epoch_num):"})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# \u6CE8\u610F\u6B64\u5904\u5BF9 QAT \u6A21\u578B training \u72B6\u6001\u7684\u63A7\u5236\u65B9\u6CD5"})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    qat_model"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"train"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"set_fake_quantize"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(qat_model, FakeQuantState.QAT)"})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number"}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"train_one_epoch"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        qat_model,"})}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        nn."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"CrossEntropyLoss"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(),"})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        optimizer,"})}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"None"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        train_data_loader,"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        device,"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    )"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number"}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# \u6CE8\u610F\u6B64\u5904\u5BF9 QAT \u6A21\u578B eval \u72B6\u6001\u7684\u63A7\u5236\u65B9\u6CD5"})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    qat_model"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"eval"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"set_fake_quantize"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(qat_model, FakeQuantState.VALIDATION)"})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number"}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# \u6D4B\u8BD5 qat \u6A21\u578B\u7CBE\u5EA6"})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    top1"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" top5 "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"evaluate"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        qat_model,"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        eval_data_loader,"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        device,"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    )"})}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"print"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"QAT model: evaluation Acc@1 '}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"{"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":.3f"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"}"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" Acc@5 "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"{"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":.3f"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"}"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"format"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"            top1.avg, top5.avg"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        )"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    )"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number"}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# \u6D4B\u8BD5 quantized \u6A21\u578B\u7CBE\u5EA6"})}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"qat_hbir_model "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" horizon_plugin_pytorch"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"quantization"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"hbdk4"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"export"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    qat_model. example_input"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"quantized_hbir_model "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" hbdk4"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"compiler"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"convert"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(qat_hbir_model)"})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number"}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"top1"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" top5 "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"evaluate"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    quantized_hbir_model,"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    eval_data_loader,"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"print"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Quantized model: evaluation Acc@1 '}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"{"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":.3f"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"}"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" Acc@5 "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"{"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":.3f"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"}"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"format"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        top1.avg, top5.avg"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    )"})}),"\n",(0,i.jsx)(e.span,{className:"line line-number",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})}),"\n"]})})}),"\n",(0,i.jsxs)(e.div,{className:"rspress-directive warning",children:[(0,i.jsx)(e.div,{className:"rspress-directive-title",children:"\u6CE8\u610F"}),(0,i.jsx)(e.div,{className:"rspress-directive-content",children:(0,i.jsx)(e.p,{children:"\u7531\u4E8E\u90E8\u7F72\u5E73\u53F0\u7684\u5E95\u5C42\u9650\u5236\uFF0CQAT \u6A21\u578B\u65E0\u6CD5\u5B8C\u5168\u4EE3\u8868\u6700\u7EC8\u4E0A\u677F\u7CBE\u5EA6\uFF0C\u8BF7\u52A1\u5FC5\u76D1\u63A7 quantized \u6A21\u578B\u7CBE\u5EA6\uFF0C\u786E\u4FDD quantized \u6A21\u578B\u7CBE\u5EA6\u6B63\u5E38\uFF0C\u5426\u5219\u53EF\u80FD\u51FA\u73B0\u6A21\u578B\u4E0A\u677F\u6389\u70B9\u95EE\u9898\u3002"})})]}),"\n",(0,i.jsx)(e.p,{children:"\u7531\u4E0A\u8FF0\u793A\u4F8B\u4EE3\u7801\u53EF\u4EE5\u770B\u5230\uFF0C\u4E0E\u4F20\u7EDF\u7684\u7EAF\u6D6E\u70B9\u6A21\u578B\u8BAD\u7EC3\u76F8\u6BD4\uFF0C\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u591A\u4E86\u4E24\u4E2A\u6B65\u9AA4\uFF1A"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"prepare\u3002"}),"\n",(0,i.jsx)(e.li,{children:"\u52A0\u8F7D Calibration \u6A21\u578B\u53C2\u6570\u3002"}),"\n"]}),"\n",(0,i.jsxs)(e.h3,{id:"prepare",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#prepare",children:"#"}),"prepare"]}),"\n",(0,i.jsx)(e.p,{children:"\u8FD9\u4E00\u6B65\u9AA4\u7684\u76EE\u6807\u662F\u5BF9\u6D6E\u70B9\u7F51\u7EDC\u8FDB\u884C\u53D8\u6362\uFF0C\u63D2\u5165\u4F2A\u91CF\u5316\u8282\u70B9\u3002"}),"\n",(0,i.jsxs)(e.h3,{id:"\u52A0\u8F7D-calibration-\u6A21\u578B\u53C2\u6570",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u52A0\u8F7D-calibration-\u6A21\u578B\u53C2\u6570",children:"#"}),"\u52A0\u8F7D Calibration \u6A21\u578B\u53C2\u6570"]}),"\n",(0,i.jsx)(e.p,{children:"\u901A\u8FC7\u52A0\u8F7D Calibration \u5F97\u5230\u7684\u4F2A\u91CF\u5316\u53C2\u6570\uFF0C\u6765\u83B7\u5F97\u4E00\u4E2A\u8F83\u597D\u7684\u521D\u59CB\u5316\u3002"}),"\n",(0,i.jsxs)(e.h3,{id:"\u8BAD\u7EC3\u8FED\u4EE3",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8BAD\u7EC3\u8FED\u4EE3",children:"#"}),"\u8BAD\u7EC3\u8FED\u4EE3"]}),"\n",(0,i.jsx)(e.p,{children:"\u81F3\u6B64\uFF0C\u5B8C\u6210\u4E86\u4F2A\u91CF\u5316\u6A21\u578B\u7684\u642D\u5EFA\u548C\u53C2\u6570\u7684\u521D\u59CB\u5316\uFF0C\u7136\u540E\u5C31\u53EF\u4EE5\u8FDB\u884C\u5E38\u89C4\u7684\u8BAD\u7EC3\u8FED\u4EE3\u548C\u6A21\u578B\u53C2\u6570\u66F4\u65B0\uFF0C\u5E76\u4E14\u76D1\u63A7 quantized \u6A21\u578B\u7CBE\u5EA6\u3002"}),"\n",(0,i.jsxs)(e.h2,{id:"\u4F2A\u91CF\u5316\u7B97\u5B50",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F2A\u91CF\u5316\u7B97\u5B50",children:"#"}),"\u4F2A\u91CF\u5316\u7B97\u5B50"]}),"\n",(0,i.jsx)(e.p,{children:"\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u548C\u4F20\u7EDF\u7684\u6D6E\u70B9\u6A21\u578B\u7684\u8BAD\u7EC3\u4E3B\u8981\u533A\u522B\u5728\u4E8E\u63D2\u5165\u4E86\u4F2A\u91CF\u5316\u7B97\u5B50\uFF0C\u5E76\u4E14\uFF0C\u4E0D\u540C\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u7B97\u6CD5\u4E5F\u662F\u901A\u8FC7\u4F2A\u91CF\u5316\u7B97\u5B50\u6765\u4F53\u73B0\u7684\uFF0C\u56E0\u6B64\uFF0C\u8FD9\u91CC\u4ECB\u7ECD\u4E00\u4E0B\u4F2A\u91CF\u5316\u7B97\u5B50\u3002"}),"\n",(0,i.jsxs)(e.div,{className:"rspress-directive info",children:[(0,i.jsx)(e.div,{className:"rspress-directive-title",children:"\u6CE8\u89E3"}),(0,i.jsx)(e.div,{className:"rspress-directive-content",children:(0,i.jsx)(e.p,{children:"\n\u7531\u4E8E BPU \u53EA\u652F\u6301\u5BF9\u79F0\u91CF\u5316\uFF0C\u56E0\u6B64\uFF0C\u8FD9\u91CC\u4EE5\u5BF9\u79F0\u91CF\u5316\u4E3A\u4F8B\u4ECB\u7ECD\u3002"})})]}),"\n",(0,i.jsxs)(e.h3,{id:"\u4F2A\u91CF\u5316\u8FC7\u7A0B",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F2A\u91CF\u5316\u8FC7\u7A0B",children:"#"}),"\u4F2A\u91CF\u5316\u8FC7\u7A0B"]}),"\n",(0,i.jsx)(e.p,{children:"\u4EE5 int8 \u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u4E3A\u4F8B\uFF0C\u4E00\u822C\u6765\u8BF4\uFF0C\u4F2A\u91CF\u5316\u7B97\u5B50\u7684\u8BA1\u7B97\u8FC7\u7A0B\u5982\u4E0B\uFF1A"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.code,{children:"fake_quant_x = clip(round(x / scale)\uFF0C-128, 127) * scale"})}),"\n",(0,i.jsx)(e.p,{children:"\u548C Conv2d \u901A\u8FC7\u8BAD\u7EC3\u6765\u4F18\u5316 weight, bias \u53C2\u6570\u7C7B\u4F3C\uFF0C\u4F2A\u91CF\u5316\u7B97\u5B50\u8981\u901A\u8FC7\u8BAD\u7EC3\u6765\u4F18\u5316 scale \u53C2\u6570\u3002\n\u7136\u800C\uFF0C\u7531\u4E8E round \u4F5C\u4E3A\u9636\u68AF\u51FD\u6570\uFF0C\u5176\u68AF\u5EA6\u4E3A 0\uFF0C\u4ECE\u800C\u5BFC\u81F4\u4E86\u4F2A\u91CF\u5316\u7B97\u5B50\u65E0\u6CD5\u76F4\u63A5\u901A\u8FC7\u68AF\u5EA6\u53CD\u5411\u4F20\u64AD\u7684\u65B9\u5F0F\u8FDB\u884C\u8BAD\u7EC3\u3002\n\u89E3\u51B3\u8FD9\u4E00\u95EE\u9898\uFF0C\u901A\u5E38\u6709\u4E24\u79CD\u65B9\u6848\uFF1A\u57FA\u4E8E\u7EDF\u8BA1\u7684\u65B9\u6CD5\u548C\u57FA\u4E8E\u5B66\u4E60\u7684\u65B9\u6CD5\u3002"}),"\n",(0,i.jsxs)(e.h3,{id:"\u57FA\u4E8E\u7EDF\u8BA1\u7684\u65B9\u6CD5",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u57FA\u4E8E\u7EDF\u8BA1\u7684\u65B9\u6CD5",children:"#"}),"\u57FA\u4E8E\u7EDF\u8BA1\u7684\u65B9\u6CD5"]}),"\n",(0,i.jsx)(e.p,{children:"\u91CF\u5316\u7684\u76EE\u6807\u662F\u628A Tensor \u4E2D\u7684\u6D6E\u70B9\u6570\u901A\u8FC7 scale \u53C2\u6570\u5747\u5300\u5730\u6620\u5C04\u5230 int8 \u8868\u793A\u7684 [-128, 127] \u7684\u8303\u56F4\u4E0A\u3002\u65E2\u7136\u662F\u5747\u5300\u6620\u5C04\uFF0C\u90A3\u4E48\u5F88\u5BB9\u6613\u5F97\u5230 scale \u7684\u8BA1\u7B97\u65B9\u6CD5\uFF1A"}),"\n",(0,i.jsx)(e.pre,{className:"code",children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"compute_scale"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-parameter)"},children:"x"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" Tensor):"})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    xmin"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" xmax "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" x"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"max"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(),"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" maxv "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" x"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"min"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"max"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(xmin."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"abs"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(), xmax."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"abs"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"())"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"256.0"})]}),"\n"]})})}),"\n",(0,i.jsxs)(e.p,{children:["\u7531\u4E8E Tensor \u4E2D\u6570\u636E\u5206\u5E03\u4E0D\u5747\u5300\u4EE5\u53CA\u5916\u70B9\u95EE\u9898\uFF0C\u53C8\u884D\u751F\u4E86\u4E0D\u540C\u7684\u8BA1\u7B97 xmin \u548C xmax \u7684\u65B9\u6CD5\u3002\u53EF\u4EE5\u53C2\u8003 ",(0,i.jsx)(e.code,{children:"MinMaxObserver"})," \u7B49\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u5728\u5DE5\u5177\u4E2D\u7684\u4F7F\u7528\u65B9\u6CD5\u8BF7\u53C2\u8003 ",(0,i.jsx)(e.a,{href:"/3.0.22/zh/guide/plugin/user_guide/qconfig.html",children:"QConfig \u8BE6\u89E3"}),"\u3002"]}),"\n",(0,i.jsxs)(e.h3,{id:"\u57FA\u4E8E\u5B66\u4E60\u7684\u65B9\u6CD5",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u57FA\u4E8E\u5B66\u4E60\u7684\u65B9\u6CD5",children:"#"}),"\u57FA\u4E8E\u5B66\u4E60\u7684\u65B9\u6CD5"]}),"\n",(0,i.jsx)(e.p,{children:"\u867D\u7136 round \u7684\u68AF\u5EA6\u4E3A 0\uFF0C\u7814\u7A76\u8005\u901A\u8FC7\u5B9E\u9A8C\u53D1\u73B0\uFF0C\u5728\u8BE5\u573A\u666F\u4E0B\uFF0C\u5982\u679C\u76F4\u63A5\u8BBE\u7F6E\u5176\u68AF\u5EA6\u4E3A 1 \u4E5F\u53EF\u4EE5\u4F7F\u5F97\u6A21\u578B\u6536\u655B\u5230\u9884\u671F\u7684\u7CBE\u5EA6\u3002"}),"\n",(0,i.jsx)(e.pre,{className:"code",children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-python",meta:"",children:[(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"round_ste"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-parameter)"},children:"x"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" Tensor):"})]}),"\n",(0,i.jsxs)(e.span,{className:"line line-number",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (x"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"round"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" x)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"detach"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" x"})]}),"\n"]})})}),"\n",(0,i.jsxs)(e.p,{children:["\u5728\u5DE5\u5177\u4E2D\u7684\u4F7F\u7528\u65B9\u6CD5\u8BF7\u53C2\u8003 ",(0,i.jsx)(e.a,{href:"/3.0.22/zh/guide/plugin/user_guide/qconfig.html#fakequantize-%E7%9A%84%E5%AE%9A%E4%B9%89",children:"FakeQuantize \u7684\u5B9A\u4E49"}),"\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u5982\u60A8\u6709\u5174\u8DA3\u8FDB\u4E00\u6B65\u4E86\u89E3\uFF0C\u53EF\u4EE5\u53C2\u8003\u5982\u4E0B\u8BBA\u6587\uFF1A",(0,i.jsx)(e.a,{href:"https://arxiv.org/abs/1902.08153",target:"_blank",rel:"noopener noreferrer",children:"Learned Step Size Quantization"}),"\u3002"]})]})}function o(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,l.ah)(),n.components);return e?(0,i.jsx)(e,Object.assign({},n,{children:(0,i.jsx)(a,n)})):a(n)}e.default=o,o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["3.0.22%2Fzh%2Fguide%2Fplugin%2Fuser_guide%2Fqat_guide.mdx"]={toc:[{id:"\u6D41\u7A0B\u548C\u793A\u4F8B",text:"\u6D41\u7A0B\u548C\u793A\u4F8B",depth:2},{id:"prepare",text:"prepare",depth:3},{id:"\u52A0\u8F7D-calibration-\u6A21\u578B\u53C2\u6570",text:"\u52A0\u8F7D Calibration \u6A21\u578B\u53C2\u6570",depth:3},{id:"\u8BAD\u7EC3\u8FED\u4EE3",text:"\u8BAD\u7EC3\u8FED\u4EE3",depth:3},{id:"\u4F2A\u91CF\u5316\u7B97\u5B50",text:"\u4F2A\u91CF\u5316\u7B97\u5B50",depth:2},{id:"\u4F2A\u91CF\u5316\u8FC7\u7A0B",text:"\u4F2A\u91CF\u5316\u8FC7\u7A0B",depth:3},{id:"\u57FA\u4E8E\u7EDF\u8BA1\u7684\u65B9\u6CD5",text:"\u57FA\u4E8E\u7EDF\u8BA1\u7684\u65B9\u6CD5",depth:3},{id:"\u57FA\u4E8E\u5B66\u4E60\u7684\u65B9\u6CD5",text:"\u57FA\u4E8E\u5B66\u4E60\u7684\u65B9\u6CD5",depth:3}],title:"\u91CF\u5316\u611F\u77E5\u8BAD\u7EC3\u6307\u5357",frontmatter:{}}},95895:function(n,e,s){s(39710);var i=s(85893),l=s(67294),r=s(45687);s(20388);let a={"zh-CN":n=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${n.minutes>=1?`${Math.ceil(n.minutes)} \u{5206}\u{949F}`:"\u5C0F\u4E8E 1 \u5206\u949F"}`,"en-US":n=>`Estimated reading time: ${n.minutes>=1?`${Math.ceil(n.minutes)} minutes`:"less than 1 minute"}`};function o(n,e,s){let i=Object.keys(a).includes(e)?e:s;return a[i](n)}e.Z=n=>{let{defaultLocale:e="en-US"}=n,s=(0,r.Vi)().page.readingTimeData,a=(0,r.Jr)(),t=(0,r.e7)(),[c,h]=(0,l.useState)(o(s,a,e));return(0,l.useEffect)(()=>{h(o(s,a,e))},[a,s]),(0,i.jsx)("span",{"data-dark":String(t),className:"rp-reading-time",children:c})}}}]);