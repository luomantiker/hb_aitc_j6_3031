<!doctype html><html lang="zh"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Rspress v1.23.1"><title data-rh="true">精度debug工具 - Horizon OpenExplorer</title><meta data-rh="true" name="description" content="地平线OpenExplorer算法工具链"/><script>{const e=localStorage.getItem("rspress-theme-appearance"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,a=e&&"auto"!==e?"dark"===e:t;document.documentElement.classList.toggle("dark",a),document.documentElement.style.colorScheme=a?"dark":"light"}</script><title>Horizon OpenExplorer</title><link rel="icon" href="/favicon.ico"><script defer="defer" src="/static/js/styles.47a58349.js"></script><script defer="defer" src="/static/js/lib-polyfill.f3f8d881.js"></script><script defer="defer" src="/static/js/lib-lodash.6d460d4e.js"></script><script defer="defer" src="/static/js/lib-react.57316932.js"></script><script defer="defer" src="/static/js/lib-router.687d37e2.js"></script><script defer="defer" src="/static/js/11162.ccfbaa80.js"></script><script defer="defer" src="/static/js/index.de38ed8a.js"></script><link href="/static/css/styles.d4060814.css" rel="stylesheet"></head><body ><div id="root"><div><div class="navContainer_f6cde rspress-nav px-6 " style="position:sticky"><div class="container_f6cde flex justify-between items-center h-full"><div class="navBarTitle_f6cde"><a href="/" class="flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><img src="/logo-light.png" alt="logo" id="logo" class="mr-4 rspress-logo dark:hidden"/><img src="/logo-dark.svg" alt="logo" id="logo" class="mr-4 rspress-logo hidden dark:block"/></a></div><div class="flex flex-1 justify-end items-center"><div class="rightNav_f6cde"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="rspress-nav-search-button navSearchButton_6e282"><button><svg width="18" height="18" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg><p class="searchWord_6e282">搜索</p><div style="opacity:0"><span></span><span>K</span></div></button></div><div class="mobileNavSearchButton_6e282"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg></div></div><div class="rspress-nav-menu menu h-14"><a href="https://horizon.cc/" target="_blank" rel="noopener noreferrer" class="link_03735 "><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">地平线官网</div></a><a href="https://auto-developer.horizon.cc/" target="_blank" rel="noopener noreferrer" class="link_03735 "><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">地平线智能汽车开发者社区</div></a><a class="link_03735  cursor-pointer" target="" href="/index.html"><div class="rspress-nav-menu-item singleItem_f6cde activeItem_f6cde text-sm font-medium mx-1.5 px-3 py-2 flex items-center">版本：3.0.22</div></a></div><div class="flex-center flex-row"><div class="translation menu-item_f6cde flex text-sm font-bold items-center px-3 py-2"><div><div class="relative flex-center h-14"><button class="rspress-nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200"><span class="text-sm font-medium flex" style="margin-right:2px"><svg width="18" height="18" viewBox="0 0 32 32" style="width:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div class="rspress-nav-menu-group-content absolute mx-0.8 transition-opacity duration-300" style="opacity:0;visibility:hidden;right:0;top:52px"><div class="p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap" style="box-shadow:var(--rp-shadow-3);z-index:100;border:1px solid var(--rp-c-divider-light);border-radius:var(--rp-radius-large);background:var(--rp-c-bg)"><div><div class="rounded-2xl my-1 flex" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><span class="text-brand">中文</span></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/en/guide/ptq/ptq_tool/accuracy_debug.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>English</span></div></div></a></div></div></div></div></div></div></div><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300 w-7 h-7"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="dark:hidden" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zM12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3zM19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3zM3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3zM18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="hidden dark:block" width="18" height="18" fill="currentColor"><path d="M12.1 22h-.9c-5.5-.5-9.5-5.4-9-10.9.4-4.8 4.2-8.6 9-9 .4 0 .8.2 1 .5.2.3.2.8-.1 1.1-2 2.7-1.4 6.4 1.3 8.4 2.1 1.6 5 1.6 7.1 0 .3-.2.7-.3 1.1-.1.3.2.5.6.5 1-.2 2.7-1.5 5.1-3.6 6.8-1.9 1.4-4.1 2.2-6.4 2.2zM9.3 4.4c-2.9 1-5 3.6-5.2 6.8-.4 4.4 2.8 8.3 7.2 8.7 2.1.2 4.2-.4 5.8-1.8 1.1-.9 1.9-2.1 2.4-3.4-2.5.9-5.3.5-7.5-1.1-2.8-2.2-3.9-5.9-2.7-9.2z"></path></svg></div></div></div></div></div><div class="mobileNavMenu_f6cde"><div class="navScreen_457e8 " id="navScreen"><div class="container_457e8"><div class="navMenu_457e8"><div class="navMenuItem_457e8 w-full"><a href="https://horizon.cc/" target="_blank" rel="noopener noreferrer" class="link_03735 "><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">地平线官网</div></a></div><div class="navMenuItem_457e8 w-full"><a href="https://auto-developer.horizon.cc/" target="_blank" rel="noopener noreferrer" class="link_03735 "><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">地平线智能汽车开发者社区</div></a></div><div class="navMenuItem_457e8 w-full"><a class="link_03735  cursor-pointer" target="" href="/index.html"><div class="rspress-nav-menu-item singleItem_f6cde activeItem_f6cde text-sm font-medium mx-1.5 px-3 py-2 flex items-center">版本：3.0.22</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_457e8 flex justify-center"></div><div class="flex text-sm font-bold justify-center"><div class="mx-1.5 my-1"><div class=" navScreenMenuGroup_457e8 relative"><button class="button_457e8"><span class="buttonSpan_457e8"><svg width="18" height="18" viewBox="0 0 32 32" style="width:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32" class=" down_457e8 "><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div><div class="items_457e8"><div><div class="p-1 text-center"><span class="text-brand">中文</span></div></div><div><div class="py-1 font-medium"><a class="link_03735  cursor-pointer" target="" href="/en/guide/ptq/ptq_tool/accuracy_debug.html"><div><div class="flex justify-center"><span>English</span></div></div></a></div></div></div></div></div></div></div></div></div></div><button aria-label="mobile hamburger" class=" navHamburger_e7b06 text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div><section><div class="docLayout_edeb4 pt-0"><div class="rspress-sidebar-menu"><button class="flex-center mr-auto"><div class="text-md mr-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><span class="text-sm">Menu</span></button><button class="flex-center ml-auto"><span class="text-sm">页面目录</span><div class="text-md mr-2" style="transform:rotate(0deg);transition:transform 0.2s ease-out;margin-top:2px"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></button></div><aside class="sidebar_71eca rspress-sidebar "><div class="navTitleMask_71eca"><div class="navBarTitle_f6cde"><a href="/" class="flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><img src="/logo-light.png" alt="logo" id="logo" class="mr-4 rspress-logo dark:hidden"/><img src="/logo-dark.svg" alt="logo" id="logo" class="mr-4 rspress-logo hidden dark:block"/></a></div></div><div class="rspress-scrollbar sidebarContent_71eca"><nav class="pb-2"><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/doc_introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>OE文档脉络</span></div></a><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">产品简介</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/preface/learn_oe.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>认识 Open Explorer</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/preface/toolchain_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>工具链概览</span></div></a></div></div></div></section><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/key_concept.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>关键概念</span></div></a><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/env_install.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>环境部署</span></div></a><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">快速入门</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/faststart/ptq_qat_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PTQ、QAT简介</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/faststart/ptq_quickstart.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>算法模型PTQ量化+上板 快速上手</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/faststart/qat_quickstart.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>算法模型QAT量化+部署 快速上手</span></div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">训练后量化（PTQ）</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_workflow.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PTQ转换原理及流程</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">PTQ转换工具</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/tool_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PTQ转换工具阅读概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">hb_compile工具</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_compile/check.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型验证</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_compile/convert.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型量化编译</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_compile/modify.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型修改及HBIR模型编译</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_compile/quant_config.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quant_config说明</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_model_info.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_model_info工具</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_verifier.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_verifier工具</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_eval_preprocess.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_eval_preprocess工具</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_config_generator.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_config_generator工具</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hbruntime.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HBRuntime推理库</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/accuracy_debug.html"><div class="menuItemActive_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>精度debug工具</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">PTQ转换步骤</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/model_prepare.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>浮点模型准备</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/check_model.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>验证模型</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/prepare_calibration_data.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>校准数据集准备</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/quantize_compile.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型量化与编译</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/performance_evaluation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型性能分析</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/accuracy_evaluation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型精度分析</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/accuracy_tune.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型精度调优</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">PTQ转换示例</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_sample/general_description.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>发布物介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_sample/algorithm_sample.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见算法模型示例</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">常见问题及故障处理</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_faq_troubleshooting/ptq_faq.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>训练后量化（PTQ）常见问题</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_faq_troubleshooting/troubleshooting.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见故障处理</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">附录</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_appendix/normalize_introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>数据归一化处理参数配置说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_appendix/transformer.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>图片处理transformer说明</span></div></a></div></div></div></section></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">量化感知训练（QAT）</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/introduce.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/terminology.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>术语约定</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/installation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>环境依赖</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/qat_quickstart/qat_quickstart.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>算法模型QAT量化+部署 快速上手</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">开发指南</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/float_model_requirements.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>浮点模型的要求</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/qconfig.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>QConfig 详解</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/prepare.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>prepare 详解</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/calibration.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Calibration 指南</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/qat_guide.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>量化感知训练指南</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/quant_analysis.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>精度调优工具使用指南</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/precision_tuning.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>量化精度调优指南</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">深入探索</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/advanced_tutorial/eager.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Eager 模式</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/advanced_tutorial/fx_quantization_explain.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>FX Quantization 原理介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/advanced_tutorial/op_fusion.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>算子融合</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">API参考</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/march.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>March</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/qconfig.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>qconfig</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/fake_quantize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>伪量化算子</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">QAT</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/qat_api/horizon_plugin_pytorch_fx_fx_helper_wrap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>fx.fx_helper.wrap</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/qat_api/horizon_plugin_pytorch_quantization_fuse_known_modules.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.fuse_known_modules</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/qat_api/horizon_plugin_pytorch_quantization_fuse_modules.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.fuse_modules</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/qat_api/horizon_plugin_pytorch_quantization_prepare.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.prepare</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">模型导出</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/export/horizon_plugin_pytorch_quantization_hbdk4_export.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.hbdk4.export</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/export/horizon_plugin_pytorch_quantization_hbdk4_get_hbir_input_flattener.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.hbdk4.get_hbir_input_flattener</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/export/horizon_plugin_pytorch_quantization_hbdk4_get_hbir_output_unflattener.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.hbdk4.get_hbir_output_unflattener</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/onnx.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>ONNX</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">Horizon算子</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_functional_filter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.functional.filter</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_functional_point_pillars_preprocess.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.functional.point_pillars_preprocess</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_BgrToYuv444.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.BgrToYuv444</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_Correlation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.Correlation</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_PointPillarsScatter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.PointPillarsScatter</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_MultiScaleDeformableAttention.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.MultiScaleDeformableAttention</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_rgb2bgr.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>rgb2bgr</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_bgr2rgb.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>bgr2rgb</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_bgr2yuv.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>bgr2yuv</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_rgb2yuv.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>rgb2yuv</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_bgr2centered_yuv.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>bgr2centered_yuv</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_rgb2centered_yuv.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>rgb2centered_yuv</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_bgr2gray.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>bgr2gray</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_rgb2gray.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>rgb2gray</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_bgr2centered_gray.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>bgr2centered_gray</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_rgb2centered_gray.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>rgb2centered_gray</span></div></a></div></div></div></section></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">常见问题及常见故障</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/qat_faq/faq.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见问题</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/qat_faq/failure.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见故障</span></div></a></div></div></div></section></div></div></div></section><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/performance_tune.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>模型性能调优</span></div></a><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">统一计算平台（UCP）</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>总览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">视觉处理开发</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp1_Introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp2_Quick_Start.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>快速上手</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp3_Architecture.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模块架构</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp4_Performance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>性能指标</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">视觉算法</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/vp5_Overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>总览 </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/bilateral_filter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Bilateral Filter </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/box_filter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Box Filter </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/canny.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Canny </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/corner_harris.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Corner Harris </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/cvtcolor.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Cvtcolor</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/dilate.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Dilate</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/equalizehist.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Equalizehist</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/erode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Erode</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/filter2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Filter2d</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/flip.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Flip </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/gaussian_blur.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Gaussian Blur</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/integral.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Integral</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/isp.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>ISP</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/jpeg_codec.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>JPEG Codec </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/laplacian_filter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Laplacian Filter </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/median_blur.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Median Blur </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/opticalflowpyrlk.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>OpticalFlowPyrLK </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/pyrdown.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PyrDown</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/pyrup.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PyrUp </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/remap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Remap </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/resize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Resize</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/roi_resize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Roi Resize</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/rotate.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Rotate</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/sepfilter2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>SepFilter2d </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/sobel.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Sobel</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/stitch.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Stitch</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/threshold.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Threshold </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/transpose.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Transpose </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/video_codec.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Video Codec </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/warp_affine.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Warp Affine</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/warp_perspective.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Warp Perspective</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">示例</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/vp6_Overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>总览</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_basic_process.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>基础图像处理示例</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_transformation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>图像变换示例 </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_feature_extraction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>图像特征提取示例 </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_optical_flow.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>光流处理示例</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_avm.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>环视图像拼接示例</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_codec.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>视频编解码示例</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">VP API手册</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_Overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>VP API 概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">数据结构</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpimageformat.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPImageFormat</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpimagetype.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPImageType</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpimage.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPImage</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvparray.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPArray</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvproi.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPRoi</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpfilterkernel.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPFilterKernel </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpinterpolationtype.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPInterpolationType</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpbordertype.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPBorderType</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">功能接口</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpgetversion.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPGetVersion </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpbilateralfilter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPBilateralFilter</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpboxfilter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPBoxFilter</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpcanny.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPCanny</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpcvtcolor.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPCvtColor</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpcornerharris.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPCornerHarris </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpdilate.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPDilate</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpequalizehist.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPEqualizehist </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvperode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPErode </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpfilter2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPFilter2d</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpflip.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPFlip </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpgaussianblur.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPGaussianBlur </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpintegral.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPIntegral </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpisp.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPISP</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpjpegencode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPJPEGEncode </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpjpegdecode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPJPEGDecode </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvplaplacianfilter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPLaplacianFilter</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpmedianblur.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPMedianBlur</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpopticalflowpyrlk.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPOpticalFlowPyrLK </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvppyrdown.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPPyrDown </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvppyrup.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPPyrUp </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpremap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPRemap </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpresize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPResize </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvproiresize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPRoiResize </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvprotate.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPRotate </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpsepfilter2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPSepFilter2d </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpsobel.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPSobel</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpstitch.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPStitch</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpthreshold.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPThreshold </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvptranspose.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPTranspose</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpvideoencode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPVideoEncode </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpvideodecode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPVideoDecode</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpwarpaffine.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPWarpAffine </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpwarpperspective.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPWarpPerspective </span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_environment_variable.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>环境变量</span></div></a></div></div></div></section></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">模型推理开发</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/runtime_dev.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型推理应用开发指导</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">模型推理API手册</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/bpu_sdk_api_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型推理API概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">数据结构</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/HB_DNN_TENSOR_MAX_DIMENSIONS.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HB_DNN_TENSOR_MAX_DIMENSIONS </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNPackedHandle_t.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNPackedHandle_t</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNHandle_t.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNHandle_t </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNDataType.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNDataType </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNTensorShape.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNTensorShape </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNDescType.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNDescType</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNQuantiScale.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNQuantiScale</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNQuantiType.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNQuantiType </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNTensorProperties.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNTensorProperties</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNTensor.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNTensor </span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">功能接口</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/function_interface/version_info.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>版本信息</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/function_interface/model_loading_releasing.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型加载/释放</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/function_interface/model_info.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型信息</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/function_interface/model_inference.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型推理</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/function_interface/status_code.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>状态码</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/alignment_rule.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>对齐规则</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/dynamic_input_introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>动态输入介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/configuration_info.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>配置信息 </span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/basic_sample.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>基础示例包使用说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/ai_benchmark.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>AI Benchmark使用说明</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">模型推理工具介绍</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/tool_introduction/auxiliary_tool.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常用操作</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/tool_introduction/hrt_model_exec.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hrt_model_exec工具介绍</span></div></a></div></div></div></section></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">高性能算子库</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl1_introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl2_quick_start.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>快速上手</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl3_architecture.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模块架构</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl4_performance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>性能指标</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">高性能算法</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl5_op/overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>总览</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl5_op/op_fft.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Fast Fourier Transform</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl5_op/op_ifft.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Inverse Fast Fourier Transform</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl5_op/op_fft_2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Fast Fourier Transform 2D</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl5_op/op_ifft_2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Inverse Fast Fourier Transform 2D</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl6_sample.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>示例</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">HPL API手册</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HPL API 概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">数据结构</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_data_structure/hb_hpl_max_dims.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HB_HPL_MAX_DIMS</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_data_structure/hbhpldatatype.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbHPLDataType</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_data_structure/hbhplimformat.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbHPLImFormat</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_data_structure/hbhplimaginarydata.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbHPLImaginaryData</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_data_structure/hbfftpointsize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbFFTPointSize</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">功能接口</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_function_interface/hbfft1d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbFFT1D</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_function_interface/hbifft1d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbIFFT1D</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_function_interface/hbfft2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbFFT2D</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_function_interface/hbifft2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbIFFT2D</span></div></a></div></div></div></section></div></div></div></section></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">自定义算子</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">DSP算子开发</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_intro.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>DSP开发文档</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_develop.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>DSP开发流程</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">DSP示例</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_sample/dsp_sample_intro.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_sample/centerpoint_pointpillar.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>点云前处理介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_sample/quantize_dequantize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>量化反量化介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_sample/slam.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>SLAM示例介绍</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">DSP API手册</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/api_introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>DSP API概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">数据结构</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_data_structure/hbDSPRpcCmd.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDSPRpcCmd</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_data_structure/handle_fn.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>handle_fn</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">功能接口</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hbDSPRpcV2.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDSPRpcV2</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hbDSPAddrMap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDSPAddrMap</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hbDSPAddrUnmap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDSPAddrUnmap</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_env_init.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_env_init</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_env_init_ex.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_env_init_ex</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_start.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_start</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_mem_map.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_mem_map</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_mem_unmap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_mem_unmap</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_register_fn.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_register_fn</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_unregister_fn.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_unregister_fn</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_environment_variable.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>环境变量</span></div></a></div></div></div></section></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/gpu_develop.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>GPU开发文档</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/full_process_sample.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>目标检测全流程示例</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">UCP通用API介绍</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>UCP通用API概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">数据结构</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/version_information.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>版本信息类型</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucptaskhandle_t.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPTaskHandle_t</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucptaskdonecb.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPTaskDoneCb</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucp_all_backends.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HB_UCP_ALL_BACKENDS</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucpbackend.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPBackend</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucptaskpriority.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPTaskPriority</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucp_initialize_sched_param.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HB_UCP_INITIALIZE_SCHED_PARAM</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucpschedparam.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPSchedParam</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucpsysmem.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPSysMem</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucpsysmemflushflag.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPSysMemFlushFlag</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">功能接口</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpgetversion.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPGetVersion</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpgetsocname.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPGetSocName</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpsubmittask.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPSubmitTask</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpwaittaskdone.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPWaitTaskDone</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpsettaskdonecb.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPSetTaskDoneCb</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpreleasetask.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPReleaseTask</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpmalloc.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPMalloc</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpmalloccached.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPMallocCached</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpmemflush.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPMemFlush</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpfree.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPFree</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpgeterrordesc.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPGetErrorDesc</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_environment_variable.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>环境变量</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">UCP性能分析工具</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_tools/ucp_trace.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>UCP Trace 使用说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_tools/ucp_monitor.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hrt_ucp_monitor 工具介绍</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">常见问题及错误码</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_faq_errorcode/ucp_faq.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见问题</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_faq_errorcode/ucp_error_code.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>错误码</span></div></a></div></div></div></section></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">模型部署实践指导</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/model_deployment_guidance/rgb_resnet18_deployment_guidance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>RGB输入的ResNet18模型部署实践指导</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/model_deployment_guidance/pyramid_resnet18_deployment_guidance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Pyramid输入的ResNet18模型部署实践指导</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/model_deployment_guidance/pyramid_batch_resnet18_deployment_guidance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Pyramid输入的多Batch ResNet18模型部署实践指导</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/model_deployment_guidance/resizer_resnet18_deployment_guidance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Resizer输入的ResNet18模型部署实践指导</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/model_deployment_guidance/rgb_remove_resnet18_deployment_guidance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>移除Dequantize节点的ResNet18模型部署实践指导</span></div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">进阶内容</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">Horizon Torch Samples</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">使用框架</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/framework/framework.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>框架</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/framework/engine.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>执行引擎</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">使用指南</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/quantization.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>如何进行量化训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/custom_qconfig.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>set_qconfig 书写规范和自定义 qconfig 介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/amp.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>如何开启 AMP</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/compile.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>如何编译模型</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/registry.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>注册机制</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/config.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>config 文件介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/detailed_config.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>FCOS-EfficientNetB0的config构造详细说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/opts.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>通过命令行覆盖config参数</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/calops.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>计算量工具</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/calibration.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>数据校准</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/launcher.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>启动方式</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">示例说明</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/docker.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Docker 镜像说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/scripts.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>执行脚本</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/multi_machine.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>多机使用说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/classification.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>MobileNetV1分类模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/fcos.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>FCOS检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/segmentation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>UNet分割模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/pwcnet.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PwcNet光流预测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/pointpillars.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PointPillars检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/pointpillars_v2.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PointPillars检测模型训练(无 config)</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/pointpillars_v2_no_hat_trainer.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PointPillars检测模型训练(无config &amp;&amp; 无HAT Trainer)</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/ganet.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>GaNet车道线检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/fcos3d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>FCOS3D检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/motr.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Motr多目标跟踪模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/centerpoint.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>CenterPoint检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/stereonet.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>StereoNet双目深度估计模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/bev.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Bev多任务模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/car_keypoint.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>汽车关键点检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/lidar_multitask.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>lidarMultiTask模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/densetnt.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>DenseTNT轨迹预测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/deform_detr.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Deformable DETR检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/maptroe.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>MapTROE 模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/qcnet.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>QCNet轨迹预测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/flashocc.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Occupancy预测模型</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/lidar_fusion.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Lidar融合多任务感知模型</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/model_zoo.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型仓库modelzoo</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/hat_faq.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见问题</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">HMCT API Reference</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hmct_api_reference/load_model.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hmct.api.load_model</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hmct_api_reference/build_model.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hmct.api.build_model</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hmct_api_reference/ortexecutor.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hmct.api.ORTExecutor</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hmct_api_reference/check_model.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hmct.api.check_model</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hbdk_api_reference.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HBDK Tool API Reference</span></div></a></div></div></div></section><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/benchmark.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>模型性能Benchmark</span></div></a><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">附录</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">工具链算子支持约束列表</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/supported_op_list/onnx_operator_support_list.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>ONNX算子BPU约束列表</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/supported_op_list/torch_operator_support_list.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Torch算子BPU约束列表</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/hbir_op.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HBIR Operator Definition</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/dataset_link.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>数据集下载</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/common_abbreviations.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常用缩略语</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">社区优质文章</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/community_articles/common_image_format.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见图像格式</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/community_articles/oe_package_sample.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>OE开发包示例介绍</span></div></a></div></div></div></section></div></div></div></section></nav></div></aside><div class="content_edeb4 rspress-doc-container flex flex-shrink-0 mx-auto"><div class="w-full flex-1"><div><div class="rspress-doc"><!--$--><h1 id="精度debug工具" class="text-3xl mb-10 leading-10 tracking-tight title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#精度debug工具">#</a>精度debug工具</h1>
<span data-dark="false" class="rp-reading-time">Estimated reading time: 41 minutes</span>
<p class="my-4 leading-7">模型转换工具链会基于您提供的校准样本对模型进行校准量化并保障模型高效的部署在地平线计算平台上。而在模型转换的过程中，难免会因为浮点到定点的量化过程而引入精度损失，通常情况下造成精度损失的主要原因可能有以下几点：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">模型中的一部分节点对量化比较敏感会引入较大误差，即敏感节点量化问题。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">模型中各个节点的误差累积导致模型整体出现较大的校准误差，主要包含：权重量化导致的误差累积、激活量化导致的误差累积以及全量量化导致的误差累积。</p>
</li>
</ol>
<p class="my-4 leading-7">针对该情况，地平线提供了精度debug工具用以协助您自主定位模型量化过程中产生的精度问题。该工具能够协助您对校准模型进行节点粒度的量化误差分析，最终帮助您快速定位出现精度异常的节点。</p>
<p class="my-4 leading-7">精度debug工具提供多种分析功能供您使用，例如：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">获取节点量化敏感度。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">获取模型累积误差曲线。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">获取指定节点的数据分布。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">获取指定节点输入数据通道间数据分布箱线图等。</p>
</li>
</ul>
<h2 id="快速上手" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#快速上手">#</a>快速上手</h2>
<p class="my-4 leading-7">使用精度debug工具主要有以下几个步骤：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">在yaml中的 <strong class="font-semibold">模型参数组(model_parameters)</strong> 配置参数 <code>debug_mode: &quot;dump_calibration_data&quot;</code> ，保存校准数据。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">导入debug模块，加载校准模型和数据。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">通过精度debug工具提供的API或命令行，对精度损失明显的模型进行分析。</p>
</li>
</ol>
<p class="my-4 leading-7">整体流程如下图所示：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/accuracy_debug_process.ff62f772.png"/></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">确认单独量化激活/权重的累积误差情况，详见：<a href="#plot_acc_error" class="link_3b154 ">plot_acc_error</a> 章节。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">激活敏感度排序，详见：<a href="#get_sensitivity_of_nodes" class="link_3b154 ">get_sensitivity_of_nodes</a> 章节。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">权重敏感度排序，详见：<a href="#get_sensitivity_of_nodes" class="link_3b154 ">get_sensitivity_of_nodes</a> 章节。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">节点敏感度排序，详见：<a href="#get_sensitivity_of_nodes" class="link_3b154 ">get_sensitivity_of_nodes</a> 章节。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">查看敏感激活层分布情况，详见：<a href="#plot_distribution" class="link_3b154 ">plot_distribution</a> 章节以及 <a href="#get_channelwise_data_distribution" class="link_3b154 ">get_channelwise_data_distribution</a> 章节。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">查看敏感权重分布情况，详见：<a href="#plot_distribution" class="link_3b154 ">plot_distribution</a> 章节以及 <a href="#get_channelwise_data_distribution" class="link_3b154 ">get_channelwise_data_distribution</a> 章节。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">敏感节点单独量化及部份量化测试，详见：<a href="#sensitivity_analysis" class="link_3b154 ">sensitivity_analysis</a> 章节。</p>
</li>
</ul>
<h3 id="校准模型与数据的保存" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#校准模型与数据的保存">#</a>校准模型与数据的保存</h3>
<p class="my-4 leading-7">首先需要在yaml文件中配置 <code>debug_mode: &quot;dump_calibration_data&quot;</code>，以开启精度debug功能，并保存校准数据(calibration_data)，对应的校准模型(calibrated_model.onnx)为常态化保存。其中：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">校准数据(calibration_data)：在校准阶段，模型通过对这些数据进行前向推理来获取每个被量化节点的量化参数，包括：缩放因子(scale)和阈值(threshold)。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">校准模型(calibrated_model.onnx)：将在校准阶段计算得到的每个被量化节点的量化参数保存在校准节点中，从而得到校准模型。</p>
</li>
</ul>
<div class="rspress-directive info"><div class="rspress-directive-title">注解</div><div class="rspress-directive-content"><p class="my-4 leading-7"><strong class="font-semibold">此处保存的校准数据与02_preprocess.sh生成的校准数据的区别？</strong></p><p class="my-4 leading-7">在J6工具链中，<code>02_preprocess.sh</code> 得到的校准数据与此处保存的校准数据相同，均为.npy格式，可直接用于debug工具测试模型精度。需要注意的是，在送入debug工具之前需要确认 <code>02_preprocess.sh</code> 得到的校准数据文件夹结构与此处保存的校准数据文件夹结构需要一致。</p></div></div>
<div class="rspress-directive info"><div class="rspress-directive-title">注解</div><div class="rspress-directive-content"><p class="my-4 leading-7"><strong class="font-semibold">校准模型(calibrated_model.onnx)解读</strong></p><p class="my-4 leading-7">校准模型是模型转换工具链将浮点模型经过结构优化后，通过校准数据计算得到的每个节点对应的量化参数并将其保存在校准节点中得到的中间产物。校准模型的主要特点是模型中包含校准节点，校准节点的节点类型为HzCalibration。这些校准节点主要分为两类： <strong class="font-semibold">激活(activation)校准节点</strong> 和 <strong class="font-semibold">权重(weight)校准节点</strong> 。</p><p class="my-4 leading-7"><strong class="font-semibold">激活校准节点</strong> 的输入是当前节点的上一个节点的输出，并基于当前激活校准节点中保存的量化参数(scales和thresholds)对输入数据进行量化及反量化后输出。</p><p class="my-4 leading-7"><strong class="font-semibold">权重校准节点</strong> 的输入为模型的原始浮点权重，基于当前权重校准节点中保存的量化参数(scales和thresholds)对输入的原始浮点权重进行量化及反量化后输出。</p><p class="my-4 leading-7">除却上述的校准节点，校准模型中的其他节点，精度debug工具将其称为 <strong class="font-semibold">普通节点(node)</strong> 。 <strong class="font-semibold">普通节点</strong> 的类型包括：Conv、Mul、Add等。</p></div></div>
<p class="my-4 leading-7"><img alt="image" src="/static/image/debug_node.cfffabea.png"/></p>
<p class="my-4 leading-7">calibration_data的文件夹结构如下：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-text"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-text" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">|--calibration_data ：校准数据</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">|----input.1 ：文件夹名为模型的输入节点并保存对应的输入数据</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">|--------0.npy</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">|--------1.npy</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">|-------- ...</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">|----input.2 ：对于多输入模型将保存多个文件夹</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">|--------0.npy</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">|--------1.npy</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">|-------- ...</span></span>
<span class="line"><span style="color:var(--shiki-color-text)"></span></span></code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="精度debug模块导入与使用" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#精度debug模块导入与使用">#</a>精度debug模块导入与使用</h3>
<p class="my-4 leading-7">接下来需要在代码中导入debug模块，并通过 <code>get_sensitivity_of_nodes</code> 接口获取节点量化敏感度（默认使用模型输出的余弦相似度）。<code>get_sensitivity_of_nodes</code> 的详细参数说明可见 <a href="#get_sensitivity_of_nodes" class="link_3b154 ">get_sensitivity_of_nodes</a> 章节。</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入log日志模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> logging</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># 若verbose=True时，需要先设置log level为INFO</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">logging</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">getLogger</span><span style="color:var(--shiki-token-punctuation)">().</span><span style="color:var(--shiki-token-function)">setLevel</span><span style="color:var(--shiki-token-punctuation)">(logging.INFO)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># 获取节点量化敏感度</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">node_message </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">get_sensitivity_of_nodes</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        metrics</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;cosine-similarity&#x27;</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-string-expression)">&#x27;mse&#x27;</span><span style="color:var(--shiki-token-punctuation)">],</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibration_data/&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        output_node</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        node_type</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;node&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        data_num</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        verbose</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        interested_nodes</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="分析结果展示" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#分析结果展示">#</a>分析结果展示</h3>
<p class="my-4 leading-7">下方为 <code>verbose=True</code> 时的打印结果：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-text"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-text" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">=================node sensitivity=================</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">node                  cosine-similarity  mse</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">---------------------------------------------------</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_60               0.77795            68.02103</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_48               0.78428            64.36318</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_82               0.80394            61.09268</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_94               0.80499            65.05224</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_42               0.83787            49.4949</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_88               0.84614            49.81132</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_54               0.86602            41.69972</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_71               0.87148            39.96296</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_65               0.87495            40.45997</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_25               0.89214            34.30351</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_20               0.89829            32.35053</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_77               0.89916            31.9907</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_14               0.90058            32.40179</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_9                0.90107            34.08191</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_37               0.91162            28.21194</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_31               0.91637            28.79291</span></span>
<span class="line"><span style="color:var(--shiki-color-text)"></span></span></code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">除此之外，该API会以字典(Dict)的形式将节点量化敏感度信息返回给您以供后续使用分析。</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-text"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-text" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Out:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">{&#x27;Conv_60&#x27;: {&#x27;cosine-similarity&#x27;: 0.77795, &#x27;mse&#x27;: 68.02103},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_48&#x27;: {&#x27;cosine-similarity&#x27;: 0.78428, &#x27;mse&#x27;: 64.36318},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_82&#x27;: {&#x27;cosine-similarity&#x27;: 0.80394, &#x27;mse&#x27;: 61.09268},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_94&#x27;: {&#x27;cosine-similarity&#x27;: 0.80499, &#x27;mse&#x27;: 65.05224},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_42&#x27;: {&#x27;cosine-similarity&#x27;: 0.83787, &#x27;mse&#x27;: 49.4949},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_88&#x27;: {&#x27;cosine-similarity&#x27;: 0.84614, &#x27;mse&#x27;: 49.81132},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_54&#x27;: {&#x27;cosine-similarity&#x27;: 0.86602, &#x27;mse&#x27;: 41.69972},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_71&#x27;: {&#x27;cosine-similarity&#x27;: 0.87148, &#x27;mse&#x27;: 39.96296},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_65&#x27;: {&#x27;cosine-similarity&#x27;: 0.87495, &#x27;mse&#x27;: 40.45997},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_25&#x27;: {&#x27;cosine-similarity&#x27;: 0.89214, &#x27;mse&#x27;: 34.30351},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_20&#x27;: {&#x27;cosine-similarity&#x27;: 0.89829, &#x27;mse&#x27;: 32.35053},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_77&#x27;: {&#x27;cosine-similarity&#x27;: 0.89916, &#x27;mse&#x27;: 31.9907},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_14&#x27;: {&#x27;cosine-similarity&#x27;: 0.90058, &#x27;mse&#x27;: 32.40179},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_9&#x27;: {&#x27;cosine-similarity&#x27;: 0.90107, &#x27;mse&#x27;: 34.08191},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_37&#x27;: {&#x27;cosine-similarity&#x27;: 0.91162, &#x27;mse&#x27;: 28.21194},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_31&#x27;: {&#x27;cosine-similarity&#x27;: 0.91637, &#x27;mse&#x27;: 28.79291}}</span></span>
<span class="line"><span style="color:var(--shiki-color-text)"></span></span></code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">更多功能详见 <a href="#debug_api" class="link_3b154 ">功能说明文档</a> 章节。</p>
<p class="my-4 leading-7">为了方便您使用，精度debug工具还支持通过命令行进行使用，可通过 <code>hmct-debugger -h/--help</code> 查看每个功能对应的子命令。各个子命令的详细参数和用法详见 <a href="#debug_api" class="link_3b154 ">功能说明文档</a> 章节。</p>
<h2 id="debug_api" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#debug_api">#</a>功能说明文档</h2>
<h3 id="get_sensitivity_of_nodes" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#get_sensitivity_of_nodes">#</a>get_sensitivity_of_nodes</h3>
<p class="my-4 leading-7"><strong class="font-semibold">功能</strong>：获取节点量化敏感度。</p>
<p class="my-4 leading-7"><strong class="font-semibold">命令行格式</strong>：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger get</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">sensitivity</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">of</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">nodes MODEL_OR_FILE CALIBRATION_DATA --other options</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">可通过 <code>hmct-debugger get-sensitivity-of-nodes -h/--help</code> 查看相关参数。</p>
<p class="my-4 leading-7"><strong class="font-semibold">参数组</strong>：</p>
<table class="block border-collapse text-base my-5 overflow-x-auto leading-7 border-gray-light-3 dark:border-divider"><thead><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数名称</strong></th><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">命令行参数缩写</strong></th><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数配置说明</strong></th><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">可选/必选</strong></th></tr></thead><tbody><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>model_or_file</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">固定参数</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：指定校准模型。<br/> <strong class="font-semibold">取值范围</strong>：无。<br/> <strong class="font-semibold">默认配置</strong>：无。<br/> <strong class="font-semibold">参数说明</strong>：必选，指定需要分析的校准模型。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">必选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>metrics</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-m</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：节点量化敏感度的度量方式。<br/> <strong class="font-semibold">取值范围</strong>： <code>&#x27;cosine-similarity&#x27;</code> ,  <code>&#x27;mse&#x27;</code> , <code>&#x27;mre&#x27;</code> , <code>&#x27;sqnr&#x27;</code> , <code>&#x27;chebyshev&#x27;</code> 。<br/> <strong class="font-semibold">默认配置</strong>： <code>&#x27;cosine-similarity&#x27;</code>。<br/> <strong class="font-semibold">参数说明</strong>：指定节点量化敏感度的计算方式，该参数可以为列表(List)，即以多种方式计算量化敏感度，但是输出结果仅以列表中第一位的计算方式进行排序，排名越靠前说明量化该节点引入的误差越大。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">必选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>calibrated_data</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">固定参数</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：指定校准数据。<br/>  <strong class="font-semibold">取值范围</strong>：无。<br/> <strong class="font-semibold">默认配置</strong>：无。<br/><strong class="font-semibold">参数说明</strong>：必选，指定分析所需要的校准数据。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">必选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>output_node</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-o</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：指定输出节点。 <br/>  <strong class="font-semibold">取值范围</strong>：校准模型中的具有对应校准节点的普通节点。<br/>  <strong class="font-semibold">默认配置</strong>：None。<br/> <strong class="font-semibold">参数说明：此参数支持您指定中间节点作为输出并计算节点量化敏感度。若保持默认参数，则精度debug工具会获取模型的最终输出并在此基础上计算节点的量化敏感度。</strong></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">可选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>node_type</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-n</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：节点类型。 <br/> <strong class="font-semibold">取值范围</strong>： <code>&#x27;node&#x27;</code> , <code>&#x27;weight&#x27;</code> ,<code>&#x27;activation&#x27;</code>。<br/> <strong class="font-semibold">默认配置</strong>： <code>&#x27;node&#x27;</code>。<br/> <strong class="font-semibold">参数说明</strong>：需要计算量化敏感度的节点类型，包括：node（普通节点）、weight（权重校准节点）、activation（激活校准节点）。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">可选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>data_num</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-d</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：计算量化敏感度需要的数据数量。<br/> <strong class="font-semibold">取值范围</strong>：大于0，小于等于calibration_data中数据的总数。<br/> <strong class="font-semibold">默认配置</strong>：1 <br/> <strong class="font-semibold">参数说明</strong>：设置计算节点量化敏感度时所需要的数据数量。默认为1，此时使用calibration_data中的第一组数据进行计算。最小设置为1，最大为calibration_data中的数据数量。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">可选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>verbose</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-v</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：选择是否将信息打印在终端上。<br/> <strong class="font-semibold">取值范围</strong>： <code>True</code> 、 <code>False</code>。<br/> <strong class="font-semibold">默认配置</strong>： <code>False</code>。 <br/> <strong class="font-semibold">参数说明</strong>：若为True，则将量化敏感度信息打印在终端上。若metrics包含多种度量方式，则按照第一位进行排序。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">可选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>interested_nodes</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-i</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：设置感兴趣节点。<br/> <strong class="font-semibold">取值范围</strong>：校准模型中的所有节点。 <br/> <strong class="font-semibold">默认配置</strong>：None。<br/> <strong class="font-semibold">参数说明</strong>：若指定则只获取该节点的量化敏感度，其余节点不获取。同时，若该参数被指定，将忽视node_type指定的节点类型，也就是说该参数的优先级要高于node_type。若保持默认参数None，则计算模型中所有可被量化节点的量化敏感度。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">可选</td></tr></tbody></table>
<p class="my-4 leading-7">API使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入log日志模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> logging</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># 若verbose=True时，需要先设置log level为INFO</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">logging</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">getLogger</span><span style="color:var(--shiki-token-punctuation)">().</span><span style="color:var(--shiki-token-function)">setLevel</span><span style="color:var(--shiki-token-punctuation)">(logging.INFO)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># 获取节点量化敏感度</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">node_message </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">get_sensitivity_of_nodes</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        metrics</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;cosine-similarity&#x27;</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-string-expression)">&#x27;mse&#x27;</span><span style="color:var(--shiki-token-punctuation)">],</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibration_data/&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        output_node</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        node_type</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;node&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        data_num</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        verbose</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        interested_nodes</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">命令行使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger get</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">sensitivity</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">of</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">nodes calibrated_model</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">onnx calibration_data </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">m </span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;cosine-similarity&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-string-expression)">&#x27;mse&#x27;</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">v </span><span style="color:var(--shiki-token-constant)">True</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">分析结果展示</strong>：</p>
<p class="my-4 leading-7"><strong class="font-semibold">描述</strong>：首先您通过node_type设置需要计算敏感度的节点类型，然后工具获取校准模型中所有符合node_type的节点，并获取这些节点的量化敏感度。当verbose设置为True时，工具会将节点量化敏感度进行排序后打印在终端，排序越靠前，说明该节点量化引入的量化误差越大。同时对于不同的node_type，工具会显示不同的节点量化敏感度信息。</p>
<p class="my-4 leading-7">verbose=True且node_type=&#x27;node&#x27;时，打印结果如下：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-text"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-text" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">=================node sensitivity=================</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">node                  cosine-similarity  mse</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">---------------------------------------------------</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_60               0.77795            68.02103</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_48               0.78428            64.36318</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_82               0.80394            61.09268</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_94               0.80499            65.05224</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_42               0.83787            49.4949</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_88               0.84614            49.81132</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_54               0.86602            41.69972</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_71               0.87148            39.96296</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_65               0.87495            40.45997</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_25               0.89214            34.30351</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_20               0.89829            32.35053</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_77               0.89916            31.9907</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_14               0.90058            32.40179</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_9                0.90107            34.08191</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_37               0.91162            28.21194</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">Conv_31               0.91637            28.79291</span></span>
<span class="line"><span style="color:var(--shiki-color-text)"></span></span></code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">其中：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">node：节点名。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">cosine-similarity、mse：各个节点的量化敏感度数值。</p>
</li>
</ul>
<p class="my-4 leading-7">verbose=True且node_type=&#x27;weight&#x27;时，打印结果如下：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-text"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-text" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">====================================node sensitivity====================================</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">weight                                              node     cosine-similarity  mse</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">-----------------------------------------------------------------------------------------</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">471_HzCalibration                                   Conv_2   0.99978            0.07519</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">480_HzCalibration                                   Conv_7   0.99986            0.04823</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">609_HzCalibration                                   Conv_88  0.99997            0.01145</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">573_HzCalibration                                   Conv_65  0.99997            0.00984</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">474_HzCalibration                                   Conv_4   0.99997            0.00963</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">468_HzCalibration                                   Conv_0   0.99997            0.0091</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">612_HzCalibration                                   Conv_90  0.99997            0.00871</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">585_HzCalibration                                   Conv_73  0.99997            0.0095</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">483_HzCalibration                                   Conv_9   0.99998            0.00818</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">600_HzCalibration                                   Conv_82  0.99998            0.00717</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">582_HzCalibration                                   Conv_71  0.99998            0.00659</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">603_HzCalibration                                   Conv_84  0.99998            0.00614</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">591_HzCalibration                                   Conv_77  0.99998            0.00558</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">489_HzCalibration                                   Conv_12  0.99998            0.00515</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">564_HzCalibration                                   Conv_60  0.99999            0.00495</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">618_HzCalibration                                   Conv_94  0.99999            0.00498</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">543_HzCalibration                                   Conv_46  0.99999            0.00502</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">552_HzCalibration                                   Conv_52  0.99999            0.00501</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">594_HzCalibration                                   Conv_78  0.99999            0.00451</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">555_HzCalibration                                   Conv_54  0.99999            0.00452</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">...99classifier.1.weight_conv_weight_HzCalibration  Gemm_99  0.99999            0.00359</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">558_HzCalibration                                   Conv_56  0.99999            0.00369</span></span>
<span class="line"><span style="color:var(--shiki-color-text)"></span></span></code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">其中：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">weight：权重校准节点名。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">node：权重校准节点对应的普通节点名，即权重校准节点的输出为其输入。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">cosine-similarity、mse：各个节点的量化敏感度数值。</p>
</li>
</ul>
<p class="my-4 leading-7">verbose=True且node_type=&#x27;activation&#x27;时，打印结果如下：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-text"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-text" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">===================================node sensitivity===================================</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">activation          node                  threshold  bit  cosine-similarity  mse</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">---------------------------------------------------------------------------------------</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">406_HzCalibration   Conv_60               0.91501    8    0.77851            67.82422</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">388_HzCalibration   Conv_48               0.55422    8    0.78501            64.16379</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">440_HzCalibration   Conv_82               2.01577    8    0.8041             61.0322</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">458_HzCalibration   Conv_94               0.51507    8    0.80466            65.14515</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">379_HzCalibration   Conv_42               0.53759    8    0.83837            49.35648</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">449_HzCalibration   Conv_88               2.34071    8    0.84447            50.29965</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">397_HzCalibration   Conv_54               0.81528    8    0.86499            41.99234</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">423_HzCalibration   Conv_71               0.84753    8    0.87104            40.09385</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">414_HzCalibration   Conv_65               0.80155    8    0.87443            40.63319</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">353_HzCalibration   Conv_25               0.67858    8    0.89199            34.34844</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">345_HzCalibration   Conv_20               1.06324    8    0.8984             32.31664</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">432_HzCalibration   Conv_77               2.54515    16   0.89895            32.0417</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">336_HzCalibration   Conv_14               1.01407    8    0.90091            32.30325</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">328_HzCalibration   Conv_9                1.61622    8    0.90163            33.78012</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">371_HzCalibration   Conv_37               0.91038    8    0.91277            27.84864</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">362_HzCalibration   Conv_31               0.65606    8    0.91683            28.65791</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">403_HzCalibration   Conv_58               0.95119    8    0.93365            21.32314</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">391_HzCalibration   Conv_50;Add_55        2.92598    8    0.93984            19.72109</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">382_HzCalibration   Conv_44;Add_49        2.75416    8    0.95122            17.74137</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">417_HzCalibration   Conv_67;Add_72        2.85463    8    0.95139            15.81864</span></span>
<span class="line"><span style="color:var(--shiki-color-text)"></span></span></code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">其中：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">activation：激活校准节点名。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">node：在模型结构中在激活校准节点后的普通节点，即激活校准节点的输出为其输入。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">threshold：校准阈值，若有多个阈值则取最大值。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">bit：量化比特。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">cosine-similarity、mse：各个节点的量化敏感度数值。</p>
</li>
</ul>
<p class="my-4 leading-7">API返回值：</p>
<p class="my-4 leading-7">API返回值为以字典格式（Key为节点名称，Value为节点的量化敏感度信息）保存的量化敏感度，格式如下：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-text"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-text" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Out: </span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">{&#x27;Conv_60&#x27;: {&#x27;cosine-similarity&#x27;: 0.77795, &#x27;mse&#x27;: 68.02103},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_48&#x27;: {&#x27;cosine-similarity&#x27;: 0.78428, &#x27;mse&#x27;: 64.36318},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_82&#x27;: {&#x27;cosine-similarity&#x27;: 0.80394, &#x27;mse&#x27;: 61.09268},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_94&#x27;: {&#x27;cosine-similarity&#x27;: 0.80499, &#x27;mse&#x27;: 65.05224},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_42&#x27;: {&#x27;cosine-similarity&#x27;: 0.83787, &#x27;mse&#x27;: 49.4949},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_88&#x27;: {&#x27;cosine-similarity&#x27;: 0.84614, &#x27;mse&#x27;: 49.81132},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_54&#x27;: {&#x27;cosine-similarity&#x27;: 0.86602, &#x27;mse&#x27;: 41.69972},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_71&#x27;: {&#x27;cosine-similarity&#x27;: 0.87148, &#x27;mse&#x27;: 39.96296},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_65&#x27;: {&#x27;cosine-similarity&#x27;: 0.87495, &#x27;mse&#x27;: 40.45997},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_25&#x27;: {&#x27;cosine-similarity&#x27;: 0.89214, &#x27;mse&#x27;: 34.30351},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_20&#x27;: {&#x27;cosine-similarity&#x27;: 0.89829, &#x27;mse&#x27;: 32.35053},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_77&#x27;: {&#x27;cosine-similarity&#x27;: 0.89916, &#x27;mse&#x27;: 31.9907},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_14&#x27;: {&#x27;cosine-similarity&#x27;: 0.90058, &#x27;mse&#x27;: 32.40179},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_9&#x27;: {&#x27;cosine-similarity&#x27;: 0.90107, &#x27;mse&#x27;: 34.08191},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_37&#x27;: {&#x27;cosine-similarity&#x27;: 0.91162, &#x27;mse&#x27;: 28.21194},</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)"> &#x27;Conv_31&#x27;: {&#x27;cosine-similarity&#x27;: 0.91637, &#x27;mse&#x27;: 28.79291}}</span></span>
<span class="line"><span style="color:var(--shiki-color-text)"></span></span></code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="plot_acc_error" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#plot_acc_error">#</a>plot_acc_error</h3>
<p class="my-4 leading-7"><strong class="font-semibold">功能</strong>：只量化浮点模型中的某一个节点，并依次计算该模型与浮点模型中节点输出的误差，获得累积误差曲线。</p>
<p class="my-4 leading-7"><strong class="font-semibold">命令行格式</strong>:</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger plot</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">acc</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">error MODEL_OR_FILE CALIBRATION_DATA --other options</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">可通过 <code>hmct-debugger plot-acc-error -h/--help</code> 查看相关参数。</p>
<p class="my-4 leading-7"><strong class="font-semibold">参数组</strong>：</p>
<table><colgroup><col style="width:10%"/><col style="width:15%"/><col style="width:64%"/><col style="width:11%"/></colgroup><thead><tr><td><b>参数名称</b></td><td><b>命令行参数缩写</b></td><td><b>参数配置说明</b></td><td><b>可选/必选</b></td></tr></thead><tbody><tr><td><code>save_dir</code></td><td><code>-s</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：保存路径。 <br/>
<b>取值范围</b>：无。 <br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：可选，指定分析结果的保存路径。</p></td><td>可选</td></tr><tr><td><code>calibrated_data</code></td><td>固定参数</td><td><p class="my-4 leading-7"><b>参数作用</b>：指定校准数据。 <br/>
<b>取值范围</b>：无。 <br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：必选，指定需要分析的校准数据。</p></td><td>必选</td></tr><tr><td><code>model_or_file</code></td><td>固定参数</td><td><p class="my-4 leading-7"><b>参数作用</b>：指定校准模型。 <br/>
<b>取值范围</b>：无。 <br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：必选，指定需要分析的校准模型。</p></td><td>必选</td></tr><tr><td><code>quantize_node</code></td><td><code>-q</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：只量化模型中指定的节点，查看误差累积曲线。 <br/>
<b>取值范围</b>：校准模型中的所有节点。 <br/>
<b>默认配置</b>：None。<br/>
<b>参数说明</b>：可选参数。指定模型中需要量化的节点，同时保证其余节点均不量化。通过判断该参数是否为嵌套列表进而决定是单节点量化还是部分量化。<br/> 例如：
<ul class="list-disc pl-5 my-4 leading-7"><li>quantize_node=[&#x27;Conv_2&#x27;,&#x27;Conv_9&#x27;]：分别只量化Conv_2和Conv_9，同时保证其余节点不量化。</li>
<li>quantize_node=[[&#x27;Conv_2&#x27;],[&#x27;Conv_9&#x27;,&#x27;Conv_2&#x27;]]：只量化Conv_2以及同时量化Conv_2和Conv_9，分别测试模型累积误差。</li>
<li>quantize_node 包含两个特殊参数：&#x27;weight&#x27;和 &#x27;activation&#x27;。当：
<ul class="list-disc pl-5 my-4 leading-7"><li>quantize_node = [&#x27;weight&#x27;]：只量化权重，不量化激活。</li>
<li>quantize_node = [&#x27;activation&#x27;]：只量化激活，不量化权重。</li>
<li>quantize_node = [&#x27;weight&#x27;,&#x27;activation&#x27;]：权重和激活分别量化。</li></ul></li></ul>
注：quantize_node和non_quantize_node不可同时为None，必须指定其一。</p></td><td>可选</td></tr><tr><td><code>non_quantize_node</code></td><td><code>-nq</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：指定累积误差的类型。<br/>
<b>取值范围</b>：校准模型中的所有节点。 <br/>
<b>默认配置</b>：None。<br/>
<b>参数说明</b>：可选参数。指定模型中不量化的节点，同时保证其余节点全都量化。 通过判断该参数是否为嵌套列表进而决定是单节点不量化还是部分量化。<br/>
例如：<ul class="list-disc pl-5 my-4 leading-7"><li>non_quantize_node=[&#x27;Conv_2&#x27;,&#x27;Conv_9&#x27;]：分别解除Conv_2和Conv_9节点的量化，同时保证其余节点全部量化。</li>
<li>non_quantize_node=[[&#x27;Conv_2&#x27;],[&#x27;Conv_9&#x27;,&#x27;Conv_2&#x27;]]：只解除Conv_2量化以及同时解除Conv_2和Conv_9量化，分别测试模型累积误差。</li></ul>
注：quantize_node和non_quantize_node不可同时为None，必须指定其一。</p></td><td>可选</td></tr><tr><td><code>metric</code></td><td><code>-m</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：误差度量方式。 <br/>
<b>取值范围</b>：<code>&#x27;cosine-similarity&#x27;</code>，<code>&#x27;mse&#x27;</code>，<code>&#x27;mre&#x27;</code>，<code>&#x27;sqnr&#x27;</code>，<code>&#x27;chebyshev&#x27;</code>。<br/>
<b>默认配置</b>：<code>&#x27;cosine-similarity&#x27;</code>。<br/>
<b>参数说明</b>：设置计算模型误差的计算方式。</p></td><td>可选</td></tr><tr><td><code>average_mode</code></td><td><code>-a</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：指定累积误差曲线的输出模式。<br/>
<b>取值范围</b>：<code>True </code>、<code>False</code>。 <br/>
<b>默认配置</b>：<code>False</code>。<br/>
<b>参数说明</b>：默认为False。若为True，那么获取累积误差的平均值作为结果。</p></td><td>可选</td></tr></tbody></table>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">plot_acc_error</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        save_dir: </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data: </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-token-punctuation)"> CalibrationDataSet,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file: ModelProto </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        quantize_node: List </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        non_quantize_node: List </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        metric: str </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;cosine-similarity&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        average_mode: bool </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-constant)">False</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">分析结果展示</strong></p>
<p class="my-4 leading-7"><strong class="font-semibold">1.指定节点量化累积误差测试</strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">指定单节点量化</li>
</ul>
<p class="my-4 leading-7"><strong class="font-semibold">配置方式</strong>：quantize_node=[&#x27;Conv_2&#x27;,&#x27;Conv_90&#x27;]，quantize_node为单列表。</p>
<p class="my-4 leading-7">API使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">plot_acc_error</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        save_dir</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibration_data/&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        quantize_node</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_90&#x27;</span><span style="color:var(--shiki-token-punctuation)">],</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        metric</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;cosine-similarity&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        average_mode</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">False</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">命令行使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger plot</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">acc</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">error calibrated_model</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">onnx calibrated_data </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">q </span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_90&#x27;</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">描述</strong>：当quantize_node为单列表时，针对您设置的quantize_node，分别单独量化quantize_node中的节点并保持模型中其他节点不量化，得到对应的模型后，对该模型中每个节点的输出计算其与浮点模型中对应节点输出的之间的误差，并得到对应的累积误差曲线。</p>
<p class="my-4 leading-7">average_mode = False时：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/average_mode_false_1.b0c6638a.png"/></p>
<p class="my-4 leading-7">average_mode = True时：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/average_mode_true_1.8fe59675.png"/></p>
<div class="rspress-directive info"><div class="rspress-directive-title">注解</div><div class="rspress-directive-content"><p class="my-4 leading-7"><strong class="font-semibold">average_mode</strong></p><p class="my-4 leading-7">average_mode默认为False。对于一些模型，此时无法通过累积误差曲线判断哪种量化策略更加有效，因此需要将average_mode设置为True，此时会对前n个节点的累积误差求均值作为第n个节点的累积误差。</p><p class="my-4 leading-7">具体计算方式如下，例如：</p><p class="my-4 leading-7">average_mode=False时，accumulate_error=[1.0, 0.9, 0.9, 0.8]。</p><p class="my-4 leading-7">而将average_mode=True后，accumulate_error=[1.0, 0.95, 0.933, 0.9]。</p></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">指定多个节点量化</li>
</ul>
<p class="my-4 leading-7"><strong class="font-semibold">配置方式</strong>：quantize_node=[[&#x27;Conv_2&#x27;], [&#x27;Conv_2&#x27;,&#x27;Conv_90&#x27;]]，quantize_node为嵌套列表</p>
<p class="my-4 leading-7">API使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">plot_acc_error</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        save_dir</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibration_data/&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        quantize_node</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[[</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">], [</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_90&#x27;</span><span style="color:var(--shiki-token-punctuation)">]],</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        metric</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;cosine-similarity&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        average_mode</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">False</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">命令行使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger plot</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">acc</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">error calibrated_model</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">onnx calibration_data </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">q </span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-color-text)">]</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_90&#x27;</span><span style="color:var(--shiki-color-text)">]</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">描述</strong>：当quantize_node为嵌套列表时，针对您设置的quantize_node，分别量化quantize_node中的每个单列表指定的节点并保持模型中其他节点不量化，得到对应的模型后，对该模型中每个节点的输出计算其与浮点模型中对应节点输出的之间的误差，并得到对应的累积误差曲线。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">partial_qmodel_0：只量化Conv_2节点，其余节点不量化；</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">partial_qmodel_1：只量化Conv_2和Conv_90节点，其余节点不量化。</p>
</li>
</ul>
<p class="my-4 leading-7">average_mode=False时：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/new_average_mode_false_1.3ac6a9cf.png"/></p>
<p class="my-4 leading-7">average_mode=True时：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/new_average_mode_true_1.21c29d86.png"/></p>
<p class="my-4 leading-7"><strong class="font-semibold">2.解除模型部分节点量化后累积误差测试</strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">指定单节点不量化</li>
</ul>
<p class="my-4 leading-7"><strong class="font-semibold">配置方式</strong>：non_quantize_node=[&#x27;Conv_2&#x27;,&#x27;Conv_90&#x27;]，non_quantize_node为单列表。</p>
<p class="my-4 leading-7">API使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">plot_acc_error</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        save_dir</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibration_data/&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        non_quantize_node</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_90&#x27;</span><span style="color:var(--shiki-token-punctuation)">],</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        metric</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;cosine-similarity&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        average_mode</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">命令行使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger plot</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">acc</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">error calibrated_model</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">onnx calibration_data </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">nq </span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_90&#x27;</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">a </span><span style="color:var(--shiki-token-constant)">True</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">描述</strong>：当non_quantize_node为单列表时，针对您设置的non_quantize_node，分别解除non_quantize_node中各个节点的量化同时保持其他节点全部量化，得到对应的模型后，对该模型中每个节点的输出计算其与浮点模型中对应节点输出的之间的误差，并得到对应的累积误差曲线。</p>
<p class="my-4 leading-7">average_mode = False时：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/average_mode_false_2.c22895de.png"/></p>
<p class="my-4 leading-7">average_mode = True时：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/average_mode_true_2.8f7f7342.png"/></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">指定多个节点不量化</li>
</ul>
<p class="my-4 leading-7"><strong class="font-semibold">配置方式</strong>：non_quantize_node=[[&#x27;Conv_2&#x27;], [&#x27;Conv_2&#x27;,&#x27;Conv_90&#x27;]]，non_quantize_node为嵌套列表。</p>
<p class="my-4 leading-7">API使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">plot_acc_error</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        save_dir</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibration_data/&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        non_quantize_node</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[[</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">], [</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_90&#x27;</span><span style="color:var(--shiki-token-punctuation)">]],</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        metric</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;cosine-similarity&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        average_mode</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">False</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">命令行使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger plot</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">acc</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">error calibrated_model</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">onnx calibration_data </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">nq </span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-color-text)">]</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_90&#x27;</span><span style="color:var(--shiki-color-text)">]</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">描述</strong>：当non_quantize_node为嵌套列表时，针对您设置的non_quantize_node，分别不量化non_quantize_node中的每个单列表指定的节点并保持模型中其他节点均量化，得到对应的模型后，对该模型中每个节点的输出计算其与浮点模型中对应节点输出的之间的误差，并得到对应的累积误差曲线。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">partial_qmodel_0：不量化Conv_2节点，其余节点量化；</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">partial_qmodel_1：不量化Conv_2和Conv_90节点，其余节点量化。</p>
</li>
</ul>
<p class="my-4 leading-7">average_mode = False时：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/new_average_mode_false_2.f5620ac4.png"/></p>
<p class="my-4 leading-7">average_mode = True时：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/new_average_mode_true_2.d4be239b.png"/></p>
<p class="my-4 leading-7"><strong class="font-semibold">测试技巧</strong>：</p>
<p class="my-4 leading-7">测试部分量化精度时，您可能会按照量化敏感度排序进行多组量化策略的精度对比，此时可以参考以下用法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># 首先使用量化敏感度排序函数获取模型中节点的量化敏感度排序</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">node_message </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">get_sensitivity_of_nodes</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        metrics</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;cosine-similarity&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibration_data/&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        output_node</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        node_type</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;node&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        verbose</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">False</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        interested_nodes</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># node_message为字典类型，其key值为节点名称</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">nodes </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">list</span><span style="color:var(--shiki-token-punctuation)">(node_message.</span><span style="color:var(--shiki-token-function)">keys</span><span style="color:var(--shiki-token-punctuation)">())</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># 通过nodes来指定不量化节点，可以方便使用</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">plot_acc_error</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        save_dir</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibration_data/&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        non_quantize_node</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[nodes[:</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">],nodes[:</span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-token-punctuation)">]],</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        metric</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;cosine-similarity&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        average_mode</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">3.激活权重分别量化</strong></p>
<p class="my-4 leading-7"><strong class="font-semibold">配置方式</strong>：quantize_node=[&#x27;weight&#x27;,&#x27;activation&#x27;]。</p>
<p class="my-4 leading-7">API使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">plot_acc_error</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        save_dir</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibration_data/&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        quantize_node</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;weight&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-string-expression)">&#x27;activation&#x27;</span><span style="color:var(--shiki-token-punctuation)">],</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        metric</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;cosine-similarity&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        average_mode</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">False</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">命令行使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger plot</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">acc</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">error calibrated_model</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">onnx calibration_data </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">q </span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;weight&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-string-expression)">&#x27;activation&#x27;</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">描述</strong>：quantize_node也可直接指定&#x27;weight&#x27;或者&#x27;activation&#x27;。当：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">quantize_node = [&#x27;weight&#x27;]：只量化权重，不量化激活。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">quantize_node = [&#x27;activation&#x27;]：只量化激活，不量化权重。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">quantize_node = [&#x27;weight&#x27;, &#x27;activation&#x27;]：权重和激活分别量化。</p>
</li>
</ul>
<p class="my-4 leading-7"><img alt="image" src="/static/image/weight_activation_quantized.cc7ea431.png"/></p>
<div class="rspress-directive info"><div class="rspress-directive-title">注解</div><div class="rspress-directive-content"><p class="my-4 leading-7">通常情况下，建议您对累积误差曲线图中靠近模型输出位置的曲线部分多加关注。当采用某种量化方法后测试得到的累计误差曲线靠近模型输出位置的累积误差较小，即相似度较高时，我们建议您优先测试此种量化方法。</p></div></div>
<h3 id="plot_distribution" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#plot_distribution">#</a>plot_distribution</h3>
<p class="my-4 leading-7"><strong class="font-semibold">功能</strong>：选取节点，分别获取该节点在浮点模型和校准模型中的输出，得到输出数据分布。另外，将两个输出结果做差，获取两个输出之间的误差分布。</p>
<p class="my-4 leading-7"><strong class="font-semibold">命令行格式</strong>：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger plot</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">distribution MODEL_OR_FILE CALIBRATION_DATA --other options</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">可通过 <code>hmct-debugger plot-distribution -h/--help</code> 查看相关参数。</p>
<p class="my-4 leading-7"><strong class="font-semibold">参数组</strong>：</p>
<table><colgroup><col style="width:10%"/><col style="width:15%"/><col style="width:64%"/><col style="width:11%"/></colgroup><thead><tr><td><b>参数名称</b></td><td><b>命令行参数缩写</b></td><td><b>参数配置说明</b></td><td><b>可选/必选</b></td></tr></thead><tbody><tr><td><code>save_dir</code></td><td><code>-s</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：保存路径。 <br/>
<b>取值范围</b>：无。 <br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：可选，指定分析结果的保存路径。</p></td><td>可选</td></tr><tr><td><code>model_or_file</code></td><td>固定参数</td><td><p class="my-4 leading-7"><b>参数作用</b>：指定校准模型。<br/>
<b>取值范围</b>：无。<br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：必选，指定需要分析的校准模型。</p></td><td>必选</td></tr><tr><td><code>calibrated_data</code></td><td>固定参数</td><td><p class="my-4 leading-7"><b>参数作用</b>：指定校准数据。<br/>
<b>取值范围</b>：无。<br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：必选，指定需要分析的校准数据。</p></td><td>必选</td></tr><tr><td><code>nodes_list</code></td><td><code>-n</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：指定需要分析的节点。<br/>
<b>取值范围</b>：校准模型中的所有节点。<br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：必选，指定需要分析的节点。若nodes_list中的节点类型为：
<ul class="list-disc pl-5 my-4 leading-7"><li>权重校准节点：绘制原始权重和经过校准之后的权重的数据分布。</li>
<li>激活校准节点：绘制激活校准节点的输入数据分布。</li>
<li>普通节点：绘制该节点在量化前后的输出数据分布，同时绘制二者之间的误差分布。</li></ul>
注：nodes_list为 list 类型，可指定一系列节点，并且上述三种类型节点 可同时指定。</p></td><td>必选</td></tr></tbody></table>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">plot_distribution</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        save_dir: </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">, </span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file: ModelProto </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data: </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-token-punctuation)"> CalibrationDataSet,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        nodes_list: List[</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">] </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">)</span><span style="color:var(--shiki-color-text)"> </span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">分析结果展示</strong>：</p>
<p class="my-4 leading-7">API使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">plot_distribution</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        save_dir</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;./calibration_data&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        nodes_list</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;317_HzCalibration&#x27;</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-comment)"># 激活节点</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">                    </span><span style="color:var(--shiki-token-string-expression)">&#x27;471_HzCalibration&#x27;</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-comment)"># 权重节点</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">                    </span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">])</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-comment)"># 普通节点</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">命令行使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger plot</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">distribution calibrated_model</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">onnx calibration_data </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">n </span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&#x27;317_HzCalibration&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-string-expression)">&#x27;471_HzCalibration&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-string-expression)">&#x27;Conv_2&#x27;</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">node_output：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/node_output.69c59139.png"/></p>
<p class="my-4 leading-7">weight：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/weight.adea0f1c.png"/></p>
<p class="my-4 leading-7">activation：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/activation.abd0273e.png"/></p>
<div class="rspress-directive info"><div class="rspress-directive-title">注解</div><div class="rspress-directive-content"><p class="my-4 leading-7">上方三幅图中，蓝色三角表示：数据绝对值的最大值。红色虚线表示：最大的校准阈值。</p></div></div>
<h3 id="get_channelwise_data_distribution" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#get_channelwise_data_distribution">#</a>get_channelwise_data_distribution</h3>
<p class="my-4 leading-7"><strong class="font-semibold">功能</strong>：绘制指定校准节点输入数据通道间数据分布的箱线图。</p>
<p class="my-4 leading-7"><strong class="font-semibold">命令行格式</strong>：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger get</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">channelwise</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">data</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">distribution MODEL_OR_FILE CALIBRATION_DATA --other options</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">可通过 <code>hmct-debugger get-channelwise-data-distribution -h/--help</code> 查看相关参数。</p>
<p class="my-4 leading-7"><strong class="font-semibold">参数组</strong>：</p>
<table class="block border-collapse text-base my-5 overflow-x-auto leading-7 border-gray-light-3 dark:border-divider"><thead><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数名称</strong></th><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">命令行参数缩写</strong></th><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数配置说明</strong></th><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">可选/必选</strong></th></tr></thead><tbody><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>save_dir</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-s</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：保存路径。<br/> <strong class="font-semibold">取值范围</strong>：无。<br/> <strong class="font-semibold">默认配置</strong>：无。<br/> <strong class="font-semibold">参数说明</strong>：可选，指定分析结果的保存路径。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">可选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>model_or_file</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">固定参数</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：指定校准模型。<br/> <strong class="font-semibold">取值范围</strong>：无。<br/> <strong class="font-semibold">默认配置</strong>：无。<br/> <strong class="font-semibold">参数说明</strong>：必选，指定分析所需要的校准模型。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">必选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>calibrated_data</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">固定参数</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：指定校准数据。<br/> <strong class="font-semibold">取值范围</strong>：无。<br/> <strong class="font-semibold">默认配置</strong>：无。<br/> <strong class="font-semibold">参数说明</strong>：必选，指定分析所需要的校准数据。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">必选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>nodes_list</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-n</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：指定校准节点。<br/> <strong class="font-semibold">取值范围</strong>：校准模型中的所有权重校准节点和激活校准节点。<br/> <strong class="font-semibold">默认配置</strong>：无。<br/> <strong class="font-semibold">参数说明</strong>：必选，指定校准节点。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">必选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>axis</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-n</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：指定channel所在的维度。 <br/> <strong class="font-semibold">取值范围</strong>：小于节点输入数据的维度。<br/>  <strong class="font-semibold">默认配置</strong>：None。<br/> <strong class="font-semibold">参数说明</strong>：channel信息所在shape中的位置。参数默认为None，此时对于激活校准节点，默认认为节点输入数据的第二个维度表示channel信息，即axis=1；对于权重校准节点，会读取该节点属性中的axis参数作为channel信息。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">可选</td></tr></tbody></table>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">get_channelwise_data_distribution</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        save_dir: </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">, </span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        model_or_file: ModelProto </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        calibrated_data: </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-token-punctuation)"> CalibrationDataSet,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        nodes_list: List[</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">],</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        axis: int </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">分析结果展示</strong>：</p>
<p class="my-4 leading-7"><strong class="font-semibold">描述</strong>：针对您设置的校准节点列表node_list，从参数axis中获取channel所在的维度，获取节点输入数据通道间的数据分布。
其中axis默认为None，此时若节点为权重校准节点，则channel所在的维度默认为0；若节点为激活校准节点，则channel所在的维度默认为1。</p>
<p class="my-4 leading-7">权重校准节点：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/weight_calibration_node.c7af2fd5.png"/></p>
<p class="my-4 leading-7">激活校准节点：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/activate_calibration_node.608c4a65.png"/></p>
<p class="my-4 leading-7">输出结果如下图所示：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/box_plot.b4527979.png"/></p>
<p class="my-4 leading-7">图中：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">横坐标表示节点输入数据的通道数，图例中输入数据有96个通道。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">纵坐标表示每个channel的数据分布范围，其中红色实线表示该channel数据的中位数，蓝色虚线表示均值。每个箱子的上下限分别表示上四分位数和下四分位数，上下限之外的离散点表示异常值，通过观察这些异常值绝对值的最大值来判断当前节点输入数据是否出现较大波动的情况。</p>
</li>
</ul>
<p class="my-4 leading-7">关于如何通过观察箱线图判断节点是否存在量化风险，请参考PTQ精度debug示例: <a target="_blank" rel="noopener noreferrer" href="https://auto-developer.horizon.cc/developerForum?fullPath=/home/community/bbsdetail?bid=146176821770229921" class="link_03735  link_3b154 inline-link_3b154">MobileVit_s精度问题分析</a>。</p>
<h3 id="sensitivity_analysis" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#sensitivity_analysis">#</a>sensitivity_analysis</h3>
<p class="my-4 leading-7"><strong class="font-semibold">功能</strong>：针对量化敏感节点，分别分析测试单独量化以及部分量化这些节点后的模型精度。</p>
<p class="my-4 leading-7"><strong class="font-semibold">命令行格式</strong>：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger sensitivity</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">analysis MODEL_OR_FILE CALIBRATION_DATA --other options</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">可通过 <code>hmct-debugger sensitivity-analysis -h/--help</code> 查看相关参数。</p>
<p class="my-4 leading-7"><strong class="font-semibold">参数组</strong>：</p>
<table class="block border-collapse text-base my-5 overflow-x-auto leading-7 border-gray-light-3 dark:border-divider"><thead><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数名称</strong></th><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">命令行参数缩写</strong></th><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数配置说明</strong></th><th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider"><strong class="font-semibold">可选/必选</strong></th></tr></thead><tbody><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>model_or_file</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">固定参数</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：指定校准模型。<br/> <strong class="font-semibold">取值范围</strong>：无。<br/> <strong class="font-semibold">默认配置</strong>：无。<br/> <strong class="font-semibold">参数说明</strong>：必选，指定需要分析的校准模型。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">必选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>calibrated_data</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">固定参数</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：指定校准数据。<br/> <strong class="font-semibold">取值范围</strong>：无。<br/> <strong class="font-semibold">默认配置</strong>：无。<br/> <strong class="font-semibold">参数说明</strong>：必选，指定分析所需要的校准数据。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">必选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>pick_threshold</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-p</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：设置选取节点的敏感度阈值。<br/> <strong class="font-semibold">取值范围</strong>：无。<br/> <strong class="font-semibold">默认配置</strong>：0.999。<br/> <strong class="font-semibold">参数说明</strong>：可选，此功能计算普通节点的量化敏感度，选择敏感度小于 pick_threshold的节点作为敏感节点进行分析测试。<br/> 注：当设置sensitive_nodes时，则直接对sensitive_nodes进行测试，不再 另行计算节点敏感度并根据pick_threshold选择敏感节点。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">可选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>data_num</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-d</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：计算量化敏感度需要的数据数量。<br/> <strong class="font-semibold">取值范围</strong>：大于0，小于等于calibration_data中数据的总数。<br/> <strong class="font-semibold">默认配置</strong>：1。<br/> <strong class="font-semibold">参数说明</strong>：设置计算节点量化敏感度时所需要的数据数量。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">可选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>sensitive_nodes</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-sn</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：指定需要分析的敏感节点。 <br/> <strong class="font-semibold">取值范围</strong>：校准模型中的所有节点。<br/>  <strong class="font-semibold">默认配置</strong>：无。<br/> <strong class="font-semibold">参数说明</strong>：可选，指定需要分析的敏感节点。<br/> 注：当设置此参数时，则直接对此参数中的节点进行测试，不再另行计算 节点敏感度并根据pick_threshold选择敏感节点。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">可选</td></tr><tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider"><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>save_dir</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>-sd</code></td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><strong class="font-semibold">参数作用</strong>：保存路径。 <br/> <strong class="font-semibold">取值范围</strong>：无。<br/>  <strong class="font-semibold">默认配置</strong>：无。<br/> <strong class="font-semibold">参数说明</strong>：可选，指定分析结果的保存路径。</td><td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">可选</td></tr></tbody></table>
<p class="my-4 leading-7">API使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">sensitivity_analysis</span><span style="color:var(--shiki-token-punctuation)">(model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">                         calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;calibration_data&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">                         pick_threshold</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">0.9999</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">                         data_num</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">                         sensitive_nodes</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[])</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">命令行使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger sensitivity</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">analysis calibrated_model</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">onnx calibration_data</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">分析结果展示</strong>：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/partial_quantization.1ce09434.png"/></p>
<p class="my-4 leading-7">图中：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">蓝色虚线：baseline，即浮点模型输出与自身的余弦相似度，为1。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">绿色x：只量化当前节点得到部分量化模型，计算部分量化模型与浮点模型最终输出的相似度。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">红色实线：不量化当前节点以及当前节点前的所有节点，计算部分量化模型与浮点模型最终输出的相似度。例如：上图中Conv_92对应的相似度数值大概在0.995左右，表明解除Conv_2、Conv_7和Conv_92节点的量化并保持其余所有节点量化得到部分量化模型，该部分量化模型的最终输出与浮点模型的最终输出之间的余弦相似度为0.995左右。横坐标第一个none，在红色实线中的含义为calibrated_model。</p>
</li>
</ul>
<h3 id="runall" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#runall">#</a>runall</h3>
<p class="my-4 leading-7"><strong class="font-semibold">功能</strong>：一键运行原本debug工具中的所有功能。</p>
<p class="my-4 leading-7"><strong class="font-semibold">命令行格式</strong>：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger runall MODEL_OR_FILE CALIBRATION_DATA --other options</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">可通过 <code>hmct-debugger runall -h/--help</code> 查看相关参数。</p>
<p class="my-4 leading-7"><strong class="font-semibold">参数组</strong>：</p>
<table><colgroup><col style="width:10%"/><col style="width:12%"/><col style="width:66%"/><col style="width:12%"/></colgroup><thead><tr><td><b>参数名称</b></td><td><b>命令行参数缩写</b></td><td><b>参数配置说明</b></td><td><b>可选/必选</b></td></tr></thead><tbody><tr><td><code>model_or_file</code></td><td>固定参数</td><td><p class="my-4 leading-7"><b>参数作用</b>：指定校准模型。<br/>
<b>取值范围</b>：无。 <br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：必选，指定需要分析的校准模型。</p></td><td>必选</td></tr><tr><td><code>calibrated_data</code></td><td>固定参数</td><td><p class="my-4 leading-7"><b>参数作用</b>：指定校准数据。<br/>
<b>取值范围</b>：无。<br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：必选，指定需要分析的校准数据。</p></td><td>必选</td></tr><tr><td><code>save_dir</code></td><td><code>-s</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：保存路径。<br/>
<b>取值范围</b>：无。<br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：指定分析结果的保存路径。</p></td><td>可选</td></tr><tr><td><code>ns_metrics</code></td><td><code>-nm</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：节点量化敏感度的度量方式。<br/>
<b>取值范围</b>：<code>&#x27;cosine-similarity&#x27;</code>，<code>&#x27;mse&#x27;</code>，<code>&#x27;mre&#x27;</code>，<code>&#x27;sqnr&#x27;</code>，<code>&#x27;chebyshev&#x27;</code>。<br/>
<b>默认配置</b>：<code>&#x27;cosine-similarity&#x27;</code>。<br/>
<b>参数说明</b>：指定节点量化敏感度的计算方式，该参数可以为列表(List)， 即以多种方式计算量化敏感度， 但是输出结果仅以列表中第一位的计算方式进行排序， 排名越靠前说明量化该节点引入的误差越大。</p></td><td>可选</td></tr><tr><td><code>output_node</code></td><td><code>-o</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：指定输出节点。<br/>
<b>取值范围</b>：校准模型中的具有对应校准节点的普通节点。<br/>
<b>默认配置</b>：None。<br/>
<b>参数说明</b>：<b>此参数支持您指定中间节点作为输出并计算节点量化敏感度。 若保持默认参数None，则精度debug工具会获取模型的最终输出 并在此基础上计算节点的量化敏感度。</b></p></td><td>可选</td></tr><tr><td><code>node_type</code></td><td><code>-nt</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：节点类型。<br/>
<b>取值范围</b>：<code>&#x27;node&#x27;</code>，<code>&#x27;weight&#x27;</code>，<code>&#x27;activation&#x27;</code> 。<br/>
<b>默认配置</b>：<code>&#x27;node&#x27;</code>。<br/>
<b>参数说明</b>：需要计算量化敏感度的节点类型，包括：node（普通节点）、weight（权重校准节点）、activation（激活校准节点）。</p></td><td>可选</td></tr><tr><td><code>data_num</code></td><td><code>-dn</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：计算量化敏感度需要的数据数量。<br/>
<b>取值范围</b>：大于0，小于等于calibration_data中数据的总数。<br/>
<b>默认配置</b>：None。<br/>
<b>参数说明</b>：设置计算节点量化敏感度时所需要的数据数量。默认为None，此时默认使用calibration_data中的所有数据进行计算。最小设置为1，最大为 calibration_data 中的数据数量。</p></td><td>可选</td></tr><tr><td><code>verbose</code></td><td><code>-v</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：选择是否将信息打印在终端上。<br/>
<b>取值范围</b>：<code>True</code>、<code>False</code>。<br/>
<b>默认配置</b>：<code>False</code>。<br/>
<b>参数说明</b>：若为True，则将量化敏感度信息打印在终端上。 若metrics包含多种度量方式，则按照第一位进行排序。</p></td><td>可选</td></tr><tr><td><code>interested_nodes</code></td><td><code>-i</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：设置感兴趣节点。<br/>
<b>取值范围</b>：校准模型中的所有节点。<br/>
<b>默认配置</b>：None。<br/>
<b>参数说明</b>：若指定则只获取该节点的量化敏感度，其余节点不获取。同时，若该参数被指定，将忽视node_type指定的节点类型，也就是说该参数的优先级要高于node_type。若保持默认参数None，则计算模型中所有可被量化节点的量化敏感度。</p></td><td>可选</td></tr><tr><td><code>dis_nodes_list</code></td><td><code>-dnl</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：指定需要分析的节点。<br/>
<b>取值范围</b>：校准模型中的所有节点。<br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：指定需要分析的节点。若nodes_list中的节点类型为：
<ul class="list-disc pl-5 my-4 leading-7"><li>权重校准节点：绘制原始权重和经过校准之后的权重的数据分布。</li>
<li>激活校准节点：绘制激活校准节点的输入数据分布。</li>
<li>普通节点：绘制该节点在量化前后的输出数据分布，同时绘制二者之间的误差分布。</li></ul>
注：nodes_list为 list 类型，可指定一系列节点，并且上述三种类型节点 可同时指定。</p></td><td>可选</td></tr><tr><td><code>cw_nodes_list</code></td><td><code>-cn</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：指定校准节点。<br/>
<b>取值范围</b>：校准模型中的所有权重校准节点和激活校准节点。<br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：指定校准节点。</p></td><td>可选</td></tr><tr><td><code>axis</code></td><td><code>-a</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：指定channel所在的维度。<br/>
<b>取值范围</b>：小于节点输入数据的维度。<br/>
<b>默认配置</b>：None。<br/>
<b>参数说明</b>：channel信息所在shape中的位置。参数默认为None，此时对于激活校准节点，默认认为节点输入数据的第二个维度表示channel信息，即axis=1；对于权重校准节点，会读取该节点属性中的axis参数作为channel信息。</p></td><td>可选</td></tr><tr><td><code>quantize_node</code></td><td><code>-qn</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：只量化模型中指定的节点，查看误差累积曲线。<br/>
<b>取值范围</b>：校准模型中的所有节点。<br/>
<b>默认配置</b>：None。<br/>
<b>参数说明</b>：可选参数。指定模型中需要量化的节点，同时保证其余节点均不量化。 通过判断该参数是否为嵌套列表进而决定是单节点量化还是部分量化。<br/>
例如：<ul class="list-disc pl-5 my-4 leading-7"><li>quantize_node=[&#x27;Conv_2&#x27;,&#x27;Conv_9&#x27;]：分别只量化Conv_2和Conv_9， 同时保证其余节点不量化。</li>
<li>quantize_node=[[&#x27;Conv_2&#x27;],[&#x27;Conv_9&#x27;,&#x27;Conv_2&#x27;]]：只量化Conv_2以及 同时量化Conv_2和Conv_9，分别测试模型累积误差。</li>
<li>quantize_node 包含两个特殊参数：&#x27;weight&#x27; 和 &#x27;activation&#x27;。当：
<ul class="list-disc pl-5 my-4 leading-7"><li>quantize_node = [&#x27;weight&#x27;]：只量化权重，不量化激活。</li>
<li>quantize_node = [&#x27;activation&#x27;]：只量化激活，不量化权重。</li>
<li>quantize_node = [&#x27;weight&#x27;,&#x27;activation&#x27;]：权重和激活分别量化。</li></ul></li></ul>
注：quantize_node和non_quantize_node不可同时为None，必须指定其一。</p></td><td>可选</td></tr><tr><td><code>non_quantize_node</code></td><td><code>-nqn</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：指定累积误差的类型。<br/>
<b>取值范围</b>：校准模型中的所有节点。<br/>
<b>默认配置</b>：None。<br/>
<b>参数说明</b>：可选参数。指定模型中不量化的节点，同时保证其余节点全都量化。 通过判断该参数是否为嵌套列表进而决定是单节点不量化还是部分量化。<br/>
例如：<ul class="list-disc pl-5 my-4 leading-7"><li>non_quantize_node=[&#x27;Conv_2&#x27;,&#x27;Conv_9&#x27;]：分别解除Conv_2和Conv_9节点的量化，同时保证其余节点全部量化。</li>
<li>non_quantize_node=[[&#x27;Conv_2&#x27;],[&#x27;Conv_9&#x27;,&#x27;Conv_2&#x27;]]：只解除Conv_2量化 以及同时解除Conv_2和Conv_9量化，分别测试模型累积误差。</li></ul>
注：quantize_node和non_quantize_node不可同时为None，必须指定其一。</p></td><td>可选</td></tr><tr><td><code>ae_metric</code></td><td><code>-am</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：累积误差度量方式。<br/>
<b>取值范围</b>：<code>&#x27;cosine-similarity&#x27;</code>，<code>&#x27;mse&#x27;</code>，<code>&#x27;mre&#x27;</code>，<code>&#x27;sqnr&#x27;</code>，<code>&#x27;chebyshev&#x27;</code>。<br/>
<b>默认配置</b>：<code>&#x27;cosine-similarity&#x27;</code>。<br/>
<b>参数说明</b>：设置计算模型误差的计算方式。</p></td><td>可选</td></tr><tr><td><code>average_mode</code></td><td><code>-avm</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：指定累积误差曲线的输出模式。<br/>
<b>取值范围</b>：<code>True</code> 、<code>False</code>。<br/>
<b>默认配置</b>：<code>False</code>。<br/>
<b>参数说明</b>：默认为False。若为True，那么获取累积误差的平均值作为结果。</p></td><td>可选</td></tr><tr><td><code>pick_threshold</code></td><td><code>-pt</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：设置选取节点的敏感度阈值。<br/>
<b>取值范围</b>：无。<br/>
<b>默认配置</b>：0.999。<br/>
<b>参数说明</b>：可选，此功能计算普通节点的量化敏感度，选择敏感度小于 pick_threshold的节点作为敏感节点进行分析测试。<br/>
注：当设置sensitive_nodes时，则直接对sensitive_nodes进行测试，不再 另行计算节点敏感度并根据pick_threshold选择敏感节点。</p></td><td>可选</td></tr><tr><td><code>sensitive_nodes</code></td><td><code>-sn</code></td><td><p class="my-4 leading-7"><b>参数作用</b>：指定需要分析的敏感节点。<br/>
<b>取值范围</b>：校准模型中的所有节点。<br/>
<b>默认配置</b>：无。<br/>
<b>参数说明</b>：可选，指定需要分析的敏感节点。<br/>
注：当设置此参数时，则直接对此参数中的节点进行测试，不再另行计算 节点敏感度并根据pick_threshold选择敏感节点。</p></td><td>可选</td></tr></tbody></table>
<p class="my-4 leading-7">API使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-comment)"># 导入debug模块</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> horizon_nn</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">quantizer</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">debugger </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> dbg</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">dbg</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">runall</span><span style="color:var(--shiki-token-punctuation)">(model_or_file</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;calibrated_model.onnx&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">           calibrated_data</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&#x27;calibration_data&#x27;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">命令行使用方法：</p>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">hmct</span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)">debugger runall calibrated_model</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">onnx calibration_data</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<p class="my-4 leading-7">runall流程：</p>
<p class="my-4 leading-7"><img alt="image" src="/static/image/runall.28429c38.png"/></p>
<p class="my-4 leading-7">当所有参数保持默认时，工具会依次执行以下功能：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">step1和step2：分别获取权重校准节点和激活校准节点的量化敏感度。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">step3：根据step1和step2的结果，分别取权重校准节点的top5和激活校准节点的top5绘制其数据分布。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">step4：针对step3获取的节点，分别绘制其通道间数据分布的箱线图。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">step5：绘制分别只量化权重和只量化激活的累积误差曲线。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">step6：针对敏感节点进行部分量化以及单节点量化精度分析，由于图中示例并没有指定sensitive_nodes，因此需要debug工具自行计算普通节点的量化敏感度并选取敏感度小于指定pick_threshold的节点进行测试分析。</p>
</li>
</ul>
<p class="my-4 leading-7">当指定 <code>node_type=&#x27;node&#x27;</code> 时，工具会获取top5节点，并分别找到每个节点对应的校准节点，并获取校准节点的数据分布和箱线图。</p><!--/$--></div><div class="rspress-doc-footer"><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"></div><div class="flex flex-col"></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_e7091 flex flex-col"><a class="link_03735 pager-link_9b9a7 cursor-pointer" target="" href="/guide/ptq/ptq_tool/hbruntime.html"><span class="desc_9b9a7">上一页</span><span class="title_9b9a7">HBRuntime推理库</span></a></div><div class="next_e7091 flex flex-col"><a class="link_03735 pager-link_9b9a7 next_9b9a7 cursor-pointer" target="" href="/guide/ptq/ptq_usage/model_prepare.html"><span class="desc_9b9a7">下一页</span><span class="title_9b9a7">浮点模型准备</span></a></div></div></footer></div></div></div><div class="aside-container_edeb4"><div><div class="flex flex-col"><div class="&lt;lg:hidden"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">页面目录</div><nav class="mt-1"><ul class="relative"><li><a href="#快速上手" title="快速上手" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">快速上手</span></a></li><li><a href="#校准模型与数据的保存" title="校准模型与数据的保存" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">校准模型与数据的保存</span></a></li><li><a href="#精度debug模块导入与使用" title="精度debug模块导入与使用" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">精度debug模块导入与使用</span></a></li><li><a href="#分析结果展示" title="分析结果展示" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">分析结果展示</span></a></li><li><a href="#debug_api" title="功能说明文档" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">功能说明文档</span></a></li><li><a href="#get_sensitivity_of_nodes" title="get_sensitivity_of_nodes" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">get_sensitivity_of_nodes</span></a></li><li><a href="#plot_acc_error" title="plot_acc_error" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">plot_acc_error</span></a></li><li><a href="#plot_distribution" title="plot_distribution" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">plot_distribution</span></a></li><li><a href="#get_channelwise_data_distribution" title="get_channelwise_data_distribution" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">get_channelwise_data_distribution</span></a></li><li><a href="#sensitivity_analysis" title="sensitivity_analysis" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">sensitivity_analysis</span></a></li><li><a href="#runall" title="runall" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">runall</span></a></li></ul></nav></div></div></div></div></div></div></div></section></div></div><div id="search-container"></div></body></html>