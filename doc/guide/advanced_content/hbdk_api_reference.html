<!doctype html><html lang="zh"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Rspress v1.23.1"><title data-rh="true">HBDK Tool API Reference - Horizon OpenExplorer</title><meta data-rh="true" name="description" content="地平线OpenExplorer算法工具链"/><script>{const e=localStorage.getItem("rspress-theme-appearance"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,a=e&&"auto"!==e?"dark"===e:t;document.documentElement.classList.toggle("dark",a),document.documentElement.style.colorScheme=a?"dark":"light"}</script><title>Horizon OpenExplorer</title><link rel="icon" href="/favicon.ico"><script defer="defer" src="/static/js/styles.47a58349.js"></script><script defer="defer" src="/static/js/lib-polyfill.f3f8d881.js"></script><script defer="defer" src="/static/js/lib-lodash.6d460d4e.js"></script><script defer="defer" src="/static/js/lib-react.57316932.js"></script><script defer="defer" src="/static/js/lib-router.687d37e2.js"></script><script defer="defer" src="/static/js/11162.ccfbaa80.js"></script><script defer="defer" src="/static/js/index.de38ed8a.js"></script><link href="/static/css/styles.d4060814.css" rel="stylesheet"></head><body ><div id="root"><div><div class="navContainer_f6cde rspress-nav px-6 " style="position:sticky"><div class="container_f6cde flex justify-between items-center h-full"><div class="navBarTitle_f6cde"><a href="/" class="flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><img src="/logo-light.png" alt="logo" id="logo" class="mr-4 rspress-logo dark:hidden"/><img src="/logo-dark.svg" alt="logo" id="logo" class="mr-4 rspress-logo hidden dark:block"/></a></div><div class="flex flex-1 justify-end items-center"><div class="rightNav_f6cde"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="rspress-nav-search-button navSearchButton_6e282"><button><svg width="18" height="18" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg><p class="searchWord_6e282">搜索</p><div style="opacity:0"><span></span><span>K</span></div></button></div><div class="mobileNavSearchButton_6e282"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg></div></div><div class="rspress-nav-menu menu h-14"><a href="https://horizon.cc/" target="_blank" rel="noopener noreferrer" class="link_03735 "><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">地平线官网</div></a><a href="https://auto-developer.horizon.cc/" target="_blank" rel="noopener noreferrer" class="link_03735 "><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">地平线智能汽车开发者社区</div></a><a class="link_03735  cursor-pointer" target="" href="/index.html"><div class="rspress-nav-menu-item singleItem_f6cde activeItem_f6cde text-sm font-medium mx-1.5 px-3 py-2 flex items-center">版本：3.0.22</div></a></div><div class="flex-center flex-row"><div class="translation menu-item_f6cde flex text-sm font-bold items-center px-3 py-2"><div><div class="relative flex-center h-14"><button class="rspress-nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200"><span class="text-sm font-medium flex" style="margin-right:2px"><svg width="18" height="18" viewBox="0 0 32 32" style="width:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div class="rspress-nav-menu-group-content absolute mx-0.8 transition-opacity duration-300" style="opacity:0;visibility:hidden;right:0;top:52px"><div class="p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap" style="box-shadow:var(--rp-shadow-3);z-index:100;border:1px solid var(--rp-c-divider-light);border-radius:var(--rp-radius-large);background:var(--rp-c-bg)"><div><div class="rounded-2xl my-1 flex" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><span class="text-brand">中文</span></div></div><div><div class="font-medium my-1"><a class="link_03735  cursor-pointer" target="" href="/en/guide/advanced_content/hbdk_api_reference.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>English</span></div></div></a></div></div></div></div></div></div></div><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300 w-7 h-7"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="dark:hidden" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zM12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3zM19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3zM3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3zM18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="hidden dark:block" width="18" height="18" fill="currentColor"><path d="M12.1 22h-.9c-5.5-.5-9.5-5.4-9-10.9.4-4.8 4.2-8.6 9-9 .4 0 .8.2 1 .5.2.3.2.8-.1 1.1-2 2.7-1.4 6.4 1.3 8.4 2.1 1.6 5 1.6 7.1 0 .3-.2.7-.3 1.1-.1.3.2.5.6.5 1-.2 2.7-1.5 5.1-3.6 6.8-1.9 1.4-4.1 2.2-6.4 2.2zM9.3 4.4c-2.9 1-5 3.6-5.2 6.8-.4 4.4 2.8 8.3 7.2 8.7 2.1.2 4.2-.4 5.8-1.8 1.1-.9 1.9-2.1 2.4-3.4-2.5.9-5.3.5-7.5-1.1-2.8-2.2-3.9-5.9-2.7-9.2z"></path></svg></div></div></div></div></div><div class="mobileNavMenu_f6cde"><div class="navScreen_457e8 " id="navScreen"><div class="container_457e8"><div class="navMenu_457e8"><div class="navMenuItem_457e8 w-full"><a href="https://horizon.cc/" target="_blank" rel="noopener noreferrer" class="link_03735 "><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">地平线官网</div></a></div><div class="navMenuItem_457e8 w-full"><a href="https://auto-developer.horizon.cc/" target="_blank" rel="noopener noreferrer" class="link_03735 "><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">地平线智能汽车开发者社区</div></a></div><div class="navMenuItem_457e8 w-full"><a class="link_03735  cursor-pointer" target="" href="/index.html"><div class="rspress-nav-menu-item singleItem_f6cde activeItem_f6cde text-sm font-medium mx-1.5 px-3 py-2 flex items-center">版本：3.0.22</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_457e8 flex justify-center"></div><div class="flex text-sm font-bold justify-center"><div class="mx-1.5 my-1"><div class=" navScreenMenuGroup_457e8 relative"><button class="button_457e8"><span class="buttonSpan_457e8"><svg width="18" height="18" viewBox="0 0 32 32" style="width:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32" class=" down_457e8 "><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div><div class="items_457e8"><div><div class="p-1 text-center"><span class="text-brand">中文</span></div></div><div><div class="py-1 font-medium"><a class="link_03735  cursor-pointer" target="" href="/en/guide/advanced_content/hbdk_api_reference.html"><div><div class="flex justify-center"><span>English</span></div></div></a></div></div></div></div></div></div></div></div></div></div><button aria-label="mobile hamburger" class=" navHamburger_e7b06 text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div><section><div class="docLayout_edeb4 pt-0"><div class="rspress-sidebar-menu"><button class="flex-center mr-auto"><div class="text-md mr-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><span class="text-sm">Menu</span></button><button class="flex-center ml-auto"><span class="text-sm">页面目录</span><div class="text-md mr-2" style="transform:rotate(0deg);transition:transform 0.2s ease-out;margin-top:2px"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></button></div><aside class="sidebar_71eca rspress-sidebar "><div class="navTitleMask_71eca"><div class="navBarTitle_f6cde"><a href="/" class="flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><img src="/logo-light.png" alt="logo" id="logo" class="mr-4 rspress-logo dark:hidden"/><img src="/logo-dark.svg" alt="logo" id="logo" class="mr-4 rspress-logo hidden dark:block"/></a></div></div><div class="rspress-scrollbar sidebarContent_71eca"><nav class="pb-2"><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/doc_introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>OE文档脉络</span></div></a><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">产品简介</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/preface/learn_oe.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>认识 Open Explorer</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/preface/toolchain_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>工具链概览</span></div></a></div></div></div></section><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/key_concept.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>关键概念</span></div></a><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/env_install.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>环境部署</span></div></a><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">快速入门</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/faststart/ptq_qat_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PTQ、QAT简介</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/faststart/ptq_quickstart.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>算法模型PTQ量化+上板 快速上手</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/faststart/qat_quickstart.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>算法模型QAT量化+部署 快速上手</span></div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">训练后量化（PTQ）</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_workflow.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PTQ转换原理及流程</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">PTQ转换工具</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/tool_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PTQ转换工具阅读概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">hb_compile工具</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_compile/check.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型验证</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_compile/convert.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型量化编译</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_compile/modify.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型修改及HBIR模型编译</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_compile/quant_config.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quant_config说明</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_model_info.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_model_info工具</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_verifier.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_verifier工具</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_eval_preprocess.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_eval_preprocess工具</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hb_config_generator.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_config_generator工具</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/hbruntime.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HBRuntime推理库</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_tool/accuracy_debug.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>精度debug工具</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">PTQ转换步骤</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/model_prepare.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>浮点模型准备</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/check_model.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>验证模型</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/prepare_calibration_data.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>校准数据集准备</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/quantize_compile.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型量化与编译</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/performance_evaluation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型性能分析</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/accuracy_evaluation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型精度分析</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_usage/accuracy_tune.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型精度调优</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">PTQ转换示例</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_sample/general_description.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>发布物介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_sample/algorithm_sample.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见算法模型示例</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">常见问题及故障处理</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_faq_troubleshooting/ptq_faq.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>训练后量化（PTQ）常见问题</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_faq_troubleshooting/troubleshooting.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见故障处理</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">附录</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_appendix/normalize_introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>数据归一化处理参数配置说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ptq/ptq_appendix/transformer.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>图片处理transformer说明</span></div></a></div></div></div></section></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">量化感知训练（QAT）</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/introduce.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/terminology.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>术语约定</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/installation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>环境依赖</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/qat_quickstart/qat_quickstart.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>算法模型QAT量化+部署 快速上手</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">开发指南</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/float_model_requirements.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>浮点模型的要求</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/qconfig.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>QConfig 详解</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/prepare.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>prepare 详解</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/calibration.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Calibration 指南</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/qat_guide.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>量化感知训练指南</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/quant_analysis.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>精度调优工具使用指南</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/user_guide/precision_tuning.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>量化精度调优指南</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">深入探索</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/advanced_tutorial/eager.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Eager 模式</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/advanced_tutorial/fx_quantization_explain.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>FX Quantization 原理介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/advanced_tutorial/op_fusion.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>算子融合</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">API参考</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/march.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>March</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/qconfig.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>qconfig</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/fake_quantize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>伪量化算子</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">QAT</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/qat_api/horizon_plugin_pytorch_fx_fx_helper_wrap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>fx.fx_helper.wrap</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/qat_api/horizon_plugin_pytorch_quantization_fuse_known_modules.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.fuse_known_modules</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/qat_api/horizon_plugin_pytorch_quantization_fuse_modules.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.fuse_modules</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/qat_api/horizon_plugin_pytorch_quantization_prepare.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.prepare</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">模型导出</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/export/horizon_plugin_pytorch_quantization_hbdk4_export.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.hbdk4.export</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/export/horizon_plugin_pytorch_quantization_hbdk4_get_hbir_input_flattener.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.hbdk4.get_hbir_input_flattener</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/export/horizon_plugin_pytorch_quantization_hbdk4_get_hbir_output_unflattener.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>quantization.hbdk4.get_hbir_output_unflattener</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/onnx.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>ONNX</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">Horizon算子</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_functional_filter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.functional.filter</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_functional_point_pillars_preprocess.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.functional.point_pillars_preprocess</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_BgrToYuv444.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.BgrToYuv444</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_Correlation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.Correlation</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_PointPillarsScatter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.PointPillarsScatter</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_nn_MultiScaleDeformableAttention.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>nn.MultiScaleDeformableAttention</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_rgb2bgr.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>rgb2bgr</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_bgr2rgb.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>bgr2rgb</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_bgr2yuv.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>bgr2yuv</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_rgb2yuv.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>rgb2yuv</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_bgr2centered_yuv.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>bgr2centered_yuv</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_rgb2centered_yuv.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>rgb2centered_yuv</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_bgr2gray.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>bgr2gray</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_rgb2gray.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>rgb2gray</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_bgr2centered_gray.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>bgr2centered_gray</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/plugin_api_reference/horizon_operator/horizon_plugin_pytorch_rgb2centered_gray.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>rgb2centered_gray</span></div></a></div></div></div></section></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">常见问题及常见故障</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/qat_faq/faq.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见问题</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/plugin/qat_faq/failure.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见故障</span></div></a></div></div></div></section></div></div></div></section><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/performance_tune.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>模型性能调优</span></div></a><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">统一计算平台（UCP）</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>总览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">视觉处理开发</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp1_Introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp2_Quick_Start.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>快速上手</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp3_Architecture.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模块架构</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp4_Performance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>性能指标</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">视觉算法</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/vp5_Overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>总览 </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/bilateral_filter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Bilateral Filter </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/box_filter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Box Filter </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/canny.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Canny </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/corner_harris.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Corner Harris </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/cvtcolor.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Cvtcolor</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/dilate.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Dilate</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/equalizehist.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Equalizehist</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/erode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Erode</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/filter2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Filter2d</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/flip.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Flip </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/gaussian_blur.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Gaussian Blur</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/integral.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Integral</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/isp.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>ISP</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/jpeg_codec.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>JPEG Codec </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/laplacian_filter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Laplacian Filter </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/median_blur.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Median Blur </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/opticalflowpyrlk.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>OpticalFlowPyrLK </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/pyrdown.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PyrDown</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/pyrup.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PyrUp </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/remap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Remap </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/resize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Resize</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/roi_resize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Roi Resize</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/rotate.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Rotate</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/sepfilter2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>SepFilter2d </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/sobel.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Sobel</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/stitch.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Stitch</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/threshold.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Threshold </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/transpose.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Transpose </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/video_codec.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Video Codec </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/warp_affine.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Warp Affine</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp5_op/warp_perspective.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Warp Perspective</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">示例</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/vp6_Overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>总览</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_basic_process.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>基础图像处理示例</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_transformation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>图像变换示例 </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_feature_extraction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>图像特征提取示例 </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_optical_flow.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>光流处理示例</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_avm.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>环视图像拼接示例</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp6_sample/op_sample_codec.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>视频编解码示例</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">VP API手册</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_Overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>VP API 概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">数据结构</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpimageformat.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPImageFormat</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpimagetype.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPImageType</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpimage.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPImage</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvparray.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPArray</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvproi.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPRoi</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpfilterkernel.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPFilterKernel </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpinterpolationtype.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPInterpolationType</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_data_structure/hbvpbordertype.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPBorderType</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">功能接口</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpgetversion.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPGetVersion </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpbilateralfilter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPBilateralFilter</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpboxfilter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPBoxFilter</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpcanny.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPCanny</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpcvtcolor.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPCvtColor</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpcornerharris.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPCornerHarris </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpdilate.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPDilate</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpequalizehist.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPEqualizehist </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvperode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPErode </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpfilter2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPFilter2d</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpflip.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPFlip </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpgaussianblur.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPGaussianBlur </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpintegral.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPIntegral </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpisp.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPISP</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpjpegencode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPJPEGEncode </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpjpegdecode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPJPEGDecode </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvplaplacianfilter.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPLaplacianFilter</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpmedianblur.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPMedianBlur</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpopticalflowpyrlk.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPOpticalFlowPyrLK </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvppyrdown.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPPyrDown </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvppyrup.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPPyrUp </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpremap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPRemap </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpresize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPResize </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvproiresize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPRoiResize </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvprotate.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPRotate </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpsepfilter2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPSepFilter2d </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpsobel.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPSobel</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpstitch.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPStitch</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpthreshold.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPThreshold </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvptranspose.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPTranspose</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpvideoencode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPVideoEncode </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpvideodecode.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPVideoDecode</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpwarpaffine.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPWarpAffine </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_function_interface/hbvpwarpperspective.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbVPWarpPerspective </span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/vp/vp7_reference/vp7_environment_variable.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>环境变量</span></div></a></div></div></div></section></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">模型推理开发</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/runtime_dev.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型推理应用开发指导</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">模型推理API手册</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/bpu_sdk_api_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型推理API概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">数据结构</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/HB_DNN_TENSOR_MAX_DIMENSIONS.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HB_DNN_TENSOR_MAX_DIMENSIONS </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNPackedHandle_t.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNPackedHandle_t</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNHandle_t.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNHandle_t </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNDataType.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNDataType </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNTensorShape.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNTensorShape </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNDescType.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNDescType</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNQuantiScale.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNQuantiScale</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNQuantiType.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNQuantiType </span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNTensorProperties.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNTensorProperties</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/data_structure/hbDNNTensor.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDNNTensor </span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">功能接口</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/function_interface/version_info.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>版本信息</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/function_interface/model_loading_releasing.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型加载/释放</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/function_interface/model_info.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型信息</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/function_interface/model_inference.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型推理</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/function_interface/status_code.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>状态码</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/alignment_rule.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>对齐规则</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/dynamic_input_introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>动态输入介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/bpu_sdk_api/configuration_info.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>配置信息 </span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/basic_sample.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>基础示例包使用说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/ai_benchmark.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>AI Benchmark使用说明</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">模型推理工具介绍</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/tool_introduction/auxiliary_tool.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常用操作</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/runtime/tool_introduction/hrt_model_exec.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hrt_model_exec工具介绍</span></div></a></div></div></div></section></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">高性能算子库</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl1_introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl2_quick_start.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>快速上手</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl3_architecture.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模块架构</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl4_performance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>性能指标</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">高性能算法</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl5_op/overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>总览</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl5_op/op_fft.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Fast Fourier Transform</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl5_op/op_ifft.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Inverse Fast Fourier Transform</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl5_op/op_fft_2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Fast Fourier Transform 2D</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl5_op/op_ifft_2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Inverse Fast Fourier Transform 2D</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl6_sample.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>示例</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">HPL API手册</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HPL API 概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">数据结构</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_data_structure/hb_hpl_max_dims.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HB_HPL_MAX_DIMS</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_data_structure/hbhpldatatype.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbHPLDataType</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_data_structure/hbhplimformat.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbHPLImFormat</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_data_structure/hbhplimaginarydata.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbHPLImaginaryData</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_data_structure/hbfftpointsize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbFFTPointSize</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">功能接口</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_function_interface/hbfft1d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbFFT1D</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_function_interface/hbifft1d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbIFFT1D</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_function_interface/hbfft2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbFFT2D</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/hpl/hpl7_api/hpl_api_function_interface/hbifft2d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbIFFT2D</span></div></a></div></div></div></section></div></div></div></section></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">自定义算子</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">DSP算子开发</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_intro.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>DSP开发文档</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_develop.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>DSP开发流程</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">DSP示例</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_sample/dsp_sample_intro.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_sample/centerpoint_pointpillar.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>点云前处理介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_sample/quantize_dequantize.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>量化反量化介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_sample/slam.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>SLAM示例介绍</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">DSP API手册</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/api_introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>DSP API概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">数据结构</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_data_structure/hbDSPRpcCmd.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDSPRpcCmd</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_data_structure/handle_fn.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>handle_fn</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">功能接口</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hbDSPRpcV2.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDSPRpcV2</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hbDSPAddrMap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDSPAddrMap</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hbDSPAddrUnmap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbDSPAddrUnmap</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_env_init.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_env_init</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_env_init_ex.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_env_init_ex</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_start.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_start</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_mem_map.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_mem_map</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_mem_unmap.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_mem_unmap</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_register_fn.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_register_fn</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_function_interface/hb_dsp_unregister_fn.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hb_dsp_unregister_fn</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/dsp_develop/dsp_reference/dsp_environment_variable.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>环境变量</span></div></a></div></div></div></section></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/plugin/gpu_develop.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>GPU开发文档</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/full_process_sample.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>目标检测全流程示例</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">UCP通用API介绍</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_overview.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>UCP通用API概览</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">数据结构</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/version_information.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>版本信息类型</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucptaskhandle_t.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPTaskHandle_t</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucptaskdonecb.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPTaskDoneCb</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucp_all_backends.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HB_UCP_ALL_BACKENDS</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucpbackend.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPBackend</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucptaskpriority.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPTaskPriority</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucp_initialize_sched_param.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HB_UCP_INITIALIZE_SCHED_PARAM</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucpschedparam.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPSchedParam</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucpsysmem.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPSysMem</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_data_structure/hbucpsysmemflushflag.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPSysMemFlushFlag</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">功能接口</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpgetversion.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPGetVersion</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpgetsocname.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPGetSocName</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpsubmittask.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPSubmitTask</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpwaittaskdone.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPWaitTaskDone</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpsettaskdonecb.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPSetTaskDoneCb</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpreleasetask.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPReleaseTask</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpmalloc.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPMalloc</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpmalloccached.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPMallocCached</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpmemflush.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPMemFlush</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpfree.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPFree</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_api_function_interface/hbucpgeterrordesc.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hbUCPGetErrorDesc</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_api_reference/ucp_environment_variable.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>环境变量</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">UCP性能分析工具</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_tools/ucp_trace.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>UCP Trace 使用说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_tools/ucp_monitor.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hrt_ucp_monitor 工具介绍</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">常见问题及错误码</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_faq_errorcode/ucp_faq.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见问题</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/ucp/ucp_faq_errorcode/ucp_error_code.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>错误码</span></div></a></div></div></div></section></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">模型部署实践指导</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/model_deployment_guidance/rgb_resnet18_deployment_guidance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>RGB输入的ResNet18模型部署实践指导</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/model_deployment_guidance/pyramid_resnet18_deployment_guidance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Pyramid输入的ResNet18模型部署实践指导</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/model_deployment_guidance/pyramid_batch_resnet18_deployment_guidance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Pyramid输入的多Batch ResNet18模型部署实践指导</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/model_deployment_guidance/resizer_resnet18_deployment_guidance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Resizer输入的ResNet18模型部署实践指导</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/model_deployment_guidance/rgb_remove_resnet18_deployment_guidance.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>移除Dequantize节点的ResNet18模型部署实践指导</span></div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">进阶内容</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">Horizon Torch Samples</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/introduction.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>简介</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">使用框架</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/framework/framework.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>框架</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/framework/engine.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>执行引擎</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">使用指南</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/quantization.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>如何进行量化训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/custom_qconfig.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>set_qconfig 书写规范和自定义 qconfig 介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/amp.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>如何开启 AMP</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/compile.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>如何编译模型</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/registry.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>注册机制</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/config.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>config 文件介绍</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/detailed_config.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>FCOS-EfficientNetB0的config构造详细说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/opts.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>通过命令行覆盖config参数</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/calops.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>计算量工具</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/calibration.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>数据校准</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/tutorials/launcher.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>启动方式</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">示例说明</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/docker.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Docker 镜像说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/scripts.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>执行脚本</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/multi_machine.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>多机使用说明</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/classification.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>MobileNetV1分类模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/fcos.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>FCOS检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/segmentation.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>UNet分割模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/pwcnet.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PwcNet光流预测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/pointpillars.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PointPillars检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/pointpillars_v2.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PointPillars检测模型训练(无 config)</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/pointpillars_v2_no_hat_trainer.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PointPillars检测模型训练(无config &amp;&amp; 无HAT Trainer)</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/ganet.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>GaNet车道线检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/fcos3d.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>FCOS3D检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/motr.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Motr多目标跟踪模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/centerpoint.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>CenterPoint检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/stereonet.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>StereoNet双目深度估计模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/bev.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Bev多任务模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/car_keypoint.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>汽车关键点检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/lidar_multitask.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>lidarMultiTask模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/densetnt.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>DenseTNT轨迹预测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/deform_detr.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Deformable DETR检测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/maptroe.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>MapTROE 模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/qcnet.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>QCNet轨迹预测模型训练</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/flashocc.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Occupancy预测模型</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/examples/lidar_fusion.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Lidar融合多任务感知模型</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/model_zoo.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>模型仓库modelzoo</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hat/hat_faq.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见问题</span></div></a></div></div></div></section></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">HMCT API Reference</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hmct_api_reference/load_model.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hmct.api.load_model</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hmct_api_reference/build_model.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hmct.api.build_model</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hmct_api_reference/ortexecutor.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hmct.api.ORTExecutor</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hmct_api_reference/check_model.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>hmct.api.check_model</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/advanced_content/hbdk_api_reference.html"><div class="menuItemActive_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HBDK Tool API Reference</span></div></a></div></div></div></section><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/benchmark.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>模型性能Benchmark</span></div></a><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center menuItem_71eca" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center">附录</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">工具链算子支持约束列表</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/supported_op_list/onnx_operator_support_list.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>ONNX算子BPU约束列表</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/supported_op_list/torch_operator_support_list.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Torch算子BPU约束列表</span></div></a></div></div></div></section></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/hbir_op.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HBIR Operator Definition</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/dataset_link.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>数据集下载</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/common_abbreviations.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常用缩略语</span></div></a></div><div><section class="mt-0.5 block" style="margin-left:18px"><div class="flex justify-between items-center menuItem_71eca" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center">社区优质文章</span></h2><div class="collapseContainer_71eca p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/community_articles/common_image_format.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常见图像格式</span></div></a></div><div><a class="link_03735 menuLink_71eca cursor-pointer" target="" href="/guide/appendix/community_articles/oe_package_sample.html"><div class="menuItem_71eca mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>OE开发包示例介绍</span></div></a></div></div></div></section></div></div></div></section></nav></div></aside><div class="content_edeb4 rspress-doc-container flex flex-shrink-0 mx-auto"><div class="w-full flex-1"><div><div class="rspress-doc"><!--$--><h1 id="hbdk-tool-api-reference" class="text-3xl mb-10 leading-10 tracking-tight title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#hbdk-tool-api-reference">#</a>HBDK Tool API Reference</h1>
<span data-dark="false" class="rp-reading-time">Estimated reading time: 3 minutes</span>
<h2 id="hbdk-api-introduction" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#hbdk-api-introduction">#</a>hbdk api introduction</h2>
<p class="my-4 leading-7">General restrictions:</p>
<p class="my-4 leading-7">The maximum number of model inputs/outputs should not exceed 256.</p>
<p class="my-4 leading-7">The dimensions of all tensors in the model should not exceed 10.</p>
<p class="my-4 leading-7">The name of the input and output of the model must be unique.</p>
<p class="my-4 leading-7">The data types we support are ui8/si8/si16/ui32/si32/si64/float/bool. For specific data types supported by a certain operator, please refer to the operator constraint document.</p>
<h3 id="module-hbdk4compileronnx" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#module-hbdk4compileronnx">#</a>Module: hbdk4.compiler.onnx</h3>
<h4 id="exportproto-onnxmodelproto--name-optionalstr--none---module" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#exportproto-onnxmodelproto--name-optionalstr--none---module">#</a><code>export</code>(proto onnx.ModelProto, *, name Optional[str] = None) -&gt; Module</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">export an onnx module to hbir mlir</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">proto </span><span style="color:var(--shiki-token-punctuation)">(onnx.ModelProto):</span><span style="color:var(--shiki-color-text)"> onnx protobuf</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">name </span><span style="color:var(--shiki-token-punctuation)">(Optional[</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">], optional):</span><span style="color:var(--shiki-color-text)"> rename the onnx function</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;None&quot;</span><span style="color:var(--shiki-color-text)"> means using onnx graph name</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        Module</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> a helper </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> mlir</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">Module that manages hbdk operations</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="statisticsproto-onnxmodelproto" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#statisticsproto-onnxmodelproto">#</a><code>statistics</code>(proto onnx.ModelProto)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Print op statics of given onnx module</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">proto </span><span style="color:var(--shiki-token-punctuation)">(onnx.ModelProto):</span><span style="color:var(--shiki-color-text)"> onnx protobuf</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="module-hbdk4compilertorch" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#module-hbdk4compilertorch">#</a>Module: hbdk4.compiler.torch</h3>
<h4 id="export-jit-torchjitscriptmodule-example_input-any--name-optionalstr--none-input_names-liststr--none-output_names-liststr--none-lower_non_tensor-bool--true---module" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#export-jit-torchjitscriptmodule-example_input-any--name-optionalstr--none-input_names-liststr--none-output_names-liststr--none-lower_non_tensor-bool--true---module">#</a><code>export</code>( jit torch.jit.ScriptModule, example_input Any, *, name Optional[str] = None, input_names List[str] = None, output_names List[str] = None, lower_non_tensor bool = True) -&gt; Module</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">export a torch</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">jit</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">ScriptModule to hbir mlir</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">jit </span><span style="color:var(--shiki-token-punctuation)">(torch.jit.ScriptModule):</span><span style="color:var(--shiki-color-text)"> a ScriptModule created </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> torch</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">jit</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">trace</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">example_input </span><span style="color:var(--shiki-token-punctuation)">(Any):</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">format</span><span style="color:var(--shiki-color-text)"> of the ScriptModule</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> used </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> analysis</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">name </span><span style="color:var(--shiki-token-punctuation)">(Optional[</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">], optional):</span><span style="color:var(--shiki-color-text)"> rename the function</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;None&quot;</span><span style="color:var(--shiki-color-text)"> means uses the name recorded </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> ScriptModule</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">input_names </span><span style="color:var(--shiki-token-punctuation)">(List[</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">], optional):</span><span style="color:var(--shiki-color-text)"> rename inputs</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;None&quot;</span><span style="color:var(--shiki-color-text)"> means uses </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> names recorded </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> ScriptModule</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">output_names </span><span style="color:var(--shiki-token-punctuation)">(List[</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">], optional):</span><span style="color:var(--shiki-color-text)"> rename outputs</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;None&quot;</span><span style="color:var(--shiki-color-text)"> means uses </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> names recorded </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> ScriptModule</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">lower_non_tensor </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">bool</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> flatten the pytree </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> ScriptModule </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-color-text)"> keep the tree </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> hbir</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        Module</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> a helper </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> mlir</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">Module that manages hbdk operations</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="statisticsjit-torchjitscriptmodule-example_input-any" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#statisticsjit-torchjitscriptmodule-example_input-any">#</a><code>statistics</code>(jit torch.jit.ScriptModule, example_input Any)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Print op statics of given ScriptModule module</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">jit </span><span style="color:var(--shiki-token-punctuation)">(torch.jit.ScriptModule):</span><span style="color:var(--shiki-color-text)"> a ScriptModule created </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> torch</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">jit</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">trace</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="module-hbdk4compilerapis" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#module-hbdk4compilerapis">#</a>Module: hbdk4.compiler.apis</h3>
<h4 id="loadpath-str---module" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#loadpath-str---module">#</a><code>load</code>(path str) -&gt; Module</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">load mlir text </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-color-text)"> bytecode to mlir</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">Module</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">path </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> A filesystem path to load bytecode ended </span><span style="color:var(--shiki-token-keyword)">with</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;.bc&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Raises</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">ValueError</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> When </span><span style="color:var(--shiki-token-string-expression)">&quot;path&quot;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">not</span><span style="color:var(--shiki-color-text)"> ended </span><span style="color:var(--shiki-token-keyword)">with</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;.bc&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> Module</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> a helper </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> mlir</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">Module that manages hbdk operations</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="savem-module-path-str---none" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#savem-module-path-str---none">#</a><code>save</code>(m Module, path str) -&gt; None</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">save mlir</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">Module to mlir bytecode</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">m </span><span style="color:var(--shiki-token-punctuation)">(Module):</span><span style="color:var(--shiki-color-text)"> a helper </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> mlir</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">Module that manages hbdk operations</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">path </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> A filesystem path to save bytecode</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> Must end </span><span style="color:var(--shiki-token-keyword)">with</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;.bc&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Raises</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">ValueError</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> When </span><span style="color:var(--shiki-token-string-expression)">&quot;path&quot;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">not</span><span style="color:var(--shiki-color-text)"> ended </span><span style="color:var(--shiki-token-keyword)">with</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;.bc&quot;</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="convert-m-module-march-unionmarchbase-str-advicefalse-advice_path-kwargs---module" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#convert-m-module-march-unionmarchbase-str-advicefalse-advice_path-kwargs---module">#</a><code>convert</code>( m Module, march Union[MarchBase, str], advice=False, advice_path=&quot;&quot;, **kwargs) -&gt; Module</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Convert hbir to backend ir</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">m </span><span style="color:var(--shiki-token-punctuation)">(Module):</span><span style="color:var(--shiki-color-text)"> a helper </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> mlir</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">Module that manages hbdk operations</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">march </span><span style="color:var(--shiki-token-punctuation)">(Union[MarchBase, </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">]):</span><span style="color:var(--shiki-color-text)"> BPU march</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> options are </span><span style="color:var(--shiki-token-string-expression)">&quot;bayes&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;nash-e&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;nash-m&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;nash-p&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">advice </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">bool</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> Set whether to enable op check</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">advice_path </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> path to store op check info</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> Defaults to empty</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-color-text)"> op check info directly without saving the file</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="statisticsm-module---list" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#statisticsm-module---list">#</a><code>statistics</code>(m Module) -&gt; list</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Print op statics of given mlir module</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">m </span><span style="color:var(--shiki-token-punctuation)">(Module):</span><span style="color:var(--shiki-color-text)"> a helper </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> mlir</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">Module that manages hbdk operations</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="linkhbo_list-listhbo-output_path-str-desc-optionalstr--none" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#linkhbo_list-listhbo-output_path-str-desc-optionalstr--none">#</a><code>link</code>(hbo_list List[Hbo], output_path str, desc Optional[str] = None)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Link hbo to hbm</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">hbo_list </span><span style="color:var(--shiki-token-punctuation)">(List[Hbo): A List of Hbo, which </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-token-punctuation)"> general by </span><span style="color:var(--shiki-token-function)">compile</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-function)">output_path </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">, required): A filesystem path to save hbm. Must ends </span><span style="color:var(--shiki-token-keyword)">with</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;.hbm&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-function)">desc </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)"> optional): Generate a description of hbm when linking, </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-token-punctuation)"> this parameter </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-keyword)">not</span><span style="color:var(--shiki-token-punctuation)"> given, the description information of hbm will </span><span style="color:var(--shiki-token-keyword)">not</span><span style="color:var(--shiki-token-punctuation)"> be generated</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="compile-m-module-path-str-march-unionmarchbase-str-opt-int--2-jobs-int--4-max_time_per_fc-float--00-debug-bool--false-hbdk3_compatible_mode-bool--false-progress_bar-bool--false-advice-float--00-balance-int--100-input_no_padding-bool--false-output_no_padding-bool--false---unionhbm-hbo" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#compile-m-module-path-str-march-unionmarchbase-str-opt-int--2-jobs-int--4-max_time_per_fc-float--00-debug-bool--false-hbdk3_compatible_mode-bool--false-progress_bar-bool--false-advice-float--00-balance-int--100-input_no_padding-bool--false-output_no_padding-bool--false---unionhbm-hbo">#</a><code>compile</code>( m Module, path str, march Union[MarchBase, str], opt int = 2, jobs int = 4, max_time_per_fc float = 0.0, debug bool = False, hbdk3_compatible_mode bool = False, progress_bar bool = False, advice float = 0.0, balance int = 100, input_no_padding bool = False, output_no_padding bool = False) -&gt; Union[Hbm, Hbo]</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Compile hbir module to hbm </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-color-text)"> hbo</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    If the suffix of the output </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;hbo&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> it will </span><span style="color:var(--shiki-token-function)">compile</span><span style="color:var(--shiki-color-text)"> to generate an hbo file</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Afterward</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> you need to call the link function to perform linking </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-color-text)"> packing operations</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">m </span><span style="color:var(--shiki-token-punctuation)">(Module):</span><span style="color:var(--shiki-color-text)"> a helper </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> mlir</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">Module that manages hbdk operations</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">march </span><span style="color:var(--shiki-token-punctuation)">(Union[MarchBase, </span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">]):</span><span style="color:var(--shiki-color-text)"> BPU march</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> options are </span><span style="color:var(--shiki-token-string-expression)">&quot;bayes&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;nash-e&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;nash-m&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;nash-p&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">path </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">, required):</span><span style="color:var(--shiki-color-text)"> A filesystem path to save hbm </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-color-text)"> hbo</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> Must ends </span><span style="color:var(--shiki-token-keyword)">with</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;.hbm&quot;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;.hbo&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">opt </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">int</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> Optimization level</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> Defaults to </span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">jobs </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">int</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> Number of threads launched during compiler optimization</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> Defaults to </span><span style="color:var(--shiki-token-constant)">4</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">max_time_per_fc </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">float</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> Set maximum time </span><span style="color:var(--shiki-token-function)">constraint </span><span style="color:var(--shiki-token-punctuation)">(unit:us)</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> per funccall</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">debug </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">bool</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> Set whether to contain debug info </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> HBM</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">hbdk3_compatible_mode </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">bool</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> Set whether to </span><span style="color:var(--shiki-token-function)">compile</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> hbdk3 compatible mode</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-color-text)"> use hbm3 </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">False</span><span style="color:var(--shiki-color-text)"> use hbm4</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">progress_bar</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">bool</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> Set whether to show progress bar</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">advice</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">float</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> Print advice on ops that take longer more than the specified </span><span style="color:var(--shiki-token-function)">time </span><span style="color:var(--shiki-token-punctuation)">(unit:us)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">balance</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">int</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> Specify a </span><span style="color:var(--shiki-token-function)">integer </span><span style="color:var(--shiki-token-punctuation)">(recommend </span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-token-punctuation)">)</span><span style="color:var(--shiki-color-text)"> to balance cycles </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> DDR access</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">                                The integer should be between </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)"> (minimal DDR access) </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">100</span><span style="color:var(--shiki-color-text)"> (minimal cycles)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">input_no_padding </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">bool</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> Set whether model </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> native without padding</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">output_no_padding </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">bool</span><span style="color:var(--shiki-token-punctuation)">, optional):</span><span style="color:var(--shiki-color-text)"> Set whether model output </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> native without padding</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Raises</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">ValueError</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> When </span><span style="color:var(--shiki-token-string-expression)">&quot;path&quot;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">not</span><span style="color:var(--shiki-color-text)"> ended </span><span style="color:var(--shiki-token-keyword)">with</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;.hbm&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">ValueError</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> When </span><span style="color:var(--shiki-token-string-expression)">&quot;balance&quot;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">not</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">range</span><span style="color:var(--shiki-color-text)"> of </span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-constant)">100</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="visualize-m-module-onnx_file-optionalstr--none-use_netron-optionalbool--false" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#visualize-m-module-onnx_file-optionalstr--none-use_netron-optionalbool--false">#</a><code>visualize</code>( m Module, onnx_file Optional[str] = None, use_netron Optional[bool] = False)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Generate visualizable mlir onnx </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> view it </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> netron</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">m </span><span style="color:var(--shiki-token-punctuation)">(Module):</span><span style="color:var(--shiki-color-text)"> a helper </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> mlir</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">Module that manages hbdk operations</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">onnx_file </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> path to store onnx proto </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> it </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-color-text)"> then create directory </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">/</span><span style="color:var(--shiki-color-text)">tmp</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">use_netron </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">bool</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> start netron server to view onnx</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> otherwise just generate onnx</span></span>
<span class="line line-number"></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="module-hbdk4compilerhbm_tools" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#module-hbdk4compilerhbm_tools">#</a>Module: hbdk4.compiler.hbm_tools</h3>
<h4 id="hbm_extract_descmodel-str---dict" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#hbm_extract_descmodel-str---dict">#</a><code>hbm_extract_desc</code>(model str) -&gt; dict</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Extract hbm desc info</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    DEPRECATED</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> It will be removed </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> the future</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">model </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Hbm model file name</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Return</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">desc_dict </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">dict</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Hbm desc info</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="hbm_update_descmodel-str-desc_dict-dict" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#hbm_update_descmodel-str-desc_dict-dict">#</a><code>hbm_update_desc</code>(model str, desc_dict dict)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Update hbm desc info</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    DEPRECATED</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> It will be removed </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> the future</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">model </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Hbm model file name</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">desc_dict </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">dict</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Hbm desc info</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="hbm_perfmodel-str-output_dir-str--none" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#hbm_perfmodel-str-output_dir-str--none">#</a><code>hbm_perf</code>(model str, output_dir str = None)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">HBM performance analysis</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">model </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Hbm model file name</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">output_dir </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Output directory to hold the results</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> default to the current path</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Return</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> no error</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="class-hbdk4compileroverlayargument" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#class-hbdk4compileroverlayargument">#</a>Class: hbdk4.compiler.overlay.Argument</h3>
<h4 id="is_removableself---tuple" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#is_removableself---tuple">#</a><code>is_removable</code>(self) -&gt; Tuple</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Check </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> the attached operation </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> removable</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> The operation should be single </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> single output</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> For </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> argument</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> it should only be used by the operation</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> For output argument</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> the operation </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> should only be used by the operation</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        Tuple</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> The first element </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">bool</span><span style="color:var(--shiki-color-text)"> indicating the removable flag</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> The second element </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> the diagnostic </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> it cannot be removed</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="get_attached_opself---listoperation" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#get_attached_opself---listoperation">#</a><code>get_attached_op</code>(self) -&gt; List[Operation]</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Get the argument attached operations</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> For </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> argument</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> operations uses the argument</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> For output argument</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> the operation defining the argument</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        List</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-color-text)">Operation</span><span style="color:var(--shiki-token-punctuation)">]:</span><span style="color:var(--shiki-color-text)"> _description_</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="remove_attached_opself" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#remove_attached_opself">#</a><code>remove_attached_op</code>(self)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Remove the only attached operation</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        Tuple</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> The first element </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-color-text)"> when the removal done</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> The second element </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> the diagnostic </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> it cannot be removed</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Note</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        Quantize </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> Dequantize op should be removed after convert</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="eraseself" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#eraseself">#</a><code>erase</code>(self)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Remove the argument </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> function argument</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        Tuple</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> The first element </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-color-text)"> when the removal done</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> The second element </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> the diagnostic </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> it cannot be removed</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="insert_transposeself-permutes-listint" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#insert_transposeself-permutes-listint">#</a><code>insert_transpose</code>(self, permutes List[int])</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Insert transpose op</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> Change </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-token-keyword)">/</span><span style="color:var(--shiki-color-text)">output parameter dimension order</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">permutes </span><span style="color:var(--shiki-token-punctuation)">(List):</span><span style="color:var(--shiki-color-text)"> Dimension transformation arrangement</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> Must contain </span><span style="color:var(--shiki-token-function)">all</span><span style="color:var(--shiki-color-text)"> dimensions of the original </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> parameters</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> starting </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">0</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        List of newly inserted function arguments which </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> also the inputs</span><span style="color:var(--shiki-token-keyword)">/</span><span style="color:var(--shiki-color-text)">outputs of inserted transpose op</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Raises</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">ValueError</span><span style="color:var(--shiki-color-text)"> when this argument </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> no longer valid</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Note</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        To avoid the new insertion operator </span><span style="color:var(--shiki-token-keyword)">not</span><span style="color:var(--shiki-color-text)"> running </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> some conversion passes</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> it </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> recommended to call the insert_xxx api before the convert stage</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Example</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">load</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;model.bc&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        res </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_transpose</span><span style="color:var(--shiki-token-punctuation)">([</span><span style="color:var(--shiki-token-constant)">3</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">])</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="insert_image_convertself-mode-str--nv12" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#insert_image_convertself-mode-str--nv12">#</a><code>insert_image_convert</code>(self, mode str = &quot;nv12&quot;)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Insert image_convert op</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> Change </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> parameter </span><span style="color:var(--shiki-token-constant)">type</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">mode </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Specify conversion mode</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> optional values are </span><span style="color:var(--shiki-token-string-expression)">&quot;nv12&quot;</span><span style="color:var(--shiki-color-text)">(default) </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;gray&quot;</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        List of newly inserted function arguments which </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> also the inputs of inserted image convert op</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Raises</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">ValueError</span><span style="color:var(--shiki-color-text)"> when this argument </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> no longer valid</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Note</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        To avoid the new insertion operator </span><span style="color:var(--shiki-token-keyword)">not</span><span style="color:var(--shiki-color-text)"> running </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> some conversion passes</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> it </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> recommended to call the insert_xxx api before the convert stage</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Example</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">load</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;model.bc&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        res </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_image_convert</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;nv12&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="insert_image_preprocess-self-mode-str-divisor-int-mean-listfloat-std-listfloat-is_signed-bool--true" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#insert_image_preprocess-self-mode-str-divisor-int-mean-listfloat-std-listfloat-is_signed-bool--true">#</a><code>insert_image_preprocess</code>( self, mode str, divisor int, mean List[float], std List[float], is_signed bool = True)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Insert image_convert op</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> Change </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> parameter </span><span style="color:var(--shiki-token-constant)">type</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">mode </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Specify conversion mode</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> optional values are </span><span style="color:var(--shiki-token-string-expression)">&quot;skip&quot;</span><span style="color:var(--shiki-color-text)">(default</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> same </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-color-text)">)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;yuvbt601full2rgb&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;yuvbt601full2bgr&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;yuvbt601video2rgb&quot;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;yuvbt601video2bgr&quot;</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        List of newly inserted function arguments which </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> also the inputs of inserted image preprocess op</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Raises</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">ValueError</span><span style="color:var(--shiki-color-text)"> when this argument </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> no longer valid</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Note</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        To avoid the new insertion operator </span><span style="color:var(--shiki-token-keyword)">not</span><span style="color:var(--shiki-color-text)"> running </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> some conversion passes</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> it </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> recommended to call the insert_xxx api before the convert stage</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Example</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">load</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;model.bc&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        res </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_image_preprocess</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;yuvbt601full2rgb&quot;</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">255</span><span style="color:var(--shiki-token-punctuation)">, [</span><span style="color:var(--shiki-token-constant)">0.485</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.456</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.406</span><span style="color:var(--shiki-token-punctuation)">], [</span><span style="color:var(--shiki-token-constant)">0.229</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.224</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.225</span><span style="color:var(--shiki-token-punctuation)">], </span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="insert_roi_resize-self-mode-str-interp_modebilinear-pad_modeconstant-pad_value-optionaltuple--0--128" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#insert_roi_resize-self-mode-str-interp_modebilinear-pad_modeconstant-pad_value-optionaltuple--0--128">#</a><code>insert_roi_resize</code>( self, mode str, interp_mode=&quot;bilinear&quot;, pad_mode=&quot;constant&quot;, pad_value Optional[tuple] = (0, -128))</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Insert roi_resize op</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)"> Change </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-color-text)"> parameter </span><span style="color:var(--shiki-token-constant)">type</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">mode </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Specify conversion mode</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> optional values are </span><span style="color:var(--shiki-token-string-expression)">&quot;nv12&quot;</span><span style="color:var(--shiki-color-text)">(default) </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;gray&quot;</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">interp_mode </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Specify interpolation mode</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> optional values are </span><span style="color:var(--shiki-token-string-expression)">&quot;bilinear&quot;</span><span style="color:var(--shiki-color-text)">(default) </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;nearest&quot;</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">pad_mode </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Specify fill mode</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> optional values are </span><span style="color:var(--shiki-token-string-expression)">&quot;constant&quot;</span><span style="color:var(--shiki-color-text)">(default) </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;border&quot;</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">pad_value </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">tuple</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Specify the padding value </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> Y </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> UV </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> custom pad_mode</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> default values </span><span style="color:var(--shiki-token-function)">are </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-token-constant)">128</span><span style="color:var(--shiki-token-punctuation)">).</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        List of newly inserted function arguments which </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> also the inputs of inserted roi resize op</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Raises</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">ValueError</span><span style="color:var(--shiki-color-text)"> when this argument </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> no longer valid</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Note</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        To avoid the new insertion operator </span><span style="color:var(--shiki-token-keyword)">not</span><span style="color:var(--shiki-color-text)"> running </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> some conversion passes</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> it </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> recommended to call the insert_xxx api before the convert stage</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Example</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">load</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;model.bc&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        res </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_roi_resize</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">            mode </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;nv12&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">            interp_mode </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;nearest&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">            pad_mode </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;constant&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">            pad_value </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)"> (</span><span style="color:var(--shiki-token-constant)">66</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">77</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        )</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="insert_splitself-dim-int" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#insert_splitself-dim-int">#</a><code>insert_split</code>(self, dim int)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Insert split op</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Split a single </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-token-keyword)">/</span><span style="color:var(--shiki-color-text)">output parameter into multiple </span><span style="color:var(--shiki-token-function)">input</span><span style="color:var(--shiki-token-keyword)">/</span><span style="color:var(--shiki-color-text)">output parameters </span><span style="color:var(--shiki-token-keyword)">with</span><span style="color:var(--shiki-color-text)"> a specified dimension of </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">dim </span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">int</span><span style="color:var(--shiki-token-punctuation)">):</span><span style="color:var(--shiki-color-text)"> Dimension along which to split the tensor</span><span style="color:var(--shiki-token-punctuation)">.</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        List of newly inserted function arguments which </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> also the inputs</span><span style="color:var(--shiki-token-keyword)">/</span><span style="color:var(--shiki-color-text)">outputs of inserted concat</span><span style="color:var(--shiki-token-keyword)">/</span><span style="color:var(--shiki-token-constant)">slice</span><span style="color:var(--shiki-color-text)"> op</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Note</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        To avoid the new insertion operator </span><span style="color:var(--shiki-token-keyword)">not</span><span style="color:var(--shiki-color-text)"> running </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> some conversion passes</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> it </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> recommended to call the insert_xxx api before the convert stage</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Raises</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">ValueError</span><span style="color:var(--shiki-color-text)"> when this argument </span><span style="color:var(--shiki-token-keyword)">is</span><span style="color:var(--shiki-color-text)"> no longer valid</span></span>
<span class="line line-number"></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Example</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">load</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;model.bc&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        res </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_split</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="class-hbdk4compileroverlaymodule" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#class-hbdk4compileroverlaymodule">#</a>Class: hbdk4.compiler.overlay.Module</h3>
<h4 id="functionsself---listfunction" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#functionsself---listfunction">#</a><code>functions</code>(self) -&gt; List[Function]</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">all</span><span style="color:var(--shiki-color-text)"> functions </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> module</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        List</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-color-text)">FunctionHelper</span><span style="color:var(--shiki-token-punctuation)">]:</span><span style="color:var(--shiki-color-text)"> function are wrapped </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> FunctionHelper </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> pair </span><span style="color:var(--shiki-token-keyword)">with</span><span style="color:var(--shiki-color-text)"> its symbol name</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="graphsself---listfunction" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#graphsself---listfunction">#</a><code>graphs</code>(self) -&gt; List[Function]</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">all</span><span style="color:var(--shiki-color-text)"> functions </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> module</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Returns</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        List</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-color-text)">FunctionHelper</span><span style="color:var(--shiki-token-punctuation)">]:</span><span style="color:var(--shiki-color-text)"> function are wrapped </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> FunctionHelper </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> pair </span><span style="color:var(--shiki-token-keyword)">with</span><span style="color:var(--shiki-color-text)"> its symbol name</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="class-hbdk4compileroverlayfunction" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#class-hbdk4compileroverlayfunction">#</a>Class: hbdk4.compiler.overlay.Function</h3>
<h4 id="remove_io_opself-op_typesnone-op_namesnone" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#remove_io_opself-op_typesnone-op_namesnone">#</a><code>remove_io_op</code>(self, op_types=None, op_names=None)</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-color-text)">Experimental function to remove nodes </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> the model based on types </span><span style="color:var(--shiki-token-keyword)">or</span><span style="color:var(--shiki-color-text)"> names</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Note</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        Quantize </span><span style="color:var(--shiki-token-keyword)">and</span><span style="color:var(--shiki-color-text)"> Dequantize op should be removed after convert</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Args</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">op_types</span><span style="color:var(--shiki-token-punctuation)">(list[</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-token-keyword)">|</span><span style="color:var(--shiki-token-punctuation)">tuple[</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">]):</span><span style="color:var(--shiki-color-text)"> a </span><span style="color:var(--shiki-token-constant)">list</span><span style="color:var(--shiki-token-keyword)">/</span><span style="color:var(--shiki-token-constant)">tuple</span><span style="color:var(--shiki-color-text)"> of types to remove</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">op_names</span><span style="color:var(--shiki-token-punctuation)">(list[</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-token-keyword)">|</span><span style="color:var(--shiki-token-punctuation)">tuple[</span><span style="color:var(--shiki-token-constant)">str</span><span style="color:var(--shiki-token-punctuation)">]):</span><span style="color:var(--shiki-color-text)"> a </span><span style="color:var(--shiki-token-constant)">list</span><span style="color:var(--shiki-token-keyword)">/</span><span style="color:var(--shiki-token-constant)">tuple</span><span style="color:var(--shiki-color-text)"> of names to remove</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    Example</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">load</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;model.bc&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">        func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">remove_io_op</span><span style="color:var(--shiki-token-punctuation)">([</span><span style="color:var(--shiki-token-string-expression)">&#x27;Dequantize&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-string-expression)">&#x27;Transpose&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-string-expression)">&#x27;Cast&#x27;</span><span style="color:var(--shiki-token-punctuation)">])</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h2 id="hbdk-api-example-usage" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#hbdk-api-example-usage">#</a>hbdk api example usage</h2>
<h3 id="export-model-and-view-model-information" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#export-model-and-view-model-information">#</a>export model and view model information</h3>
<h4 id="onnx" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#onnx">#</a>onnx</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> onnx</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">onnx_model </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> onnx</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">load</span><span style="color:var(--shiki-token-punctuation)">(onnx_path)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">onnx </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> statistics</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># print onnx op list and quantity</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">statistics</span><span style="color:var(--shiki-token-punctuation)">(onnx_model)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">onnx </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> export</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># export onnx to hbir mlir</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># the shape must have already been recorded in onnx proto</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># specify the model name by name, and if default, extract it from onnx proto</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">exported_module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">export</span><span style="color:var(--shiki-token-punctuation)">(onnx_model, name</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&quot;OnnxModel&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;export onnx to hbir mlir successfully&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> statistics</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> visualize</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># print hbir op list and quantity</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">statistics</span><span style="color:var(--shiki-token-punctuation)">(exported_module)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># generate visual model Onnx but do not generate view netron link</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">visualize</span><span style="color:var(--shiki-token-punctuation)">(exported_module)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># generate a netron link to open a browser and view the model</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">visualize</span><span style="color:var(--shiki-token-punctuation)">(exported_module, use_netron</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="serialize-model" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#serialize-model">#</a>serialize model</h3>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> os</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> save</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> load</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># serialize mlir.Module to bytecode</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">save</span><span style="color:var(--shiki-token-punctuation)">(exported_module, </span><span style="color:var(--shiki-token-string-expression)">&quot;converted.bc&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> os</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">path</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">exists</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;converted.bc&quot;</span><span style="color:var(--shiki-token-punctuation)">):</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;save mlir.Module to bytecode successfully&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># deserialize bytecode to mlir.Module</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">restored_module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">load</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;converted.bc&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;load bytecode to mlir.Module successfully&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="fixed-point-model" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#fixed-point-model">#</a>fixed point model</h3>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> convert</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> March</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># convert hbir to backend ir</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">converted_module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">convert</span><span style="color:var(--shiki-token-punctuation)">(exported_module, March.nash_e, advice</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">False</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;convert hbir to backend ir successfully&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># when advice=True, the following op check info will be output</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># op check info like this</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    &quot;backend&quot;: &quot;bpu&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    &quot;loc&quot;: &quot;loc(fused&lt;#hbdk.track&lt;resultMap = [(d0, d1) -&gt; (d0, d1)], resultType = [!qnt.uniform&lt;si8:f32, 0.0024351498577743769&gt;]&gt;&gt;[unknown])&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    &quot;op&quot;: &quot;%12 = \&quot;hbir.reshape\&quot;(%11) &lt;{foldable = true, shape = [12000, 64]}&gt; : (tensor&lt;1x12000x1x64xsi8&gt;) -&gt; tensor&lt;12000x64xsi8&gt;&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    &quot;tensor_names&quot;: [</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        &quot;data_type&quot;: &quot;si8&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        &quot;tensor_name&quot;: &quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    ]</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  },</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    &quot;backend&quot;: &quot;external_cpu&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    &quot;choice_reason&quot;: &quot;hbir.point_pillar_scatter is not currently supported on bpu.hbir.point_pillar_scatter is not currently supported on vpu.&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    &quot;loc&quot;: &quot;loc(fused&lt;#hbdk.track&lt;resultType = [!qnt.uniform&lt;si8:f32, 0.0024351498577743769&gt;]&gt;&gt;[unknown])&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    &quot;op&quot;: &quot;%13 = \&quot;hbir.point_pillar_scatter\&quot;(%12, %coords) &lt;{outShape = [1, 432, 496, 64]}&gt; : (tensor&lt;12000x64xsi8&gt;, tensor&lt;12000x4xsi32&gt;) -&gt; tensor&lt;1x432x496x64xsi8&gt;&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    &quot;tensor_names&quot;: [</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        &quot;data_type&quot;: &quot;si8&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        &quot;tensor_name&quot;: &quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    ]</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="compile-model" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#compile-model">#</a>compile model</h3>
<h4 id="compile-the-model-exported-using-ptqqat" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#compile-the-model-exported-using-ptqqat">#</a>compile the model exported using PTQ/QAT</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> convert</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">compile</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> link</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> March</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">converted_module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">convert</span><span style="color:var(--shiki-token-punctuation)">(exported_module, March.nash_e)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># gen hbm3</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># DEPRECATED: hbm3 will be removed in the future</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;HBM3: compile nash_e mlir&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">compile</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    converted_module, </span><span style="color:var(--shiki-token-string-expression)">&quot;deploy_hbm3.hbm&quot;</span><span style="color:var(--shiki-token-punctuation)">, March.nash_e, </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">, hbdk3_compatible_mode</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">True</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> os</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">path</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">exists</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;deploy_hbm3.hbm&quot;</span><span style="color:var(--shiki-token-punctuation)">):</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;compile nash_e mlir to deploy_hbm3.hbm successfully&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># gen hbm4</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;HBM4: compile nash_e mlir&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># Method 1: compile into HBO first, then link to HBM</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbo </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">compile</span><span style="color:var(--shiki-token-punctuation)">(converted_module, </span><span style="color:var(--shiki-token-string-expression)">&quot;deploy1_hbm4_.hbo&quot;</span><span style="color:var(--shiki-token-punctuation)">, March.nash_e, </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> os</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">path</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">exists</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;deploy1_hbm4_.hbo&quot;</span><span style="color:var(--shiki-token-punctuation)">):</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;compile nash_e mlir to deploy1_hbm4_.hbo successfully&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">link</span><span style="color:var(--shiki-token-punctuation)">([hbo], </span><span style="color:var(--shiki-token-string-expression)">&quot;deploy1_hbm4_.hbm&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> os</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">path</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">exists</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;deploy1_hbm4_.hbm&quot;</span><span style="color:var(--shiki-token-punctuation)">):</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;link hbo to deploy1_hbm4_.hbm successfully&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># Method 2: compile hbm directly</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">compile</span><span style="color:var(--shiki-token-punctuation)">(converted_module, </span><span style="color:var(--shiki-token-string-expression)">&quot;deploy2_hbm4_.hbm&quot;</span><span style="color:var(--shiki-token-punctuation)">, March.nash_e, </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> os</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">path</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">exists</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;deploy2_hbm4_.hbm&quot;</span><span style="color:var(--shiki-token-punctuation)">):</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;compile nash_e mlir to deploy2_hbm4_.hbm successfully&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="package-multiple-models-into-one-hbm" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#package-multiple-models-into-one-hbm">#</a>package multiple models into one HBM</h3>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">compile</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> link</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> March</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">conv_hbo_name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;conv_compiled.hbo&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">conv_hbo </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">compile</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    converted_module_1,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    conv_hbo_name,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    march,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    progress_bar</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    advice</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">0.01</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    balance</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">linear_hbo_name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;linear_compiled.hbo&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">linear_hbo </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">compile</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    converted_module_2,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    linear_hbo_name,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    march,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    progress_bar</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">True</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    advice</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">0.01</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    balance</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm_name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;compiled.hbm&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">link</span><span style="color:var(--shiki-token-punctuation)">([conv_hbo, linear_hbo], hbm_name)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> os</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">path</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">exists</span><span style="color:var(--shiki-token-punctuation)">(hbm_name):</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;link two hbos successfully&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># If multiple HBOs have already been generated and you want to package them into one HBM, you can use the following method</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">hbm </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> Hbo</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbo1 </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">Hbo</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;conv_compiled.hbo&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbo2 </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">Hbo</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;linear_compiled.hbo&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">link</span><span style="color:var(--shiki-token-punctuation)">([hbo1, hbo2], </span><span style="color:var(--shiki-token-string-expression)">&quot;pack.hbm&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> os</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">path</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">exists</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;pack.hbm&quot;</span><span style="color:var(--shiki-token-punctuation)">):</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;link two hbo files successfully&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="model-static-perf" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#model-static-perf">#</a>model static perf</h3>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> os</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> hbm_perf</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># After successful execution, FPS, latency, and DDR data volume information will be printed, and detailed information can be viewed in the generated HTML file</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">hbm_perf</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;deploy.hbm&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> os</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">path</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">exists</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-keyword)">f</span><span style="color:var(--shiki-token-string-expression)">&quot;</span><span style="color:var(--shiki-token-constant)">{</span><span style="color:var(--shiki-token-punctuation)">model_name</span><span style="color:var(--shiki-token-constant)">}</span><span style="color:var(--shiki-token-string-expression)">.html&quot;</span><span style="color:var(--shiki-token-punctuation)">):</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;hbm perf successfully&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="model-inference" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#model-inference">#</a>model inference</h3>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> load</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> Hbm</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> numpy </span><span style="color:var(--shiki-token-keyword)">as</span><span style="color:var(--shiki-color-text)"> np</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbir </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">load</span><span style="color:var(--shiki-token-punctuation)">(bc_path)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">Hbm</span><span style="color:var(--shiki-token-punctuation)">(hbm_path)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># prepare for random input</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">inputs </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-punctuation)">{</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    v</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">name</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> np</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">random</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">rand</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-token-punctuation)">v.type.shape).</span><span style="color:var(--shiki-token-function)">astype</span><span style="color:var(--shiki-token-punctuation)">(v.type.np_dtype)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> v </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> hbir</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">inputs</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">}</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># hbir and Hbm inference</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbir_outputs </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> hbir</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">feed</span><span style="color:var(--shiki-token-punctuation)">(inputs)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm_outputs </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> hbm</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">feed</span><span style="color:var(--shiki-token-punctuation)">(inputs)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># compare Hbir and hbm outputs</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> idx</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> v </span><span style="color:var(--shiki-token-keyword)">in</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">enumerate</span><span style="color:var(--shiki-token-punctuation)">(hbir[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].outputs):</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    hbir_data </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> hbir_outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-color-text)">v</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">name</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    hbm_data </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> hbm_outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-color-text)">v</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">name</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    np</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">testing</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">assert_equal</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        hbm_data,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        hbir_data,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">        </span><span style="color:var(--shiki-token-string-expression)">&quot;output</span><span style="color:var(--shiki-token-constant)">{}</span><span style="color:var(--shiki-token-string-expression)"> -- </span><span style="color:var(--shiki-token-constant)">{}</span><span style="color:var(--shiki-token-string-expression)"> is not equal&quot;</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">format</span><span style="color:var(--shiki-token-punctuation)">(idx, v.name),</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    )</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;All outputs are equal&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="hbir-model-modify" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#hbir-model-modify">#</a>HBIR model modify</h3>
<h4 id="tensor-name-modify" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#tensor-name-modify">#</a>tensor name modify</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> load</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">load</span><span style="color:var(--shiki-token-punctuation)">(bc_path)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># get the corresponding FunctionalHelper for the function</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">functions</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># original func: func @unet_mobilenetv1_cityscapes(tensor&lt;1x3x1024x2048xf32&gt; _input_0) -&gt; tensor&lt;1x1x256x512xsi64&gt; _output_0</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(func)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># modify inputs[0]&#x27;s name</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;modified_name_img&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># modify outputs[0]&#x27;s name</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;modified_name_output&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># modified func:  func @unet_mobilenetv1_cityscapes(tensor&lt;1x3x1024x2048xf32&gt; modified_name_img) -&gt; tensor&lt;1x1x256x512xsi64&gt; modified_name_output</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(func)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="model-desc-modify" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#model-desc-modify">#</a>model desc modify</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> Module</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">mlir_text </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  func.func @model(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0 : tensor&lt;64x4x3xf32&gt;) -&gt; tensor&lt;64x4x3xf32&gt; {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    %1 = &quot;hbir.abs&quot;(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0) : (tensor&lt;64x4x3xf32&gt;) -&gt; tensor&lt;64x4x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    return %1 : tensor&lt;64x4x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> Module</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">parse</span><span style="color:var(--shiki-token-punctuation)">(mlir_text)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># get the corresponding FunctionalHelper for the function</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">functions</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># modify func&#x27;s desc</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">desc </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;model description&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># modify inputs[0]&#x27;s desc</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">desc </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;RGB input&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># modify outputs[0]&#x27;s desc</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">desc </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;gesture&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># model description</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(func.desc)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># RGB input</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(func.inputs[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].desc)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># gesture</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(func.outputs[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].desc)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; modified model</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  func.func @model(%arg0: tensor&lt;64x4x3xf32&gt; {hbir.desc = &quot;RGB input&quot;, hbir.id = 1 : i64, hbir.name = &quot;_input_0&quot;}) -&gt; (tensor&lt;64x4x3xf32&gt; {hbir.desc = &quot;gesture&quot;, hbir.id = -1 : i64, hbir.name = &quot;_output_0&quot;}) attributes {hbir.desc = &quot;model description&quot;} {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %0 = &quot;hbir.abs&quot;(%arg0) : (tensor&lt;64x4x3xf32&gt;) -&gt; tensor&lt;64x4x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    return %0 : tensor&lt;64x4x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(module.module)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="insert-nodes" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#insert-nodes">#</a>insert nodes</h4>
<p class="my-4 leading-7">Note: To avoid the new insertion operator not running in some conversion passes, it is recommended to call the insert_xxx api before the convert stage</p>
<h5 id="insert-pyramid-input" class="title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#insert-pyramid-input">#</a>insert pyramid input</h5>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> Module</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># nv12</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">mlir_text </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  func.func @main(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0: tensor&lt;1x32x32x3xf32&gt;, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1: tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt; {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    %0 = &quot;hbir.conv2d&quot;(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1) &lt;{dilation = [1, 1], groupNum = 1 : i64, pad = [0, 0, 0, 0], stride = [1, 1]}&gt; : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    return %0 : tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> Module</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">parse</span><span style="color:var(--shiki-token-punctuation)">(mlir_text)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">y</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> uv </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_image_convert</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;nv12&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;1x32x32x1xui8&gt; _input_0_y</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(y)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;1x16x16x2xui8&gt; _input_0_uv</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(uv)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; modified model</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  func.func @main(%arg0: tensor&lt;1x32x32x1xui8&gt; {hbir.id = 3 : i64, hbir.name = &quot;_input_0_y&quot;}, %arg1: tensor&lt;1x16x16x2xui8&gt; {hbir.id = 4 : i64, hbir.name = &quot;_input_0_uv&quot;}, %arg2: tensor&lt;4x1x1x3xf32&gt; {hbir.id = 2 : i64, hbir.name = &quot;_input_1&quot;}) -&gt; (tensor&lt;1x32x32x4xf32&gt; {hbir.id = -1 : i64, hbir.name = &quot;_output_0&quot;}) {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %0 = &quot;hbir.image_convert&quot;(%arg0, %arg1) &lt;{mode = #hbdk&lt;ImageConvertMode NV12&gt;}&gt; : (tensor&lt;1x32x32x1xui8&gt;, tensor&lt;1x16x16x2xui8&gt;) -&gt; tensor&lt;1x32x32x3xsi8&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %1 = &quot;hbir.cast_type&quot;(%0) : (tensor&lt;1x32x32x3xsi8&gt;) -&gt; tensor&lt;1x32x32x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %2 = &quot;hbir.conv2d&quot;(%1, %arg2) &lt;{dilation = [1, 1], groupNum = 1 : i64, pad = [0, 0, 0, 0], stride = [1, 1]}&gt; : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    return %2 : tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(module.module)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># gray</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">mlir_text </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">func.func @main(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0: tensor&lt;1x32x32x1xf32&gt;, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1: tensor&lt;4x1x1x1xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt; {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">%0 = &quot;hbir.conv2d&quot;(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1) : (tensor&lt;1x32x32x1xf32&gt;, tensor&lt;4x1x1x1xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">return %0 : tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> Module</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">parse</span><span style="color:var(--shiki-token-punctuation)">(mlir_text)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">y </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_image_convert</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;gray&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;1x32x32x1xui8&gt; _input_0_y</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(y)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; modified model</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  func.func @main(%arg0: tensor&lt;1x32x32x1xui8&gt; {hbir.id = 3 : i64, hbir.name = &quot;_input_0_y&quot;}, %arg1: tensor&lt;4x1x1x1xf32&gt; {hbir.id = 2 : i64, hbir.name = &quot;_input_1&quot;}) -&gt; (tensor&lt;1x32x32x4xf32&gt; {hbir.id = -1 : i64, hbir.name = &quot;_output_0&quot;}) {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %0 = &quot;hbir.image_convert&quot;(%arg0) &lt;{mode = #hbdk&lt;ImageConvertMode GRAY&gt;}&gt; : (tensor&lt;1x32x32x1xui8&gt;) -&gt; tensor&lt;1x32x32x1xsi8&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %1 = &quot;hbir.cast_type&quot;(%0) : (tensor&lt;1x32x32x1xsi8&gt;) -&gt; tensor&lt;1x32x32x1xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %2 = &quot;hbir.conv2d&quot;(%1, %arg1) &lt;{dilation = [1, 1], groupNum = 1 : i64, pad = [0, 0, 0, 0], stride = [1, 1]}&gt; : (tensor&lt;1x32x32x1xf32&gt;, tensor&lt;4x1x1x1xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    return %2 : tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(module.module)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h5 id="insert-image-preprocess" class="title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#insert-image-preprocess">#</a>insert image preprocess</h5>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> Module</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">mlir_text </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    func.func @main(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0: tensor&lt;1x32x32x3xf32&gt;, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1: tensor&lt;1x32x32x3xf32&gt;) -&gt; (tensor&lt;1x32x32x4xf32&gt;, tensor&lt;1x32x32x4xf32&gt;) {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    %0 = &quot;hbir.constant&quot;() &lt;{values = dense&lt;3.&gt; : tensor&lt;4x1x1x3xf32&gt;}&gt; : () -&gt; tensor&lt;4x1x1x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    %1 = &quot;hbir.conv2d&quot;(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0, %0) : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    %2 = &quot;hbir.constant&quot;() &lt;{values = dense&lt;4.&gt; : tensor&lt;4x1x1x3xf32&gt;}&gt; : () -&gt; tensor&lt;4x1x1x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    %3 = &quot;hbir.conv2d&quot;(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1, %2) : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    return %1, %3 : tensor&lt;1x32x32x4xf32&gt;, tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> Module</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">parse</span><span style="color:var(--shiki-token-punctuation)">(mlir_text)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;img1&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;img2&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;pred1&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;pred2&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">desc </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;This is yuv&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">node_0 </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_image_preprocess</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    mode</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">None</span><span style="color:var(--shiki-token-punctuation)">, divisor</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">, mean</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0.485</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.456</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.406</span><span style="color:var(--shiki-token-punctuation)">], std</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0.229</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.224</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.225</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;1x32x32x3xsi8&gt; img2</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(node_0)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">yuv </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_image_preprocess</span><span style="color:var(--shiki-token-punctuation)">(</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    mode</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&quot;yuvbt601full2rgb&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    divisor</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">255</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    mean</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0.485</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.456</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.406</span><span style="color:var(--shiki-token-punctuation)">],</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">    std</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0.229</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.224</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0.225</span><span style="color:var(--shiki-token-punctuation)">],</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;1x32x32x3xsi8&gt; img1</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(yuv)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; modified model</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  func.func @main(%arg0: tensor&lt;1x32x32x3xsi8&gt; {hbir.desc = &quot;This is yuv&quot;, hbir.id = 4 : i64, hbir.name = &quot;img1&quot;}, %arg1: tensor&lt;1x32x32x3xsi8&gt; {hbir.id = 3 : i64, hbir.name = &quot;img2&quot;}) -&gt; (tensor&lt;1x32x32x4xf32&gt; {hbir.id = -1 : i64, hbir.name = &quot;pred1&quot;}, tensor&lt;1x32x32x4xf32&gt; {hbir.id = -2 : i64, hbir.name = &quot;pred2&quot;}) {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %0 = &quot;hbir.image_preprocess&quot;(%arg0) &lt;{csc = #hbdk&lt;CSCMode YUVBT601FULL2RGB&gt;, divisor = 255 : i64, mean = [4.850000e-01, 4.560000e-01, 4.060000e-01], sd = [2.290000e-01, 2.240000e-01, 2.250000e-01]}&gt; : (tensor&lt;1x32x32x3xsi8&gt;) -&gt; tensor&lt;1x32x32x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %1 = &quot;hbir.image_preprocess&quot;(%arg1) &lt;{csc = #hbdk&lt;CSCMode NONE&gt;, divisor = 1 : i64, mean = [4.850000e-01, 4.560000e-01, 4.060000e-01], sd = [2.290000e-01, 2.240000e-01, 2.250000e-01]}&gt; : (tensor&lt;1x32x32x3xsi8&gt;) -&gt; tensor&lt;1x32x32x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %2 = &quot;hbir.constant&quot;() &lt;{values = dense&lt;3.000000e+00&gt; : tensor&lt;4x1x1x3xf32&gt;}&gt; : () -&gt; tensor&lt;4x1x1x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %3 = &quot;hbir.conv2d&quot;(%0, %2) &lt;{dilation = [1, 1], groupNum = 1 : i64, pad = [0, 0, 0, 0], stride = [1, 1]}&gt; : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %4 = &quot;hbir.constant&quot;() &lt;{values = dense&lt;4.000000e+00&gt; : tensor&lt;4x1x1x3xf32&gt;}&gt; : () -&gt; tensor&lt;4x1x1x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %5 = &quot;hbir.conv2d&quot;(%1, %4) &lt;{dilation = [1, 1], groupNum = 1 : i64, pad = [0, 0, 0, 0], stride = [1, 1]}&gt; : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    return %3, %5 : tensor&lt;1x32x32x4xf32&gt;, tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(module.module)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h5 id="insert-roi-resize" class="title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#insert-roi-resize">#</a>insert roi resize</h5>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> Module</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">mlir_text </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">func.func @main(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0: tensor&lt;1x32x32x3xf32&gt;, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1: tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt; {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  %0 = &quot;hbir.conv2d&quot;(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1) : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  return %0 : tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> Module</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">parse</span><span style="color:var(--shiki-token-punctuation)">(mlir_text)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;img&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">desc </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;test&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;weight&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;pred&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">y</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> uv</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> roi </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_roi_resize</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;nv12&quot;</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;1x8192x8192x1xui8&gt; img_y</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(y)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;1x4096x4096x2xui8&gt; img_uv</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(uv)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;1x4xsi32&gt; img_roi</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(roi)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; modified model</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  func.func @main(%arg0: tensor&lt;1x8192x8192x1xui8, {dynamic_dims = [-2, -3]}&gt; {hbir.desc = &quot;test&quot;, hbir.id = 3 : i64, hbir.name = &quot;img_y&quot;}, %arg1: tensor&lt;1x4096x4096x2xui8, {dynamic_dims = [-2, -3]}&gt; {hbir.desc = &quot;test&quot;, hbir.id = 4 : i64, hbir.name = &quot;img_uv&quot;}, %arg2: tensor&lt;1x4xsi32&gt; {hbir.desc = &quot;test&quot;, hbir.id = 5 : i64, hbir.name = &quot;img_roi&quot;}, %arg3: tensor&lt;4x1x1x3xf32&gt; {hbir.id = 2 : i64, hbir.name = &quot;weight&quot;}) -&gt; (tensor&lt;1x32x32x4xf32&gt; {hbir.id = -1 : i64, hbir.name = &quot;pred&quot;}) {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %0 = &quot;hbir.roi_resize&quot;(%arg0, %arg1, %arg2) &lt;{expansionMode = #hbdk&lt;ExpansionMode constant&gt;, interpolateMode = #hbdk&lt;InterpolationMode bilinear&gt;, mode = #hbdk&lt;ImageConvertMode NV12&gt;, padValue = [0, -128], size = [32, 32]}&gt; : (tensor&lt;1x8192x8192x1xui8, {dynamic_dims = [-2, -3]}&gt;, tensor&lt;1x4096x4096x2xui8, {dynamic_dims = [-2, -3]}&gt;, tensor&lt;1x4xsi32&gt;) -&gt; tensor&lt;1x32x32x3xsi8&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %1 = &quot;hbir.cast_type&quot;(%0) : (tensor&lt;1x32x32x3xsi8&gt;) -&gt; tensor&lt;1x32x32x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %2 = &quot;hbir.conv2d&quot;(%1, %arg3) &lt;{dilation = [1, 1], groupNum = 1 : i64, pad = [0, 0, 0, 0], stride = [1, 1]}&gt; : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    return %2 : tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(module.module)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h5 id="insert-transpose" class="title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#insert-transpose">#</a>insert transpose</h5>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> Module</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">mlir_text </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">func.func @main(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0: tensor&lt;1x32x32x3xf32&gt;, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1: tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt; {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  %0 = &quot;hbir.conv2d&quot;(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1) : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  return %0 : tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> Module</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">parse</span><span style="color:var(--shiki-token-punctuation)">(mlir_text)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;img&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">desc </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;in&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;weight&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;pred&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">desc </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;out&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; modified model</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  func.func @main(%arg0: tensor&lt;1x32x32x3xf32&gt; {hbir.desc = &quot;in&quot;, hbir.id = 1 : i64, hbir.name = &quot;img&quot;}, %arg1: tensor&lt;4x1x1x3xf32&gt; {hbir.id = 2 : i64, hbir.name = &quot;weight&quot;}) -&gt; (tensor&lt;1x32x32x4xf32&gt; {hbir.desc = &quot;out&quot;, hbir.id = -1 : i64, hbir.name = &quot;pred&quot;}) {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %0 = &quot;hbir.conv2d&quot;(%arg0, %arg1) &lt;{dilation = [1, 1], groupNum = 1 : i64, pad = [0, 0, 0, 0], stride = [1, 1]}&gt; : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    return %0 : tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(module.module)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">in_node </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_transpose</span><span style="color:var(--shiki-token-punctuation)">([</span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">3</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">])</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;32x3x1x32xf32&gt; img</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(in_node)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">out_node </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_transpose</span><span style="color:var(--shiki-token-punctuation)">([</span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">3</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">, </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">])</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;32x4x32x1xf32&gt; pred</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(out_node)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; modified model</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  func.func @main(%arg0: tensor&lt;32x3x1x32xf32&gt; {hbir.desc = &quot;in&quot;, hbir.id = 3 : i64, hbir.name = &quot;img&quot;}, %arg1: tensor&lt;4x1x1x3xf32&gt; {hbir.id = 2 : i64, hbir.name = &quot;weight&quot;}) -&gt; (tensor&lt;32x4x32x1xf32&gt; {hbir.desc = &quot;out&quot;, hbir.id = -2 : i64, hbir.name = &quot;pred&quot;}) {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %0 = &quot;hbir.transpose&quot;(%arg0) &lt;{dims = [2, 3, 0, 1]}&gt; : (tensor&lt;32x3x1x32xf32&gt;) -&gt; tensor&lt;1x32x32x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %1 = &quot;hbir.conv2d&quot;(%0, %arg1) &lt;{dilation = [1, 1], groupNum = 1 : i64, pad = [0, 0, 0, 0], stride = [1, 1]}&gt; : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %2 = &quot;hbir.transpose&quot;(%1) &lt;{dims = [2, 3, 1, 0]}&gt; : (tensor&lt;1x32x32x4xf32&gt;) -&gt; tensor&lt;32x4x32x1xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    return %2 : tensor&lt;32x4x32x1xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(module.module)</span></span>
<span class="line line-number"></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h5 id="insert-split" class="title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#insert-split">#</a>insert split</h5>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> Module</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">mlir_text </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">func.func @main(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0: tensor&lt;1x32x32x3xf32&gt;, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1: tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt; {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  %0 = &quot;hbir.conv2d&quot;(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1) : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  return %0 : tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> Module</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">parse</span><span style="color:var(--shiki-token-punctuation)">(mlir_text)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">]</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;img&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">desc </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;its img&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;weight&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">desc </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;its weight&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;pred&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">desc </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;its out&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># func @main(tensor&lt;1x32x32x3xf32&gt; img, tensor&lt;4x1x1x3xf32&gt; weight) -&gt; tensor&lt;1x32x32x4xf32&gt; pred</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(module)</span></span>
<span class="line line-number"></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># Split the dimension 0 of the input parameter into multiple input parameters</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">res_list </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_split</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;1x1x1x3xf32&gt; weight_0</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(res_list[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">])</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; modified model</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  func.func @main(%arg0: tensor&lt;1x32x32x3xf32&gt; {hbir.desc = &quot;its img&quot;, hbir.id = 1 : i64, hbir.name = &quot;img&quot;}, %arg1: tensor&lt;1x1x1x3xf32&gt; {hbir.desc = &quot;its weight&quot;, hbir.id = 3 : i64, hbir.name = &quot;weight_0&quot;}, %arg2: tensor&lt;1x1x1x3xf32&gt; {hbir.desc = &quot;its weight&quot;, hbir.id = 4 : i64, hbir.name = &quot;weight_1&quot;}, %arg3: tensor&lt;1x1x1x3xf32&gt; {hbir.desc = &quot;its weight&quot;, hbir.id = 5 : i64, hbir.name = &quot;weight_2&quot;}, %arg4: tensor&lt;1x1x1x3xf32&gt; {hbir.desc = &quot;its weight&quot;, hbir.id = 6 : i64, hbir.name = &quot;weight_3&quot;}) -&gt; (tensor&lt;1x32x32x4xf32&gt; {hbir.desc = &quot;its out&quot;, hbir.id = -1 : i64, hbir.name = &quot;pred&quot;}) {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %0 = &quot;hbir.concat&quot;(%arg1, %arg2, %arg3, %arg4) &lt;{dim = 0 : i64}&gt; : (tensor&lt;1x1x1x3xf32&gt;, tensor&lt;1x1x1x3xf32&gt;, tensor&lt;1x1x1x3xf32&gt;, tensor&lt;1x1x1x3xf32&gt;) -&gt; tensor&lt;4x1x1x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %1 = &quot;hbir.conv2d&quot;(%arg0, %0) &lt;{dilation = [1, 1], groupNum = 1 : i64, pad = [0, 0, 0, 0], stride = [1, 1]}&gt; : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    return %1 : tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(module.module)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">res_list_1 </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> func</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">insert_split</span><span style="color:var(--shiki-token-punctuation)">(</span><span style="color:var(--shiki-token-constant)">3</span><span style="color:var(--shiki-token-punctuation)">)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># tensor&lt;1x32x32x1xf32&gt; pred_0</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(res_list_1[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">])</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; modified model</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  func.func @main(%arg0: tensor&lt;1x32x32x3xf32&gt; {hbir.desc = &quot;its img&quot;, hbir.id = 1 : i64, hbir.name = &quot;img&quot;}, %arg1: tensor&lt;1x1x1x3xf32&gt; {hbir.desc = &quot;its weight&quot;, hbir.id = 3 : i64, hbir.name = &quot;weight_0&quot;}, %arg2: tensor&lt;1x1x1x3xf32&gt; {hbir.desc = &quot;its weight&quot;, hbir.id = 4 : i64, hbir.name = &quot;weight_1&quot;}, %arg3: tensor&lt;1x1x1x3xf32&gt; {hbir.desc = &quot;its weight&quot;, hbir.id = 5 : i64, hbir.name = &quot;weight_2&quot;}, %arg4: tensor&lt;1x1x1x3xf32&gt; {hbir.desc = &quot;its weight&quot;, hbir.id = 6 : i64, hbir.name = &quot;weight_3&quot;}) -&gt; (tensor&lt;1x32x32x1xf32&gt; {hbir.desc = &quot;its out&quot;, hbir.id = -2 : i64, hbir.name = &quot;pred_0&quot;}, tensor&lt;1x32x32x1xf32&gt; {hbir.desc = &quot;its out&quot;, hbir.id = -3 : i64, hbir.name = &quot;pred_1&quot;}, tensor&lt;1x32x32x1xf32&gt; {hbir.desc = &quot;its out&quot;, hbir.id = -4 : i64, hbir.name = &quot;pred_2&quot;}, tensor&lt;1x32x32x1xf32&gt; {hbir.desc = &quot;its out&quot;, hbir.id = -5 : i64, hbir.name = &quot;pred_3&quot;}) {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %0 = &quot;hbir.concat&quot;(%arg1, %arg2, %arg3, %arg4) &lt;{dim = 0 : i64}&gt; : (tensor&lt;1x1x1x3xf32&gt;, tensor&lt;1x1x1x3xf32&gt;, tensor&lt;1x1x1x3xf32&gt;, tensor&lt;1x1x1x3xf32&gt;) -&gt; tensor&lt;4x1x1x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %1 = &quot;hbir.conv2d&quot;(%arg0, %0) &lt;{dilation = [1, 1], groupNum = 1 : i64, pad = [0, 0, 0, 0], stride = [1, 1]}&gt; : (tensor&lt;1x32x32x3xf32&gt;, tensor&lt;4x1x1x3xf32&gt;) -&gt; tensor&lt;1x32x32x4xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %2 = &quot;hbir.slice&quot;(%1) &lt;{begin = [0, 0, 0, 0], end = [1, 32, 32, 1], foldable = false, step = [1, 1, 1, 1]}&gt; : (tensor&lt;1x32x32x4xf32&gt;) -&gt; tensor&lt;1x32x32x1xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %3 = &quot;hbir.slice&quot;(%1) &lt;{begin = [0, 0, 0, 1], end = [1, 32, 32, 2], foldable = false, step = [1, 1, 1, 1]}&gt; : (tensor&lt;1x32x32x4xf32&gt;) -&gt; tensor&lt;1x32x32x1xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %4 = &quot;hbir.slice&quot;(%1) &lt;{begin = [0, 0, 0, 2], end = [1, 32, 32, 3], foldable = false, step = [1, 1, 1, 1]}&gt; : (tensor&lt;1x32x32x4xf32&gt;) -&gt; tensor&lt;1x32x32x1xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %5 = &quot;hbir.slice&quot;(%1) &lt;{begin = [0, 0, 0, 3], end = [1, 32, 32, 4], foldable = false, step = [1, 1, 1, 1]}&gt; : (tensor&lt;1x32x32x4xf32&gt;) -&gt; tensor&lt;1x32x32x1xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    return %2, %3, %4, %5 : tensor&lt;1x32x32x1xf32&gt;, tensor&lt;1x32x32x1xf32&gt;, tensor&lt;1x32x32x1xf32&gt;, tensor&lt;1x32x32x1xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(module.module)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h4 id="remove-adjacent-nodes-in-the-input-and-output-of-the-model" class="mt-8 leading-6 text-lg title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#remove-adjacent-nodes-in-the-input-and-output-of-the-model">#</a>remove adjacent nodes in the input and output of the model</h4>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> Module</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">mlir_text </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  func.func @model(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0 : tensor&lt;64x4x3xf32&gt;, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1 : tensor&lt;64x4x3xf32&gt;) -&gt; tensor&lt;64x4x3xf32&gt; {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    %0 = &quot;hbir.add&quot;(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0, </span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg1) : (tensor&lt;64x4x3xf32&gt;, tensor&lt;64x4x3xf32&gt;) -&gt; tensor&lt;64x4x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    %1 = &quot;hbir.mul&quot;(</span><span style="color:var(--shiki-token-constant)">%a</span><span style="color:var(--shiki-token-string-expression)">rg0, %0) : (tensor&lt;64x4x3xf32&gt;, tensor&lt;64x4x3xf32&gt;) -&gt; tensor&lt;64x4x3xf32&gt;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    %2 = &quot;hbir.abs&quot;(%1) : (tensor&lt;64x4x3xf32&gt;) -&gt; tensor&lt;64x4x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">    return %2 : tensor&lt;64x4x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-string-expression)">&quot;&quot;&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">module </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> Module</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">parse</span><span style="color:var(--shiki-token-punctuation)">(mlir_text)</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">removable</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> reason </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">is_removable</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># False</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(removable)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># &#x27;_input_0 has multiple uses. cannot remove.&#x27;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(reason)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">removable</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> reason </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">inputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">is_removable</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># False</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(removable)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># &#x27;%0 = &quot;hbir.add&quot;(%arg0, %arg1) : (tensor&lt;64x4x3xf32&gt;, tensor&lt;64x4x3xf32&gt;) -&gt; tensor&lt;64x4x3xf32&gt; loc(&quot;-&quot;:4:10) is not a single input and single output op&#x27;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(reason)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">removable</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> reason </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">is_removable</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># True</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(removable)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># &#x27;&#x27;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(reason)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">res </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> module</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-color-text)">outputs</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">].</span><span style="color:var(--shiki-token-function)">remove_attached_op</span><span style="color:var(--shiki-token-punctuation)">()</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># (True, &#x27;&#x27;)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(res)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; modified model</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">module {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  func.func @model(%arg0: tensor&lt;64x4x3xf32&gt; {hbir.id = 1 : i64, hbir.name = &quot;_input_0&quot;}, %arg1: tensor&lt;64x4x3xf32&gt; {hbir.id = 2 : i64, hbir.name = &quot;_input_1&quot;}) -&gt; (tensor&lt;64x4x3xf32&gt; {hbir.id = -2 : i64, hbir.name = &quot;_output_0&quot;}) {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %0 = &quot;hbir.add&quot;(%arg0, %arg1) : (tensor&lt;64x4x3xf32&gt;, tensor&lt;64x4x3xf32&gt;) -&gt; tensor&lt;64x4x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    %1 = &quot;hbir.mul&quot;(%arg0, %0) : (tensor&lt;64x4x3xf32&gt;, tensor&lt;64x4x3xf32&gt;) -&gt; tensor&lt;64x4x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    return %1 : tensor&lt;64x4x3xf32&gt;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(module.module)</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div>
<h3 id="hbm-modify" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#hbm-modify">#</a>HBM modify</h3>
<div class="shiki css-variables has-line-number"><div class="rspress-code-content rspress-scrollbar"><div class="language-python"><div class="rspress-code-content rspress-scrollbar"><div><code class="language-python" meta=""><span class="line line-number"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> json</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> hbdk4</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">compiler </span><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> hbm_extract_desc</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> hbm_update_desc</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm4_model_name </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;hbm4_model.hbm&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># step1: get hbm desc dict</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm4_desc_dict </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">hbm_extract_desc</span><span style="color:var(--shiki-token-punctuation)">(hbm4_model_name)</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; original hbm desc</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">{</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  &quot;march&quot;: &quot;NashE&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  &quot;models&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    &quot;hbm4_model&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      &quot;desc&quot;: &quot;&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      &quot;desc_type&quot;: &quot;string&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      &quot;input_features&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        &quot;input_0&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc&quot;: &quot;&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc_type&quot;: &quot;string&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        },</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        &quot;input_1&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc&quot;: &quot;&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc_type&quot;: &quot;string&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      },</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      &quot;output_features&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        &quot;output_0&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc&quot;: &quot;&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc_type&quot;: &quot;string&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(json.</span><span style="color:var(--shiki-token-function)">dumps</span><span style="color:var(--shiki-token-punctuation)">(hbm4_desc_dict, indent</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-token-punctuation)">))</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># step2: modify hbm desc dict</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># adjust name and description information</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># graph desc/name modification</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm4_desc_dict</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;models&quot;</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;hbm4_model&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;desc&quot;</span><span style="color:var(--shiki-color-text)">] </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;set_new_graph_desc&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm4_desc_dict</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;models&quot;</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;hbm4_model&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;new_name&quot;</span><span style="color:var(--shiki-color-text)">] </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;set_new_graph_name&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># input desc/name modification</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm4_desc_dict</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;models&quot;</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;hbm4_model&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;input_features&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;input_0&quot;</span><span style="color:var(--shiki-color-text)">][</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string-expression)">&quot;desc&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">] </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;set_new_input_desc&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm4_desc_dict</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;models&quot;</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;hbm4_model&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;input_features&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;input_0&quot;</span><span style="color:var(--shiki-color-text)">][</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string-expression)">&quot;desc_type&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">] </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;string&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm4_desc_dict</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;models&quot;</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;hbm4_model&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;input_features&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;input_0&quot;</span><span style="color:var(--shiki-color-text)">][</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string-expression)">&quot;new_name&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">] </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;set_new_input_name&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># output desc/name modification</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm4_desc_dict</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;models&quot;</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;hbm4_model&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;output_features&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;output_0&quot;</span><span style="color:var(--shiki-color-text)">][</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string-expression)">&quot;desc&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">] </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;set_new_output_desc&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm4_desc_dict</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;models&quot;</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;hbm4_model&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;output_features&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;output_0&quot;</span><span style="color:var(--shiki-color-text)">][</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string-expression)">&quot;desc_type&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">] </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;string&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">hbm4_desc_dict</span><span style="color:var(--shiki-token-punctuation)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;models&quot;</span><span style="color:var(--shiki-token-punctuation)">]</span><span style="color:var(--shiki-color-text)">[</span><span style="color:var(--shiki-token-string-expression)">&quot;hbm4_model&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;output_features&quot;</span><span style="color:var(--shiki-color-text)">][</span><span style="color:var(--shiki-token-string-expression)">&quot;output_0&quot;</span><span style="color:var(--shiki-color-text)">][</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string-expression)">&quot;new_name&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">] </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;set_new_output_name&quot;</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)"># step3: update model file</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">hbm_update_desc</span><span style="color:var(--shiki-token-punctuation)">(hbm4_model_name, hbm4_desc_dict)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-color-text)">new_hbm4_desc_dict </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">hbm_extract_desc</span><span style="color:var(--shiki-token-punctuation)">(hbm4_model_name)</span></span>
<span class="line line-number"></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot; new hbm desc</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">{</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  &quot;march&quot;: &quot;NashE&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  &quot;models&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    &quot;set_new_graph_name&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      &quot;desc&quot;: &quot;set_new_graph_desc&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      &quot;desc_type&quot;: &quot;string&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      &quot;input_features&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        &quot;input_1&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc&quot;: &quot;&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc_type&quot;: &quot;string&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        },</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        &quot;set_new_input_name&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc&quot;: &quot;set_new_input_desc&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc_type&quot;: &quot;string&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      },</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      &quot;output_features&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        &quot;set_new_output_name&quot;: {</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc&quot;: &quot;set_new_output_desc&quot;,</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">          &quot;desc_type&quot;: &quot;string&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">        }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">      }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">    }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">  }</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">}</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line line-number"><span style="color:var(--shiki-token-function)">print</span><span style="color:var(--shiki-token-punctuation)">(json.</span><span style="color:var(--shiki-token-function)">dumps</span><span style="color:var(--shiki-token-punctuation)">(new_hbm4_desc_dict, indent</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-token-punctuation)">))</span></span>
</code></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div></div></div><!--/$--></div><div class="rspress-doc-footer"><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"></div><div class="flex flex-col"></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_e7091 flex flex-col"><a class="link_03735 pager-link_9b9a7 cursor-pointer" target="" href="/guide/advanced_content/hmct_api_reference/check_model.html"><span class="desc_9b9a7">上一页</span><span class="title_9b9a7">hmct.api.check_model</span></a></div><div class="next_e7091 flex flex-col"><a class="link_03735 pager-link_9b9a7 next_9b9a7 cursor-pointer" target="" href="/guide/benchmark.html"><span class="desc_9b9a7">下一页</span><span class="title_9b9a7">模型性能Benchmark</span></a></div></div></footer></div></div></div><div class="aside-container_edeb4"><div><div class="flex flex-col"><div class="&lt;lg:hidden"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">页面目录</div><nav class="mt-1"><ul class="relative"><li><a href="#hbdk-api-introduction" title="hbdk api introduction" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">hbdk api introduction</span></a></li><li><a href="#module-hbdk4compileronnx" title="Module: hbdk4.compiler.onnx" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">Module: hbdk4.compiler.onnx</span></a></li><li><a href="#exportproto-onnxmodelproto--name-optionalstr--none---module" title="export(proto onnx.ModelProto, *, name Optional[str] = None) -&gt; Module" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>export</code>(proto onnx.ModelProto, *, name Optional[str] = None) -&gt; Module</span></a></li><li><a href="#statisticsproto-onnxmodelproto" title="statistics(proto onnx.ModelProto)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>statistics</code>(proto onnx.ModelProto)</span></a></li><li><a href="#module-hbdk4compilertorch" title="Module: hbdk4.compiler.torch" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">Module: hbdk4.compiler.torch</span></a></li><li><a href="#export-jit-torchjitscriptmodule-example_input-any--name-optionalstr--none-input_names-liststr--none-output_names-liststr--none-lower_non_tensor-bool--true---module" title="export( jit torch.jit.ScriptModule, example_input Any, *, name Optional[str] = None, input_names List[str] = None, output_names List[str] = None, lower_non_tensor bool = True) -&gt; Module" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>export</code>( jit torch.jit.ScriptModule, example_input Any, *, name Optional[str] = None, input_names List[str] = None, output_names List[str] = None, lower_non_tensor bool = True) -&gt; Module</span></a></li><li><a href="#statisticsjit-torchjitscriptmodule-example_input-any" title="statistics(jit torch.jit.ScriptModule, example_input Any)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>statistics</code>(jit torch.jit.ScriptModule, example_input Any)</span></a></li><li><a href="#module-hbdk4compilerapis" title="Module: hbdk4.compiler.apis" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">Module: hbdk4.compiler.apis</span></a></li><li><a href="#loadpath-str---module" title="load(path str) -&gt; Module" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>load</code>(path str) -&gt; Module</span></a></li><li><a href="#savem-module-path-str---none" title="save(m Module, path str) -&gt; None" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>save</code>(m Module, path str) -&gt; None</span></a></li><li><a href="#convert-m-module-march-unionmarchbase-str-advicefalse-advice_path-kwargs---module" title="convert( m Module, march Union[MarchBase, str], advice=False, advice_path=&quot;&quot;, **kwargs) -&gt; Module" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>convert</code>( m Module, march Union[MarchBase, str], advice=False, advice_path=&quot;&quot;, **kwargs) -&gt; Module</span></a></li><li><a href="#statisticsm-module---list" title="statistics(m Module) -&gt; list" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>statistics</code>(m Module) -&gt; list</span></a></li><li><a href="#linkhbo_list-listhbo-output_path-str-desc-optionalstr--none" title="link(hbo_list List[Hbo], output_path str, desc Optional[str] = None)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>link</code>(hbo_list List[Hbo], output_path str, desc Optional[str] = None)</span></a></li><li><a href="#compile-m-module-path-str-march-unionmarchbase-str-opt-int--2-jobs-int--4-max_time_per_fc-float--00-debug-bool--false-hbdk3_compatible_mode-bool--false-progress_bar-bool--false-advice-float--00-balance-int--100-input_no_padding-bool--false-output_no_padding-bool--false---unionhbm-hbo" title="compile( m Module, path str, march Union[MarchBase, str], opt int = 2, jobs int = 4, max_time_per_fc float = 0.0, debug bool = False, hbdk3_compatible_mode bool = False, progress_bar bool = False, advice float = 0.0, balance int = 100, input_no_padding bool = False, output_no_padding bool = False) -&gt; Union[Hbm, Hbo]" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>compile</code>( m Module, path str, march Union[MarchBase, str], opt int = 2, jobs int = 4, max_time_per_fc float = 0.0, debug bool = False, hbdk3_compatible_mode bool = False, progress_bar bool = False, advice float = 0.0, balance int = 100, input_no_padding bool = False, output_no_padding bool = False) -&gt; Union[Hbm, Hbo]</span></a></li><li><a href="#visualize-m-module-onnx_file-optionalstr--none-use_netron-optionalbool--false" title="visualize( m Module, onnx_file Optional[str] = None, use_netron Optional[bool] = False)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>visualize</code>( m Module, onnx_file Optional[str] = None, use_netron Optional[bool] = False)</span></a></li><li><a href="#module-hbdk4compilerhbm_tools" title="Module: hbdk4.compiler.hbm_tools" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">Module: hbdk4.compiler.hbm_tools</span></a></li><li><a href="#hbm_extract_descmodel-str---dict" title="hbm_extract_desc(model str) -&gt; dict" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>hbm_extract_desc</code>(model str) -&gt; dict</span></a></li><li><a href="#hbm_update_descmodel-str-desc_dict-dict" title="hbm_update_desc(model str, desc_dict dict)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>hbm_update_desc</code>(model str, desc_dict dict)</span></a></li><li><a href="#hbm_perfmodel-str-output_dir-str--none" title="hbm_perf(model str, output_dir str = None)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>hbm_perf</code>(model str, output_dir str = None)</span></a></li><li><a href="#class-hbdk4compileroverlayargument" title="Class: hbdk4.compiler.overlay.Argument" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">Class: hbdk4.compiler.overlay.Argument</span></a></li><li><a href="#is_removableself---tuple" title="is_removable(self) -&gt; Tuple" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>is_removable</code>(self) -&gt; Tuple</span></a></li><li><a href="#get_attached_opself---listoperation" title="get_attached_op(self) -&gt; List[Operation]" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>get_attached_op</code>(self) -&gt; List[Operation]</span></a></li><li><a href="#remove_attached_opself" title="remove_attached_op(self)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>remove_attached_op</code>(self)</span></a></li><li><a href="#eraseself" title="erase(self)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>erase</code>(self)</span></a></li><li><a href="#insert_transposeself-permutes-listint" title="insert_transpose(self, permutes List[int])" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>insert_transpose</code>(self, permutes List[int])</span></a></li><li><a href="#insert_image_convertself-mode-str--nv12" title="insert_image_convert(self, mode str = &quot;nv12&quot;)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>insert_image_convert</code>(self, mode str = &quot;nv12&quot;)</span></a></li><li><a href="#insert_image_preprocess-self-mode-str-divisor-int-mean-listfloat-std-listfloat-is_signed-bool--true" title="insert_image_preprocess( self, mode str, divisor int, mean List[float], std List[float], is_signed bool = True)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>insert_image_preprocess</code>( self, mode str, divisor int, mean List[float], std List[float], is_signed bool = True)</span></a></li><li><a href="#insert_roi_resize-self-mode-str-interp_modebilinear-pad_modeconstant-pad_value-optionaltuple--0--128" title="insert_roi_resize( self, mode str, interp_mode=&quot;bilinear&quot;, pad_mode=&quot;constant&quot;, pad_value Optional[tuple] = (0, -128))" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>insert_roi_resize</code>( self, mode str, interp_mode=&quot;bilinear&quot;, pad_mode=&quot;constant&quot;, pad_value Optional[tuple] = (0, -128))</span></a></li><li><a href="#insert_splitself-dim-int" title="insert_split(self, dim int)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>insert_split</code>(self, dim int)</span></a></li><li><a href="#class-hbdk4compileroverlaymodule" title="Class: hbdk4.compiler.overlay.Module" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">Class: hbdk4.compiler.overlay.Module</span></a></li><li><a href="#functionsself---listfunction" title="functions(self) -&gt; List[Function]" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>functions</code>(self) -&gt; List[Function]</span></a></li><li><a href="#graphsself---listfunction" title="graphs(self) -&gt; List[Function]" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>graphs</code>(self) -&gt; List[Function]</span></a></li><li><a href="#class-hbdk4compileroverlayfunction" title="Class: hbdk4.compiler.overlay.Function" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">Class: hbdk4.compiler.overlay.Function</span></a></li><li><a href="#remove_io_opself-op_typesnone-op_namesnone" title="remove_io_op(self, op_types=None, op_names=None)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block"><code>remove_io_op</code>(self, op_types=None, op_names=None)</span></a></li><li><a href="#hbdk-api-example-usage" title="hbdk api example usage" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">hbdk api example usage</span></a></li><li><a href="#export-model-and-view-model-information" title="export model and view model information" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">export model and view model information</span></a></li><li><a href="#onnx" title="onnx" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block">onnx</span></a></li><li><a href="#serialize-model" title="serialize model" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">serialize model</span></a></li><li><a href="#fixed-point-model" title="fixed point model" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">fixed point model</span></a></li><li><a href="#compile-model" title="compile model" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">compile model</span></a></li><li><a href="#compile-the-model-exported-using-ptqqat" title="compile the model exported using PTQ/QAT" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block">compile the model exported using PTQ/QAT</span></a></li><li><a href="#package-multiple-models-into-one-hbm" title="package multiple models into one HBM" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">package multiple models into one HBM</span></a></li><li><a href="#model-static-perf" title="model static perf" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">model static perf</span></a></li><li><a href="#model-inference" title="model inference" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">model inference</span></a></li><li><a href="#hbir-model-modify" title="HBIR model modify" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">HBIR model modify</span></a></li><li><a href="#tensor-name-modify" title="tensor name modify" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block">tensor name modify</span></a></li><li><a href="#model-desc-modify" title="model desc modify" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block">model desc modify</span></a></li><li><a href="#insert-nodes" title="insert nodes" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block">insert nodes</span></a></li><li><a href="#remove-adjacent-nodes-in-the-input-and-output-of-the-model" title="remove adjacent nodes in the input and output of the model" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:24px;font-weight:semibold"><span class="aside-link-text block">remove adjacent nodes in the input and output of the model</span></a></li><li><a href="#hbm-modify" title="HBM modify" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">HBM modify</span></a></li></ul></nav></div></div></div></div></div></div></div></section></div></div><div id="search-container"></div></body></html>